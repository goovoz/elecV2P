(()=>{var e={669:(e,t,s)=>{e.exports=s(609)},448:(e,t,s)=>{"use strict";var i=s(867),n=s(26),a=s(372),r=s(327),o=s(97),l=s(109),c=s(985),u=s(61);e.exports=function(e){return new Promise((function(t,s){var h=e.data,d=e.headers,p=e.responseType;i.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+v)}var g=o(e.baseURL,e.url);function _(){if(f){var i="getAllResponseHeaders"in f?l(f.getAllResponseHeaders()):null,a={data:p&&"text"!==p&&"json"!==p?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f};n(t,s,a),f=null}}if(f.open(e.method.toUpperCase(),r(g,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=_:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(_)},f.onabort=function(){f&&(s(u("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){s(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),s(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var b=(e.withCredentials||c(g))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}"setRequestHeader"in f&&i.forEach(d,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),p&&"json"!==p&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),s(e),f=null)})),h||(h=null),f.send(h)}))}},609:(e,t,s)=>{"use strict";var i=s(867),n=s(849),a=s(321),r=s(185);function o(e){var t=new a(e),s=n(a.prototype.request,t);return i.extend(s,a.prototype,t),i.extend(s,t),s}var l=o(s(655));l.Axios=a,l.create=function(e){return o(r(l.defaults,e))},l.Cancel=s(263),l.CancelToken=s(972),l.isCancel=s(502),l.all=function(e){return Promise.all(e)},l.spread=s(713),l.isAxiosError=s(268),e.exports=l,e.exports.default=l},263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:(e,t,s)=>{"use strict";var i=s(263);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var s=this;e((function(e){s.reason||(s.reason=new i(e),t(s.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,s)=>{"use strict";var i=s(867),n=s(327),a=s(782),r=s(572),o=s(185),l=s(875),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var s=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));var n,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!i){var u=[r,void 0];for(Array.prototype.unshift.apply(u,s),u=u.concat(a),n=Promise.resolve(e);u.length;)n=n.then(u.shift(),u.shift());return n}for(var h=e;s.length;){var d=s.shift(),p=s.shift();try{h=d(h)}catch(e){p(e);break}}try{n=r(h)}catch(e){return Promise.reject(e)}for(;a.length;)n=n.then(a.shift(),a.shift());return n},u.prototype.getUri=function(e){return e=o(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,s){return this.request(o(s||{},{method:e,url:t,data:(s||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,s,i){return this.request(o(i||{},{method:e,url:t,data:s}))}})),e.exports=u},782:(e,t,s)=>{"use strict";var i=s(867);function n(){this.handlers=[]}n.prototype.use=function(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},97:(e,t,s)=>{"use strict";var i=s(793),n=s(303);e.exports=function(e,t){return e&&!i(t)?n(e,t):t}},61:(e,t,s)=>{"use strict";var i=s(481);e.exports=function(e,t,s,n,a){var r=new Error(e);return i(r,t,s,n,a)}},572:(e,t,s)=>{"use strict";var i=s(867),n=s(527),a=s(502),r=s(655);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||r.adapter)(e).then((function(t){return o(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(o(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,s,i,n){return e.config=t,s&&(e.code=s),e.request=i,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},185:(e,t,s)=>{"use strict";var i=s(867);e.exports=function(e,t){t=t||{};var s={},n=["url","method","data"],a=["headers","auth","proxy","params"],r=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function c(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(s[n]=l(void 0,e[n])):s[n]=l(e[n],t[n])}i.forEach(n,(function(e){i.isUndefined(t[e])||(s[e]=l(void 0,t[e]))})),i.forEach(a,c),i.forEach(r,(function(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(s[n]=l(void 0,e[n])):s[n]=l(void 0,t[n])})),i.forEach(o,(function(i){i in t?s[i]=l(e[i],t[i]):i in e&&(s[i]=l(void 0,e[i]))}));var u=n.concat(a).concat(r).concat(o),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return i.forEach(h,c),s}},26:(e,t,s)=>{"use strict";var i=s(61);e.exports=function(e,t,s){var n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(i("Request failed with status code "+s.status,s.config,null,s.request,s)):e(s)}},527:(e,t,s)=>{"use strict";var i=s(867),n=s(655);e.exports=function(e,t,s){var a=this||n;return i.forEach(s,(function(s){e=s.call(a,e,t)})),e}},655:(e,t,s)=>{"use strict";var i=s(867),n=s(16),a=s(481),r={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=s(448)),l),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(o(t,"application/json"),function(e,t,s){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,s=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,r=!s&&"json"===this.responseType;if(r||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(r)})),e.exports=c},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(t,s)}}},327:(e,t,s)=>{"use strict";var i=s(867);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,s){if(!t)return e;var a;if(s)a=s(t);else if(i.isURLSearchParams(t))a=t.toString();else{var r=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push(n(t)+"="+n(e))})))})),a=r.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,s)=>{"use strict";var i=s(867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,s,n,a,r){var o=[];o.push(e+"="+encodeURIComponent(t)),i.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),i.isString(n)&&o.push("path="+n),i.isString(a)&&o.push("domain="+a),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},985:(e,t,s)=>{"use strict";var i=s(867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function n(e){var i=e;return t&&(s.setAttribute("href",i),i=s.href),s.setAttribute("href",i),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}return e=n(window.location.href),function(t){var s=i.isString(t)?n(t):t;return s.protocol===e.protocol&&s.host===e.host}}():function(){return!0}},16:(e,t,s)=>{"use strict";var i=s(867);e.exports=function(e,t){i.forEach(e,(function(s,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[i])}))}},109:(e,t,s)=>{"use strict";var i=s(867),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,s,a,r={};return e?(i.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=i.trim(e.substr(0,a)).toLowerCase(),s=i.trim(e.substr(a+1)),t){if(r[t]&&n.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([s]):r[t]?r[t]+", "+s:s}})),r):r}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},875:(e,t,s)=>{"use strict";var i=s(593),n={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){n[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));var a={},r=i.version.split(".");function o(e,t){for(var s=t?t.split("."):r,i=e.split("."),n=0;n<3;n++){if(s[n]>i[n])return!0;if(s[n]<i[n])return!1}return!1}n.transitional=function(e,t,s){var n=t&&o(t);function r(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return function(s,i,o){if(!1===e)throw new Error(r(i," has been removed in "+t));return n&&!a[i]&&(a[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,i,o)}},e.exports={isOlderVersion:o,assertOptions:function(e,t,s){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),n=i.length;n-- >0;){var a=i[n],r=t[a];if(r){var o=e[a],l=void 0===o||r(o,a,e);if(!0!==l)throw new TypeError("option "+a+" must be "+l)}else if(!0!==s)throw Error("Unknown option "+a)}},validators:n}},867:(e,t,s)=>{"use strict";var i=s(849),n=Object.prototype.toString;function a(e){return"[object Array]"===n.call(e)}function r(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===n.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!r(e)&&null!==e.constructor&&!r(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:l,isUndefined:r,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:c,isStream:function(e){return o(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function s(s,i){l(t[i])&&l(s)?t[i]=e(t[i],s):l(s)?t[i]=e({},s):a(s)?t[i]=s.slice():t[i]=s}for(var i=0,n=arguments.length;i<n;i++)u(arguments[i],s);return t},extend:function(e,t,s){return u(t,(function(t,n){e[n]=s&&"function"==typeof t?i(t,s):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},764:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s="fb15")}({"0029":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"0185":function(e,t,s){var i=s("e5fa");e.exports=function(e){return Object(i(e))}},"01f9":function(e,t,s){"use strict";var i=s("2d00"),n=s("5ca1"),a=s("2aba"),r=s("32e9"),o=s("84f2"),l=s("41a0"),c=s("7f20"),u=s("38fd"),h=s("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",m="values",v=function(){return this};e.exports=function(e,t,s,g,_,b,y){l(s,t,g);var w,k,$,C=function(e){if(!d&&e in S)return S[e];switch(e){case f:case m:return function(){return new s(this,e)}}return function(){return new s(this,e)}},x=t+" Iterator",T=_==m,j=!1,S=e.prototype,O=S[h]||S[p]||_&&S[_],N=O||C(_),E=_?T?C("entries"):N:void 0,A="Array"==t&&S.entries||O;if(A&&($=u(A.call(new e)))!==Object.prototype&&$.next&&(c($,x,!0),i||"function"==typeof $[h]||r($,h,v)),T&&O&&O.name!==m&&(j=!0,N=function(){return O.call(this)}),i&&!y||!d&&!j&&S[h]||r(S,h,N),o[t]=N,o[x]=v,_)if(w={values:T?N:C(m),keys:b?N:C(f),entries:E},y)for(k in w)k in S||a(S,k,w[k]);else n(n.P+n.F*(d||j),t,w);return w}},"02f4":function(e,t,s){var i=s("4588"),n=s("be13");e.exports=function(e){return function(t,s){var a,r,o=String(n(t)),l=i(s),c=o.length;return l<0||l>=c?e?"":void 0:(a=o.charCodeAt(l))<55296||a>56319||l+1===c||(r=o.charCodeAt(l+1))<56320||r>57343?e?o.charAt(l):a:e?o.slice(l,l+2):r-56320+(a-55296<<10)+65536}}},"0a49":function(e,t,s){var i=s("9b43"),n=s("626a"),a=s("4bf8"),r=s("9def"),o=s("cd1c");e.exports=function(e,t){var s=1==e,l=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h,p=t||o;return function(t,o,f){for(var m,v,g=a(t),_=n(g),b=i(o,f,3),y=r(_.length),w=0,k=s?p(t,y):l?p(t,0):void 0;y>w;w++)if((d||w in _)&&(v=b(m=_[w],w,g),e))if(s)k[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(u)return!1;return h?-1:c||u?u:k}}},"0a91":function(e,t,s){s("b42c"),s("93c4"),e.exports=s("b77f")},"0bfb":function(e,t,s){"use strict";var i=s("cb7c");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d58":function(e,t,s){var i=s("ce10"),n=s("e11e");e.exports=Object.keys||function(e){return i(e,n)}},"0f89":function(e,t,s){var i=s("6f8a");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},"103a":function(e,t,s){var i=s("da3c").document;e.exports=i&&i.documentElement},1169:function(e,t,s){var i=s("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"11e9":function(e,t,s){var i=s("52a7"),n=s("4630"),a=s("6821"),r=s("6a99"),o=s("69a8"),l=s("c69a"),c=Object.getOwnPropertyDescriptor;t.f=s("9e1e")?c:function(e,t){if(e=a(e),t=r(t,!0),l)try{return c(e,t)}catch(e){}if(o(e,t))return n(!i.f.call(e,t),e[t])}},"12fd":function(e,t,s){var i=s("6f8a"),n=s("da3c").document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},1495:function(e,t,s){var i=s("86cc"),n=s("cb7c"),a=s("0d58");e.exports=s("9e1e")?Object.defineProperties:function(e,t){n(e);for(var s,r=a(t),o=r.length,l=0;o>l;)i.f(e,s=r[l++],t[s]);return e}},1938:function(e,t,s){var i=s("d13f");i(i.S,"Array",{isArray:s("b5aa")})},"1b55":function(e,t,s){var i=s("7772")("wks"),n=s("7b00"),a=s("da3c").Symbol,r="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=r&&a[e]||(r?a:n)("Symbol."+e))}).store=i},"1b8f":function(e,t,s){var i=s("a812"),n=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?n(e+t,0):a(e,t)}},"1c01":function(e,t,s){var i=s("5ca1");i(i.S+i.F*!s("9e1e"),"Object",{defineProperty:s("86cc").f})},"1fa8":function(e,t,s){var i=s("cb7c");e.exports=function(e,t,s,n){try{return n?t(i(s)[0],s[1]):t(s)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},"230e":function(e,t,s){var i=s("d3f4"),n=s("7726").document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},2312:function(e,t,s){e.exports=s("8ce0")},"23c6":function(e,t,s){var i=s("2d95"),n=s("2b4c")("toStringTag"),a="Arguments"==i(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,s,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=r(t=Object(e),n))?s:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},2418:function(e,t,s){var i=s("6a9b"),n=s("a5ab"),a=s("1b8f");e.exports=function(e){return function(t,s,r){var o,l=i(t),c=n(l.length),u=a(r,c);if(e&&s!=s){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===s)return e||u||0;return!e&&-1}}},"245b":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},2695:function(e,t,s){var i=s("43c8"),n=s("6a9b"),a=s("2418")(!1),r=s("5d8f")("IE_PROTO");e.exports=function(e,t){var s,o=n(e),l=0,c=[];for(s in o)s!=r&&i(o,s)&&c.push(s);for(;t.length>l;)i(o,s=t[l++])&&(~a(c,s)||c.push(s));return c}},"27ee":function(e,t,s){var i=s("23c6"),n=s("2b4c")("iterator"),a=s("84f2");e.exports=s("8378").getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||a[i(e)]}},"2a4e":function(e,t,s){var i=s("a812"),n=s("e5fa");e.exports=function(e){return function(t,s){var a,r,o=String(n(t)),l=i(s),c=o.length;return l<0||l>=c?e?"":void 0:(a=o.charCodeAt(l))<55296||a>56319||l+1===c||(r=o.charCodeAt(l+1))<56320||r>57343?e?o.charAt(l):a:e?o.slice(l,l+2):r-56320+(a-55296<<10)+65536}}},"2aba":function(e,t,s){var i=s("7726"),n=s("32e9"),a=s("69a8"),r=s("ca5a")("src"),o="toString",l=Function[o],c=(""+l).split(o);s("8378").inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,s,o){var l="function"==typeof s;l&&(a(s,"name")||n(s,"name",t)),e[t]!==s&&(l&&(a(s,r)||n(s,r,e[t]?""+e[t]:c.join(String(t)))),e===i?e[t]=s:o?e[t]?e[t]=s:n(e,t,s):(delete e[t],n(e,t,s)))})(Function.prototype,o,(function(){return"function"==typeof this&&this[r]||l.call(this)}))},"2aeb":function(e,t,s){var i=s("cb7c"),n=s("1495"),a=s("e11e"),r=s("613b")("IE_PROTO"),o=function(){},l="prototype",c=function(){var e,t=s("230e")("iframe"),i=a.length,n="<",r=">";for(t.style.display="none",s("fab2").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(n+"script"+r+"document.F=Object"+n+"/script"+r),e.close(),c=e.F;i--;)delete c[l][a[i]];return c()};e.exports=Object.create||function(e,t){var s;return null!==e?(o[l]=i(e),s=new o,o[l]=null,s[r]=e):s=c(),void 0===t?s:n(s,t)}},"2b4c":function(e,t,s){var i=s("5537")("wks"),n=s("ca5a"),a=s("7726").Symbol,r="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=r&&a[e]||(r?a:n)("Symbol."+e))}).store=i},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var s={}.toString;e.exports=function(e){return s.call(e).slice(8,-1)}},"2ea1":function(e,t,s){var i=s("6f8a");e.exports=function(e,t){if(!i(e))return e;var s,n;if(t&&"function"==typeof(s=e.toString)&&!i(n=s.call(e)))return n;if("function"==typeof(s=e.valueOf)&&!i(n=s.call(e)))return n;if(!t&&"function"==typeof(s=e.toString)&&!i(n=s.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},"2f21":function(e,t,s){"use strict";var i=s("79e5");e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"2fdb":function(e,t,s){"use strict";var i=s("5ca1"),n=s("d2c8"),a="includes";i(i.P+i.F*s("5147")(a),"String",{includes:function(e){return!!~n(this,e,a).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,s){var i=s("86cc"),n=s("4630");e.exports=s("9e1e")?function(e,t,s){return i.f(e,t,n(1,s))}:function(e,t,s){return e[t]=s,e}},"33a4":function(e,t,s){var i=s("84f2"),n=s("2b4c")("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[n]===e)}},3425:function(e,t,s){"use strict";var i=function(){var e,t=this,s=t.$createElement,i=t._self._c||s;return i("div",{class:[(e={},e[t.classNameActive]=t.enabled,e[t.classNameDragging]=t.dragging,e[t.classNameResizing]=t.resizing,e[t.classNameDraggable]=t.draggable,e[t.classNameResizable]=t.resizable,e),t.className],style:t.style,on:{mousedown:t.elementMouseDown,touchstart:t.elementTouchDown}},[t._l(t.actualHandles,(function(e){return i("div",{key:e,class:[t.classNameHandle,t.classNameHandle+"-"+e],style:{display:t.enabled?"block":"none"},on:{mousedown:function(s){s.stopPropagation(),s.preventDefault(),t.handleDown(e,s)},touchstart:function(s){s.stopPropagation(),s.preventDefault(),t.handleTouchDown(e,s)}}},[t._t(e)],2)})),t._v(" "),t._t("default")],2)},n=[],a=(s("1c01"),s("58b2"),s("8e6e"),s("f3e2"),s("456d"),s("85f2")),r=s.n(a);function o(e,t,s){return t in e?r()(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s("3b2b");var l=s("a745"),c=s.n(l);function u(e){if(c()(e))return e}var h=s("5d73"),d=s.n(h),p=s("c8bb"),f=s.n(p);function m(e,t){if(f()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var s=[],i=!0,n=!1,a=void 0;try{for(var r,o=d()(e);!(i=(r=o.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return s}}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(e,t){return u(e)||m(e,t)||v()}function _(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function b(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=g("number"==typeof i?[i,i]:i,2),a=n[0],r=n[1];return[Math.round(t/a/e[0])*e[0],Math.round(s/r/e[1])*e[1]]}function y(e,t,s){return e-t-s}function w(e,t,s){return e-t-s}function k(e,t,s){return null!==t&&e<t?t:null!==s&&s<e?s:e}function $(e,t,s){var i=e,n=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find((function(e){return _(i[e])}));if(!_(i[n]))return!1;do{if(i[n](t))return!0;if(i===s)return!1;i=i.parentNode}while(i);return!1}function C(e){var t=window.getComputedStyle(e);return[parseFloat(t.getPropertyValue("width"),10),parseFloat(t.getPropertyValue("height"),10)]}function x(e,t,s){e&&(e.attachEvent?e.attachEvent("on"+t,s):e.addEventListener?e.addEventListener(t,s,!0):e["on"+t]=s)}function T(e,t,s){e&&(e.detachEvent?e.detachEvent("on"+t,s):e.removeEventListener?e.removeEventListener(t,s,!0):e["on"+t]=null)}function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function S(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(s,!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}s("6762"),s("2fdb"),s("d25f"),s("ac6a"),s("cadf"),s("5df3"),s("4f7f"),s("c5f6"),s("7514"),s("6b54"),s("87b3");var O={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},N={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},E={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"},A=O.mouse,P={replace:!0,name:"vue-draggable-resizable",props:{className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:function(e){return"number"==typeof e?e>0:"auto"===e}},h:{type:[Number,String],default:200,validator:function(e){return"number"==typeof e?e>0:"auto"===e}},minWidth:{type:Number,default:0,validator:function(e){return e>=0}},minHeight:{type:Number,default:0,validator:function(e){return e>=0}},maxWidth:{type:Number,default:null,validator:function(e){return e>=0}},maxHeight:{type:Number,default:null,validator:function(e){return e>=0}},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:function(e){return"string"==typeof e?"auto"===e:e>=0}},handles:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]},validator:function(e){var t=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(e.filter((function(e){return t.has(e)}))).size===e.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:function(e){return["x","y","both"].includes(e)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:Boolean,default:!1},scale:{type:[Number,Array],default:1,validator:function(e){return"number"==typeof e?e>0:2===e.length&&e[0]>0&&e[1]>0}},onDragStart:{type:Function,default:function(){return!0}},onDrag:{type:Function,default:function(){return!0}},onResizeStart:{type:Function,default:function(){return!0}},onResize:{type:Function,default:function(){return!0}}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,dragEnable:!1,resizeEnable:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=function(){return!1});var e=g(this.getParentSize(),2),t=e[0],s=e[1];this.parentWidth=t,this.parentHeight=s;var i=g(C(this.$el),2),n=i[0],a=i[1];this.aspectFactor=("auto"!==this.w?this.w:n)/("auto"!==this.h?this.h:a),this.width="auto"!==this.w?this.w:n,this.height="auto"!==this.h?this.h:a,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.active&&this.$emit("activated"),x(document.documentElement,"mousedown",this.deselect),x(document.documentElement,"touchend touchcancel",this.deselect),x(window,"resize",this.checkParentSize)},beforeDestroy:function(){T(document.documentElement,"mousedown",this.deselect),T(document.documentElement,"touchstart",this.handleUp),T(document.documentElement,"mousemove",this.move),T(document.documentElement,"touchmove",this.move),T(document.documentElement,"mouseup",this.handleUp),T(document.documentElement,"touchend touchcancel",this.deselect),T(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState:function(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize:function(){if(this.parent){var e=g(this.getParentSize(),2),t=e[0],s=e[1];this.parentWidth=t,this.parentHeight=s,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top}},getParentSize:function(){if(this.parent){var e=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(e.getPropertyValue("width"),10),parseInt(e.getPropertyValue("height"),10)]}return[null,null]},elementTouchDown:function(e){A=O.touch,this.elementDown(e)},elementMouseDown:function(e){A=O.mouse,this.elementDown(e)},elementDown:function(e){if(!(e instanceof MouseEvent&&1!==e.which)){var t=e.target||e.srcElement;if(this.$el.contains(t)){if(!1===this.onDragStart(e))return;if(this.dragHandle&&!$(t,this.dragHandle,this.$el)||this.dragCancel&&$(t,this.dragCancel,this.$el))return void(this.dragging=!1);this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragEnable=!0),this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),x(document.documentElement,A.move,this.move),x(document.documentElement,A.stop,this.handleUp)}}},calcDragLimits:function(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect:function(e){var t=e.target||e.srcElement,s=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(t)||s.test(t.className)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),T(document.documentElement,A.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown:function(e,t){A=O.touch,this.handleDown(e,t)},handleDown:function(e,t){t instanceof MouseEvent&&1!==t.which||!1!==this.onResizeStart(e,t)&&(t.stopPropagation&&t.stopPropagation(),this.lockAspectRatio&&!e.includes("m")?this.handle="m"+e.substring(1):this.handle=e,this.resizeEnable=!0,this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),x(document.documentElement,A.move,this.handleResize),x(document.documentElement,A.stop,this.handleUp))},calcResizeLimits:function(){var e=this.minW,t=this.minH,s=this.maxW,i=this.maxH,n=this.aspectFactor,a=g(this.grid,2),r=a[0],o=a[1],l=this.width,c=this.height,u=this.left,h=this.top,d=this.right,p=this.bottom;this.lockAspectRatio&&(e/t>n?t=e/n:e=n*t,s&&i?(s=Math.min(s,n*i),i=Math.min(i,s/n)):s?i=s/n:i&&(s=n*i)),s-=s%r,i-=i%o;var f={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(f.minLeft=u%r,f.maxLeft=u+Math.floor((l-e)/r)*r,f.minTop=h%o,f.maxTop=h+Math.floor((c-t)/o)*o,f.minRight=d%r,f.maxRight=d+Math.floor((l-e)/r)*r,f.minBottom=p%o,f.maxBottom=p+Math.floor((c-t)/o)*o,s&&(f.minLeft=Math.max(f.minLeft,this.parentWidth-d-s),f.minRight=Math.max(f.minRight,this.parentWidth-u-s)),i&&(f.minTop=Math.max(f.minTop,this.parentHeight-p-i),f.minBottom=Math.max(f.minBottom,this.parentHeight-h-i)),this.lockAspectRatio&&(f.minLeft=Math.max(f.minLeft,u-h*n),f.minTop=Math.max(f.minTop,h-u/n),f.minRight=Math.max(f.minRight,d-p*n),f.minBottom=Math.max(f.minBottom,p-d/n))):(f.minLeft=null,f.maxLeft=u+Math.floor((l-e)/r)*r,f.minTop=null,f.maxTop=h+Math.floor((c-t)/o)*o,f.minRight=null,f.maxRight=d+Math.floor((l-e)/r)*r,f.minBottom=null,f.maxBottom=p+Math.floor((c-t)/o)*o,s&&(f.minLeft=-(d+s),f.minRight=-(u+s)),i&&(f.minTop=-(p+i),f.minBottom=-(h+i)),this.lockAspectRatio&&s&&i&&(f.minLeft=Math.min(f.minLeft,-(d+s)),f.minTop=Math.min(f.minTop,-(i+p)),f.minRight=Math.min(f.minRight,-u-s),f.minBottom=Math.min(f.minBottom,-h-i))),f},move:function(e){this.resizing?this.handleResize(e):this.dragEnable&&this.handleDrag(e)},handleDrag:function(e){var t=this.axis,s=this.grid,i=this.bounds,n=this.mouseClickPosition,a=g(b(s,t&&"y"!==t?n.mouseX-(e.touches?e.touches[0].pageX:e.pageX):0,t&&"x"!==t?n.mouseY-(e.touches?e.touches[0].pageY:e.pageY):0,this.scale),2),r=a[0],o=a[1],l=k(n.left-r,i.minLeft,i.maxLeft),c=k(n.top-o,i.minTop,i.maxTop);if(!1!==this.onDrag(l,c)){var u=k(n.right+r,i.minRight,i.maxRight),h=k(n.bottom+o,i.minBottom,i.maxBottom);this.left=l,this.top=c,this.right=u,this.bottom=h,this.$emit("dragging",this.left,this.top),this.dragging=!0}},moveHorizontally:function(e){var t=g(b(this.grid,e,this.top,1),2),s=t[0],i=(t[1],k(s,this.bounds.minLeft,this.bounds.maxLeft));this.left=i,this.right=this.parentWidth-this.width-i},moveVertically:function(e){var t=g(b(this.grid,this.left,e,1),2),s=k((t[0],t[1]),this.bounds.minTop,this.bounds.maxTop);this.top=s,this.bottom=this.parentHeight-this.height-s},handleResize:function(e){var t=this.left,s=this.top,i=this.right,n=this.bottom,a=this.mouseClickPosition,r=(this.lockAspectRatio,this.aspectFactor),o=a.mouseX-(e.touches?e.touches[0].pageX:e.pageX),l=a.mouseY-(e.touches?e.touches[0].pageY:e.pageY);!this.widthTouched&&o&&(this.widthTouched=!0),!this.heightTouched&&l&&(this.heightTouched=!0);var c=g(b(this.grid,o,l,this.scale),2),u=c[0],h=c[1];this.handle.includes("b")?(n=k(a.bottom+h,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(i=this.right-(this.bottom-n)*r)):this.handle.includes("t")&&(s=k(a.top-h,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(t=this.left-(this.top-s)*r)),this.handle.includes("r")?(i=k(a.right+u,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(n=this.bottom-(this.right-i)/r)):this.handle.includes("l")&&(t=k(a.left-u,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(s=this.top-(this.left-t)/r));var d=y(this.parentWidth,t,i),p=w(this.parentHeight,s,n);!1!==this.onResize(this.handle,t,s,d,p)&&(this.left=t,this.top=s,this.right=i,this.bottom=n,this.width=d,this.height=p,this.$emit("resizing",this.left,this.top,this.width,this.height),this.resizing=!0)},changeWidth:function(e){var t=g(b(this.grid,e,0,1),2),s=t[0],i=(t[1],k(this.parentWidth-s-this.left,this.bounds.minRight,this.bounds.maxRight)),n=this.bottom;this.lockAspectRatio&&(n=this.bottom-(this.right-i)/this.aspectFactor);var a=y(this.parentWidth,this.left,i),r=w(this.parentHeight,this.top,n);this.right=i,this.bottom=n,this.width=a,this.height=r},changeHeight:function(e){var t=g(b(this.grid,0,e,1),2),s=(t[0],t[1]),i=k(this.parentHeight-s-this.top,this.bounds.minBottom,this.bounds.maxBottom),n=this.right;this.lockAspectRatio&&(n=this.right-(this.bottom-i)*this.aspectFactor);var a=y(this.parentWidth,this.left,n),r=w(this.parentHeight,this.top,i);this.right=n,this.bottom=i,this.width=a,this.height=r},handleUp:function(e){this.handle=null,this.resetBoundsAndMouseState(),this.dragEnable=!1,this.resizeEnable=!1,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),T(document.documentElement,A.move,this.handleResize)}},computed:{style:function(){return S({transform:"translate(".concat(this.left,"px, ").concat(this.top,"px)"),width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex},this.dragging&&this.disableUserSelect?N:E)},actualHandles:function(){return this.resizable?this.handles:[]},computedWidth:function(){return"auto"!==this.w||this.widthTouched?this.width+"px":"auto"},computedHeight:function(){return"auto"!==this.h||this.heightTouched?this.height+"px":"auto"},resizingOnX:function(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY:function(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle:function(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active:function(e){this.enabled=e,e?this.$emit("activated"):this.$emit("deactivated")},z:function(e){(e>=0||"auto"===e)&&(this.zIndex=e)},x:function(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(e))},y:function(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(e))},lockAspectRatio:function(e){this.aspectFactor=e?this.width/this.height:void 0},minWidth:function(e){e>0&&e<=this.width&&(this.minW=e)},minHeight:function(e){e>0&&e<=this.height&&(this.minH=e)},maxWidth:function(e){this.maxW=e},maxHeight:function(e){this.maxH=e},w:function(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(e))},h:function(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(e))}}};function I(e,t,s,i,n,a,r,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}var F=I(P,i,n,!1,null,null,null);t.a=F.exports},3846:function(e,t,s){s("9e1e")&&"g"!=/./g.flags&&s("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:s("0bfb")})},"38fd":function(e,t,s){var i=s("69a8"),n=s("4bf8"),a=s("613b")("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},"3adc":function(e,t,s){var i=s("0f89"),n=s("a47f"),a=s("2ea1"),r=Object.defineProperty;t.f=s("7d95")?Object.defineProperty:function(e,t,s){if(i(e),t=a(t,!0),i(s),n)try{return r(e,t,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[t]=s.value),e}},"3b2b":function(e,t,s){var i=s("7726"),n=s("5dbc"),a=s("86cc").f,r=s("9093").f,o=s("aae3"),l=s("0bfb"),c=i.RegExp,u=c,h=c.prototype,d=/a/g,p=/a/g,f=new c(d)!==d;if(s("9e1e")&&(!f||s("79e5")((function(){return p[s("2b4c")("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")})))){c=function(e,t){var s=this instanceof c,i=o(e),a=void 0===t;return!s&&i&&e.constructor===c&&a?e:n(f?new u(i&&!a?e.source:e,t):u((i=e instanceof c)?e.source:e,i&&a?l.call(e):t),s?this:h,c)};for(var m=function(e){e in c||a(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},v=r(u),g=0;v.length>g;)m(v[g++]);h.constructor=c,c.prototype=h,s("2aba")(i,"RegExp",c)}s("7a56")("RegExp")},"41a0":function(e,t,s){"use strict";var i=s("2aeb"),n=s("4630"),a=s("7f20"),r={};s("32e9")(r,s("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,s){e.prototype=i(r,{next:n(1,s)}),a(e,t+" Iterator")}},"43c8":function(e,t){var s={}.hasOwnProperty;e.exports=function(e,t){return s.call(e,t)}},"456d":function(e,t,s){var i=s("4bf8"),n=s("0d58");s("5eda")("keys",(function(){return function(e){return n(i(e))}}))},4588:function(e,t){var s=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:s)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4a59":function(e,t,s){var i=s("9b43"),n=s("1fa8"),a=s("33a4"),r=s("cb7c"),o=s("9def"),l=s("27ee"),c={},u={};t=e.exports=function(e,t,s,h,d){var p,f,m,v,g=d?function(){return e}:l(e),_=i(s,h,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(p=o(e.length);p>b;b++)if((v=t?_(r(f=e[b])[0],f[1]):_(e[b]))===c||v===u)return v}else for(m=g.call(e);!(f=m.next()).done;)if((v=n(m,_,f.value,t))===c||v===u)return v},t.BREAK=c,t.RETURN=u},"4bf8":function(e,t,s){var i=s("be13");e.exports=function(e){return Object(i(e))}},"4f7f":function(e,t,s){"use strict";var i=s("c26b"),n=s("b39a"),a="Set";e.exports=s("e0b8")(a,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return i.def(n(this,a),e=0===e?0:e,e)}},i)},5147:function(e,t,s){var i=s("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(s){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,s){var i=s("8378"),n=s("7726"),a="__core-js_shared__",r=n[a]||(n[a]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:s("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"58b2":function(e,t,s){var i=s("5ca1");i(i.S+i.F*!s("9e1e"),"Object",{defineProperties:s("1495")})},"5ca1":function(e,t,s){var i=s("7726"),n=s("8378"),a=s("32e9"),r=s("2aba"),o=s("9b43"),l="prototype",c=function(e,t,s){var u,h,d,p,f=e&c.F,m=e&c.G,v=e&c.S,g=e&c.P,_=e&c.B,b=m?i:v?i[t]||(i[t]={}):(i[t]||{})[l],y=m?n:n[t]||(n[t]={}),w=y[l]||(y[l]={});for(u in m&&(s=t),s)d=((h=!f&&b&&void 0!==b[u])?b:s)[u],p=_&&h?o(d,i):g&&"function"==typeof d?o(Function.call,d):d,b&&r(b,u,d,e&c.U),y[u]!=d&&a(y,u,p),g&&w[u]!=d&&(w[u]=d)};i.core=n,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"5cc5":function(e,t,s){var i=s("2b4c")("iterator"),n=!1;try{var a=[7][i]();a.return=function(){n=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var s=!1;try{var a=[7],r=a[i]();r.next=function(){return{done:s=!0}},a[i]=function(){return r},e(a)}catch(e){}return s}},"5ce7":function(e,t,s){"use strict";var i=s("7108"),n=s("f845"),a=s("c0d8"),r={};s("8ce0")(r,s("1b55")("iterator"),(function(){return this})),e.exports=function(e,t,s){e.prototype=i(r,{next:n(1,s)}),a(e,t+" Iterator")}},"5d73":function(e,t,s){e.exports=s("0a91")},"5d8f":function(e,t,s){var i=s("7772")("keys"),n=s("7b00");e.exports=function(e){return i[e]||(i[e]=n(e))}},"5dbc":function(e,t,s){var i=s("d3f4"),n=s("8b97").set;e.exports=function(e,t,s){var a,r=t.constructor;return r!==s&&"function"==typeof r&&(a=r.prototype)!==s.prototype&&i(a)&&n&&n(e,a),e}},"5df3":function(e,t,s){"use strict";var i=s("02f4")(!0);s("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,s=this._i;return s>=t.length?{value:void 0,done:!0}:(e=i(t,s),this._i+=e.length,{value:e,done:!1})}))},"5eda":function(e,t,s){var i=s("5ca1"),n=s("8378"),a=s("79e5");e.exports=function(e,t){var s=(n.Object||{})[e]||Object[e],r={};r[e]=t(s),i(i.S+i.F*a((function(){s(1)})),"Object",r)}},"613b":function(e,t,s){var i=s("5537")("keys"),n=s("ca5a");e.exports=function(e){return i[e]||(i[e]=n(e))}},"626a":function(e,t,s){var i=s("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},6762:function(e,t,s){"use strict";var i=s("5ca1"),n=s("c366")(!0);i(i.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")("includes")},"67ab":function(e,t,s){var i=s("ca5a")("meta"),n=s("d3f4"),a=s("69a8"),r=s("86cc").f,o=0,l=Object.isExtensible||function(){return!0},c=!s("79e5")((function(){return l(Object.preventExtensions({}))})),u=function(e){r(e,i,{value:{i:"O"+ ++o,w:{}}})},h=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},d=function(e,t){if(!a(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},p=function(e){return c&&f.NEED&&l(e)&&!a(e,i)&&u(e),e},f=e.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:p}},6821:function(e,t,s){var i=s("626a"),n=s("be13");e.exports=function(e){return i(n(e))}},"69a8":function(e,t){var s={}.hasOwnProperty;e.exports=function(e,t){return s.call(e,t)}},"6a99":function(e,t,s){var i=s("d3f4");e.exports=function(e,t){if(!i(e))return e;var s,n;if(t&&"function"==typeof(s=e.toString)&&!i(n=s.call(e)))return n;if("function"==typeof(s=e.valueOf)&&!i(n=s.call(e)))return n;if(!t&&"function"==typeof(s=e.toString)&&!i(n=s.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},"6a9b":function(e,t,s){var i=s("8bab"),n=s("e5fa");e.exports=function(e){return i(n(e))}},"6b54":function(e,t,s){"use strict";s("3846");var i=s("cb7c"),n=s("0bfb"),a=s("9e1e"),r="toString",o=/./[r],l=function(e){s("2aba")(RegExp.prototype,r,e,!0)};s("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?l((function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?n.call(e):void 0)})):o.name!=r&&l((function(){return o.call(this)}))},"6e1f":function(e,t){var s={}.toString;e.exports=function(e){return s.call(e).slice(8,-1)}},"6f42":function(e,t,s){},"6f8a":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},7108:function(e,t,s){var i=s("0f89"),n=s("f568"),a=s("0029"),r=s("5d8f")("IE_PROTO"),o=function(){},l="prototype",c=function(){var e,t=s("12fd")("iframe"),i=a.length,n="<",r=">";for(t.style.display="none",s("103a").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(n+"script"+r+"document.F=Object"+n+"/script"+r),e.close(),c=e.F;i--;)delete c[l][a[i]];return c()};e.exports=Object.create||function(e,t){var s;return null!==e?(o[l]=i(e),s=new o,o[l]=null,s[r]=e):s=c(),void 0===t?s:n(s,t)}},7514:function(e,t,s){"use strict";var i=s("5ca1"),n=s("0a49")(5),a="find",r=!0;a in[]&&Array(1)[a]((function(){r=!1})),i(i.P+i.F*r,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(a)},7633:function(e,t,s){var i=s("2695"),n=s("0029");e.exports=Object.keys||function(e){return i(e,n)}},7726:function(e,t){var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},7772:function(e,t,s){var i=s("a7d3"),n=s("da3c"),a="__core-js_shared__",r=n[a]||(n[a]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:s("b457")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"77f1":function(e,t,s){var i=s("4588"),n=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?n(e+t,0):a(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7a56":function(e,t,s){"use strict";var i=s("7726"),n=s("86cc"),a=s("9e1e"),r=s("2b4c")("species");e.exports=function(e){var t=i[e];a&&t&&!t[r]&&n.f(t,r,{configurable:!0,get:function(){return this}})}},"7b00":function(e,t){var s=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+i).toString(36))}},"7d8a":function(e,t,s){var i=s("6e1f"),n=s("1b55")("toStringTag"),a="Arguments"==i(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,s,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=r(t=Object(e),n))?s:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},"7d95":function(e,t,s){e.exports=!s("d782")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"7f20":function(e,t,s){var i=s("86cc").f,n=s("69a8"),a=s("2b4c")("toStringTag");e.exports=function(e,t,s){e&&!n(e=s?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},8378:function(e,t){var s=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=s)},"84f2":function(e,t){e.exports={}},"85f2":function(e,t,s){e.exports=s("ec5b")},"86cc":function(e,t,s){var i=s("cb7c"),n=s("c69a"),a=s("6a99"),r=Object.defineProperty;t.f=s("9e1e")?Object.defineProperty:function(e,t,s){if(i(e),t=a(t,!0),i(s),n)try{return r(e,t,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[t]=s.value),e}},"87b3":function(e,t,s){var i=Date.prototype,n="Invalid Date",a="toString",r=i[a],o=i.getTime;new Date(NaN)+""!=n&&s("2aba")(i,a,(function(){var e=o.call(this);return e==e?r.call(this):n}))},8875:function(e,t,s){var i,n,a,r;"undefined"!=typeof self&&self,r=function(){function e(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(u){var e,t,s,i=/@([^@]*):(\d+):(\d+)\s*$/gi,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(u.stack)||i.exec(u.stack),a=n&&n[1]||!1,r=n&&n[2]||!1,o=document.location.href.replace(document.location.hash,""),l=document.getElementsByTagName("script");a===o&&(e=document.documentElement.outerHTML,t=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),s=e.replace(t,"$1").trim());for(var c=0;c<l.length;c++){if("interactive"===l[c].readyState)return l[c];if(l[c].src===a)return l[c];if(a===o&&l[c].innerHTML&&l[c].innerHTML.trim()===s)return l[c]}return null}}return e},n=[],void 0===(a="function"==typeof(i=r)?i.apply(t,n):i)||(e.exports=a)},"89ca":function(e,t,s){s("b42c"),s("93c4"),e.exports=s("d38f")},"8b97":function(e,t,s){var i=s("d3f4"),n=s("cb7c"),a=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=s("9b43")(Function.call,s("11e9").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,s){return a(e,s),t?e.__proto__=s:i(e,s),e}}({},!1):void 0),check:a}},"8bab":function(e,t,s){var i=s("6e1f");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},"8ce0":function(e,t,s){var i=s("3adc"),n=s("f845");e.exports=s("7d95")?function(e,t,s){return i.f(e,t,n(1,s))}:function(e,t,s){return e[t]=s,e}},"8e6e":function(e,t,s){var i=s("5ca1"),n=s("990b"),a=s("6821"),r=s("11e9"),o=s("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,s,i=a(e),l=r.f,c=n(i),u={},h=0;c.length>h;)void 0!==(s=l(i,t=c[h++]))&&o(u,t,s);return u}})},9093:function(e,t,s){var i=s("ce10"),n=s("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},"93c4":function(e,t,s){"use strict";var i=s("2a4e")(!0);s("e4a9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,s=this._i;return s>=t.length?{value:void 0,done:!0}:(e=i(t,s),this._i+=e.length,{value:e,done:!1})}))},"990b":function(e,t,s){var i=s("9093"),n=s("2621"),a=s("cb7c"),r=s("7726").Reflect;e.exports=r&&r.ownKeys||function(e){var t=i.f(a(e)),s=n.f;return s?t.concat(s(e)):t}},"9b43":function(e,t,s){var i=s("d8e8");e.exports=function(e,t,s){if(i(e),void 0===t)return e;switch(s){case 1:return function(s){return e.call(t,s)};case 2:return function(s,i){return e.call(t,s,i)};case 3:return function(s,i,n){return e.call(t,s,i,n)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,s){var i=s("2b4c")("unscopables"),n=Array.prototype;null==n[i]&&s("32e9")(n,i,{}),e.exports=function(e){n[i][e]=!0}},"9def":function(e,t,s){var i=s("4588"),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},"9e1e":function(e,t,s){e.exports=!s("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a47f:function(e,t,s){e.exports=!s("7d95")&&!s("d782")((function(){return 7!=Object.defineProperty(s("12fd")("div"),"a",{get:function(){return 7}}).a}))},a5ab:function(e,t,s){var i=s("a812"),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},a745:function(e,t,s){e.exports=s("d604")},a7d3:function(e,t){var s=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=s)},a812:function(e,t){var s=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:s)(e)}},aa77:function(e,t,s){var i=s("5ca1"),n=s("be13"),a=s("79e5"),r=s("fdef"),o="["+r+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),h=function(e,t,s){var n={},o=a((function(){return!!r[e]()||l[e]()!=l})),c=n[e]=o?t(d):r[e];s&&(n[s]=c),i(i.P+i.F*o,"String",n)},d=h.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=h},aae3:function(e,t,s){var i=s("d3f4"),n=s("2d95"),a=s("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==n(e))}},ac6a:function(e,t,s){for(var i=s("cadf"),n=s("0d58"),a=s("2aba"),r=s("7726"),o=s("32e9"),l=s("84f2"),c=s("2b4c"),u=c("iterator"),h=c("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(p),m=0;m<f.length;m++){var v,g=f[m],_=p[g],b=r[g],y=b&&b.prototype;if(y&&(y[u]||o(y,u,d),y[h]||o(y,h,g),l[g]=d,_))for(v in i)y[v]||a(y,v,i[v],!0)}},b22a:function(e,t){e.exports={}},b39a:function(e,t,s){var i=s("d3f4");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},b3e7:function(e,t){e.exports=function(){}},b42c:function(e,t,s){s("fa54");for(var i=s("da3c"),n=s("8ce0"),a=s("b22a"),r=s("1b55")("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<o.length;l++){var c=o[l],u=i[c],h=u&&u.prototype;h&&!h[r]&&n(h,r,c),a[c]=a.Array}},b457:function(e,t){e.exports=!0},b5aa:function(e,t,s){var i=s("6e1f");e.exports=Array.isArray||function(e){return"Array"==i(e)}},b635:function(e,t,s){"use strict";(function(e){s.d(t,"b",(function(){return n})),s("6f42");var i=s("3425");function n(e){n.installed||(n.installed=!0,e.component("VueDraggableResizable",i.a))}var a={install:n},r=null;"undefined"!=typeof window?r=window.Vue:void 0!==e&&(r=e.Vue),r&&r.use(a),t.a=i.a}).call(this,s("c8ba"))},b77f:function(e,t,s){var i=s("0f89"),n=s("f159");e.exports=s("a7d3").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},bc25:function(e,t,s){var i=s("f2fe");e.exports=function(e,t,s){if(i(e),void 0===t)return e;switch(s){case 1:return function(s){return e.call(t,s)};case 2:return function(s,i){return e.call(t,s,i)};case 3:return function(s,i,n){return e.call(t,s,i,n)}}return function(){return e.apply(t,arguments)}}},be13:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},c0d8:function(e,t,s){var i=s("3adc").f,n=s("43c8"),a=s("1b55")("toStringTag");e.exports=function(e,t,s){e&&!n(e=s?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},c26b:function(e,t,s){"use strict";var i=s("86cc").f,n=s("2aeb"),a=s("dcbc"),r=s("9b43"),o=s("f605"),l=s("4a59"),c=s("01f9"),u=s("d53b"),h=s("7a56"),d=s("9e1e"),p=s("67ab").fastKey,f=s("b39a"),m=d?"_s":"size",v=function(e,t){var s,i=p(t);if("F"!==i)return e._i[i];for(s=e._f;s;s=s.n)if(s.k==t)return s};e.exports={getConstructor:function(e,t,s,c){var u=e((function(e,i){o(e,u,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[m]=0,null!=i&&l(i,s,e[c],e)}));return a(u.prototype,{clear:function(){for(var e=f(this,t),s=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete s[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var s=f(this,t),i=v(s,e);if(i){var n=i.n,a=i.p;delete s._i[i.i],i.r=!0,a&&(a.n=n),n&&(n.p=a),s._f==i&&(s._f=n),s._l==i&&(s._l=a),s[m]--}return!!i},forEach:function(e){f(this,t);for(var s,i=r(e,arguments.length>1?arguments[1]:void 0,3);s=s?s.n:this._f;)for(i(s.v,s.k,this);s&&s.r;)s=s.p},has:function(e){return!!v(f(this,t),e)}}),d&&i(u.prototype,"size",{get:function(){return f(this,t)[m]}}),u},def:function(e,t,s){var i,n,a=v(e,t);return a?a.v=s:(e._l=a={i:n=p(t,!0),k:t,v:s,p:i=e._l,n:void 0,r:!1},e._f||(e._f=a),i&&(i.n=a),e[m]++,"F"!==n&&(e._i[n]=a)),e},getEntry:v,setStrong:function(e,t,s){c(e,t,(function(e,s){this._t=f(e,t),this._k=s,this._l=void 0}),(function(){for(var e=this,t=e._k,s=e._l;s&&s.r;)s=s.p;return e._t&&(e._l=s=s?s.n:e._t._f)?u(0,"keys"==t?s.k:"values"==t?s.v:[s.k,s.v]):(e._t=void 0,u(1))}),s?"entries":"values",!s,!0),h(t)}}},c366:function(e,t,s){var i=s("6821"),n=s("9def"),a=s("77f1");e.exports=function(e){return function(t,s,r){var o,l=i(t),c=n(l.length),u=a(r,c);if(e&&s!=s){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===s)return e||u||0;return!e&&-1}}},c5f6:function(e,t,s){"use strict";var i=s("7726"),n=s("69a8"),a=s("2d95"),r=s("5dbc"),o=s("6a99"),l=s("79e5"),c=s("9093").f,u=s("11e9").f,h=s("86cc").f,d=s("aa77").trim,p="Number",f=i[p],m=f,v=f.prototype,g=a(s("2aeb")(v))==p,_="trim"in String.prototype,b=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){var s,i,n,a=(t=_?t.trim():d(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(s=t.charCodeAt(2))||120===s)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var r,l=t.slice(2),c=0,u=l.length;c<u;c++)if((r=l.charCodeAt(c))<48||r>n)return NaN;return parseInt(l,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,s=this;return s instanceof f&&(g?l((function(){v.valueOf.call(s)})):a(s)!=p)?r(new m(b(t)),s,f):b(t)};for(var y,w=s("9e1e")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)n(m,y=w[k])&&!n(f,y)&&h(f,y,u(m,y));f.prototype=v,v.constructor=f,s("2aba")(i,p,f)}},c69a:function(e,t,s){e.exports=!s("9e1e")&&!s("79e5")((function(){return 7!=Object.defineProperty(s("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(e){"object"==typeof window&&(s=window)}e.exports=s},c8bb:function(e,t,s){e.exports=s("89ca")},ca5a:function(e,t){var s=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+i).toString(36))}},cadf:function(e,t,s){"use strict";var i=s("9c6c"),n=s("d53b"),a=s("84f2"),r=s("6821");e.exports=s("01f9")(Array,"Array",(function(e,t){this._t=r(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?s:"values"==t?e[s]:[s,e[s]])}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},cb7c:function(e,t,s){var i=s("d3f4");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},cd1c:function(e,t,s){var i=s("e853");e.exports=function(e,t){return new(i(e))(t)}},ce10:function(e,t,s){var i=s("69a8"),n=s("6821"),a=s("c366")(!1),r=s("613b")("IE_PROTO");e.exports=function(e,t){var s,o=n(e),l=0,c=[];for(s in o)s!=r&&i(o,s)&&c.push(s);for(;t.length>l;)i(o,s=t[l++])&&(~a(c,s)||c.push(s));return c}},d13f:function(e,t,s){var i=s("da3c"),n=s("a7d3"),a=s("bc25"),r=s("8ce0"),o=s("43c8"),l="prototype",c=function(e,t,s){var u,h,d,p=e&c.F,f=e&c.G,m=e&c.S,v=e&c.P,g=e&c.B,_=e&c.W,b=f?n:n[t]||(n[t]={}),y=b[l],w=f?i:m?i[t]:(i[t]||{})[l];for(u in f&&(s=t),s)(h=!p&&w&&void 0!==w[u])&&o(b,u)||(d=h?w[u]:s[u],b[u]=f&&"function"!=typeof w[u]?s[u]:g&&h?a(d,i):_&&w[u]==d?function(e){var t=function(t,s,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,s)}return new e(t,s,i)}return e.apply(this,arguments)};return t[l]=e[l],t}(d):v&&"function"==typeof d?a(Function.call,d):d,v&&((b.virtual||(b.virtual={}))[u]=d,e&c.R&&y&&!y[u]&&r(y,u,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},d25f:function(e,t,s){"use strict";var i=s("5ca1"),n=s("0a49")(2);i(i.P+i.F*!s("2f21")([].filter,!0),"Array",{filter:function(e){return n(this,e,arguments[1])}})},d2c8:function(e,t,s){var i=s("aae3"),n=s("be13");e.exports=function(e,t,s){if(i(t))throw TypeError("String#"+s+" doesn't accept regex!");return String(n(e))}},d38f:function(e,t,s){var i=s("7d8a"),n=s("1b55")("iterator"),a=s("b22a");e.exports=s("a7d3").isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||a.hasOwnProperty(i(t))}},d3f4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d604:function(e,t,s){s("1938"),e.exports=s("a7d3").Array.isArray},d782:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},da3c:function(e,t){var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},dcbc:function(e,t,s){var i=s("2aba");e.exports=function(e,t,s){for(var n in t)i(e,n,t[n],s);return e}},e0b8:function(e,t,s){"use strict";var i=s("7726"),n=s("5ca1"),a=s("2aba"),r=s("dcbc"),o=s("67ab"),l=s("4a59"),c=s("f605"),u=s("d3f4"),h=s("79e5"),d=s("5cc5"),p=s("7f20"),f=s("5dbc");e.exports=function(e,t,s,m,v,g){var _=i[e],b=_,y=v?"set":"add",w=b&&b.prototype,k={},$=function(e){var t=w[e];a(w,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,s){return t.call(this,0===e?0:e,s),this})};if("function"==typeof b&&(g||w.forEach&&!h((function(){(new b).entries().next()})))){var C=new b,x=C[y](g?{}:-0,1)!=C,T=h((function(){C.has(1)})),j=d((function(e){new b(e)})),S=!g&&h((function(){for(var e=new b,t=5;t--;)e[y](t,t);return!e.has(-0)}));j||(b=t((function(t,s){c(t,b,e);var i=f(new _,t,b);return null!=s&&l(s,v,i[y],i),i})),b.prototype=w,w.constructor=b),(T||S)&&($("delete"),$("has"),v&&$("get")),(S||x)&&$(y),g&&w.clear&&delete w.clear}else b=m.getConstructor(t,e,v,y),r(b.prototype,s),o.NEED=!0;return p(b,e),k[e]=b,n(n.G+n.W+n.F*(b!=_),k),g||m.setStrong(b,e,v),b}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e341:function(e,t,s){var i=s("d13f");i(i.S+i.F*!s("7d95"),"Object",{defineProperty:s("3adc").f})},e4a9:function(e,t,s){"use strict";var i=s("b457"),n=s("d13f"),a=s("2312"),r=s("8ce0"),o=s("b22a"),l=s("5ce7"),c=s("c0d8"),u=s("ff0c"),h=s("1b55")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",m="values",v=function(){return this};e.exports=function(e,t,s,g,_,b,y){l(s,t,g);var w,k,$,C=function(e){if(!d&&e in S)return S[e];switch(e){case f:case m:return function(){return new s(this,e)}}return function(){return new s(this,e)}},x=t+" Iterator",T=_==m,j=!1,S=e.prototype,O=S[h]||S[p]||_&&S[_],N=O||C(_),E=_?T?C("entries"):N:void 0,A="Array"==t&&S.entries||O;if(A&&($=u(A.call(new e)))!==Object.prototype&&$.next&&(c($,x,!0),i||"function"==typeof $[h]||r($,h,v)),T&&O&&O.name!==m&&(j=!0,N=function(){return O.call(this)}),i&&!y||!d&&!j&&S[h]||r(S,h,N),o[t]=N,o[x]=v,_)if(w={values:T?N:C(m),keys:b?N:C(f),entries:E},y)for(k in w)k in S||a(S,k,w[k]);else n(n.P+n.F*(d||j),t,w);return w}},e5fa:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},e853:function(e,t,s){var i=s("d3f4"),n=s("1169"),a=s("2b4c")("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},ec5b:function(e,t,s){s("e341");var i=s("a7d3").Object;e.exports=function(e,t,s){return i.defineProperty(e,t,s)}},f159:function(e,t,s){var i=s("7d8a"),n=s("1b55")("iterator"),a=s("b22a");e.exports=s("a7d3").getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||a[i(e)]}},f1ae:function(e,t,s){"use strict";var i=s("86cc"),n=s("4630");e.exports=function(e,t,s){t in e?i.f(e,t,n(0,s)):e[t]=s}},f2fe:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},f3e2:function(e,t,s){"use strict";var i=s("5ca1"),n=s("0a49")(0),a=s("2f21")([].forEach,!0);i(i.P+i.F*!a,"Array",{forEach:function(e){return n(this,e,arguments[1])}})},f568:function(e,t,s){var i=s("3adc"),n=s("0f89"),a=s("7633");e.exports=s("7d95")?Object.defineProperties:function(e,t){n(e);for(var s,r=a(t),o=r.length,l=0;o>l;)i.f(e,s=r[l++],t[s]);return e}},f605:function(e,t){e.exports=function(e,t,s,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(s+": incorrect invocation!");return e}},f845:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},fa54:function(e,t,s){"use strict";var i=s("b3e7"),n=s("245b"),a=s("b22a"),r=s("6a9b");e.exports=s("e4a9")(Array,"Array",(function(e,t){this._t=r(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?s:"values"==t?e[s]:[s,e[s]])}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},fab2:function(e,t,s){var i=s("7726").document;e.exports=i&&i.documentElement},fb15:function(e,t,s){"use strict";if(s.r(t),s.d(t,"install",(function(){return r.b})),"undefined"!=typeof window){var i=window.document.currentScript,n=s("8875");i=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var a=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(s.p=a[1])}var r=s("b635");t.default=r.a},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},ff0c:function(e,t,s){var i=s("43c8"),n=s("0185"),a=s("5d8f")("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}}}).default},593:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{"use strict";var e={};s.r(e),s.d(e,{copy:()=>Ha,copyToClipboard:()=>Ra,focusOn:()=>Ia,getCursorPos:()=>Oa,getFile:()=>Ma,getLang:()=>za,getUA:()=>Ua,injectJs:()=>Da,open:()=>Sa,saveAsFile:()=>Fa,scrollBottom:()=>Aa,scrollView:()=>Pa,store:()=>Ea});var t={};s.r(t),s.d(t,{UUID:()=>Wa,bEmpty:()=>Ka,bufferToHex:()=>sr,euid:()=>qa,hexToBuffer:()=>ir,iRandom:()=>Ya,logHead:()=>Qa,randomColor:()=>nr,sBool:()=>Ga,sJson:()=>Va,sString:()=>Ba,sTime:()=>Xa,sType:()=>La,sUrl:()=>Ja,surlName:()=>er});
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(e){return null==e}function a(e){return null!=e}function r(e){return!0===e}function o(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function l(e){return null!==e&&"object"==typeof e}var c=Object.prototype.toString;function u(e){return"[object Object]"===c.call(e)}function h(e){return"[object RegExp]"===c.call(e)}function d(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return a(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var s=Object.create(null),i=e.split(","),n=0;n<i.length;n++)s[i[n]]=!0;return t?function(e){return s[e.toLowerCase()]}:function(e){return s[e]}}v("slot,component",!0);var g=v("key,ref,slot,slot-scope,is");function _(e,t){if(e.length){var s=e.indexOf(t);if(s>-1)return e.splice(s,1)}}var b=Object.prototype.hasOwnProperty;function y(e,t){return b.call(e,t)}function w(e){var t=Object.create(null);return function(s){return t[s]||(t[s]=e(s))}}var k=/-(\w)/g,$=w((function(e){return e.replace(k,(function(e,t){return t?t.toUpperCase():""}))})),C=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),x=/\B([A-Z])/g,T=w((function(e){return e.replace(x,"-$1").toLowerCase()}));var j=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function s(s){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,s):e.call(t)}return s._length=e.length,s};function S(e,t){t=t||0;for(var s=e.length-t,i=new Array(s);s--;)i[s]=e[s+t];return i}function O(e,t){for(var s in t)e[s]=t[s];return e}function N(e){for(var t={},s=0;s<e.length;s++)e[s]&&O(t,e[s]);return t}function E(e,t,s){}var A=function(e,t,s){return!1},P=function(e){return e};function I(e,t){if(e===t)return!0;var s=l(e),i=l(t);if(!s||!i)return!s&&!i&&String(e)===String(t);try{var n=Array.isArray(e),a=Array.isArray(t);if(n&&a)return e.length===t.length&&e.every((function(e,s){return I(e,t[s])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(n||a)return!1;var r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every((function(s){return I(e[s],t[s])}))}catch(e){return!1}}function F(e,t){for(var s=0;s<e.length;s++)if(I(e[s],t))return s;return-1}function D(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var H="data-server-rendered",R=["component","directive","filter"],M=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:A,isReservedAttr:A,isUnknownElement:A,getTagNamespace:E,parsePlatformTagName:P,mustUseProp:A,async:!0,_lifecycleHooks:M},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function L(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function V(e,t,s,i){Object.defineProperty(e,t,{value:s,enumerable:!!i,writable:!0,configurable:!0})}var B=new RegExp("[^"+U.source+".$_\\d]");var G,K="__proto__"in{},J="undefined"!=typeof window,q="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,W=q&&WXEnvironment.platform.toLowerCase(),Y=J&&window.navigator.userAgent.toLowerCase(),X=Y&&/msie|trident/.test(Y),Z=Y&&Y.indexOf("msie 9.0")>0,Q=Y&&Y.indexOf("edge/")>0,ee=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===W),te=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),se={}.watch,ie=!1;if(J)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ie=!0}}),window.addEventListener("test-passive",null,ne)}catch(e){}var ae=function(){return void 0===G&&(G=!J&&!q&&void 0!==s.g&&(s.g.process&&"server"===s.g.process.env.VUE_ENV)),G},re=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function oe(e){return"function"==typeof e&&/native code/.test(e.toString())}var le,ce="undefined"!=typeof Symbol&&oe(Symbol)&&"undefined"!=typeof Reflect&&oe(Reflect.ownKeys);le="undefined"!=typeof Set&&oe(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ue=E,he=0,de=function(){this.id=he++,this.subs=[]};de.prototype.addSub=function(e){this.subs.push(e)},de.prototype.removeSub=function(e){_(this.subs,e)},de.prototype.depend=function(){de.target&&de.target.addDep(this)},de.prototype.notify=function(){var e=this.subs.slice();for(var t=0,s=e.length;t<s;t++)e[t].update()},de.target=null;var pe=[];function fe(e){pe.push(e),de.target=e}function me(){pe.pop(),de.target=pe[pe.length-1]}var ve=function(e,t,s,i,n,a,r,o){this.tag=e,this.data=t,this.children=s,this.text=i,this.elm=n,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=r,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ge={child:{configurable:!0}};ge.child.get=function(){return this.componentInstance},Object.defineProperties(ve.prototype,ge);var _e=function(e){void 0===e&&(e="");var t=new ve;return t.text=e,t.isComment=!0,t};function be(e){return new ve(void 0,void 0,void 0,String(e))}function ye(e){var t=new ve(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var we=Array.prototype,ke=Object.create(we);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=we[e];V(ke,e,(function(){for(var s=[],i=arguments.length;i--;)s[i]=arguments[i];var n,a=t.apply(this,s),r=this.__ob__;switch(e){case"push":case"unshift":n=s;break;case"splice":n=s.slice(2)}return n&&r.observeArray(n),r.dep.notify(),a}))}));var $e=Object.getOwnPropertyNames(ke),Ce=!0;function xe(e){Ce=e}var Te=function(e){this.value=e,this.dep=new de,this.vmCount=0,V(e,"__ob__",this),Array.isArray(e)?(K?function(e,t){e.__proto__=t}(e,ke):function(e,t,s){for(var i=0,n=s.length;i<n;i++){var a=s[i];V(e,a,t[a])}}(e,ke,$e),this.observeArray(e)):this.walk(e)};function je(e,t){var s;if(l(e)&&!(e instanceof ve))return y(e,"__ob__")&&e.__ob__ instanceof Te?s=e.__ob__:Ce&&!ae()&&(Array.isArray(e)||u(e))&&Object.isExtensible(e)&&!e._isVue&&(s=new Te(e)),t&&s&&s.vmCount++,s}function Se(e,t,s,i,n){var a=new de,r=Object.getOwnPropertyDescriptor(e,t);if(!r||!1!==r.configurable){var o=r&&r.get,l=r&&r.set;o&&!l||2!==arguments.length||(s=e[t]);var c=!n&&je(s);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=o?o.call(e):s;return de.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(t)&&Ee(t))),t},set:function(t){var i=o?o.call(e):s;t===i||t!=t&&i!=i||o&&!l||(l?l.call(e,t):s=t,c=!n&&je(t),a.notify())}})}}function Oe(e,t,s){if(Array.isArray(e)&&d(t))return e.length=Math.max(e.length,t),e.splice(t,1,s),s;if(t in e&&!(t in Object.prototype))return e[t]=s,s;var i=e.__ob__;return e._isVue||i&&i.vmCount?s:i?(Se(i.value,t,s),i.dep.notify(),s):(e[t]=s,s)}function Ne(e,t){if(Array.isArray(e)&&d(t))e.splice(t,1);else{var s=e.__ob__;e._isVue||s&&s.vmCount||y(e,t)&&(delete e[t],s&&s.dep.notify())}}function Ee(e){for(var t=void 0,s=0,i=e.length;s<i;s++)(t=e[s])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Ee(t)}Te.prototype.walk=function(e){for(var t=Object.keys(e),s=0;s<t.length;s++)Se(e,t[s])},Te.prototype.observeArray=function(e){for(var t=0,s=e.length;t<s;t++)je(e[t])};var Ae=z.optionMergeStrategies;function Pe(e,t){if(!t)return e;for(var s,i,n,a=ce?Reflect.ownKeys(t):Object.keys(t),r=0;r<a.length;r++)"__ob__"!==(s=a[r])&&(i=e[s],n=t[s],y(e,s)?i!==n&&u(i)&&u(n)&&Pe(i,n):Oe(e,s,n));return e}function Ie(e,t,s){return s?function(){var i="function"==typeof t?t.call(s,s):t,n="function"==typeof e?e.call(s,s):e;return i?Pe(i,n):n}:t?e?function(){return Pe("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Fe(e,t){var s=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return s?function(e){for(var t=[],s=0;s<e.length;s++)-1===t.indexOf(e[s])&&t.push(e[s]);return t}(s):s}function De(e,t,s,i){var n=Object.create(e||null);return t?O(n,t):n}Ae.data=function(e,t,s){return s?Ie(e,t,s):t&&"function"!=typeof t?e:Ie(e,t)},M.forEach((function(e){Ae[e]=Fe})),R.forEach((function(e){Ae[e+"s"]=De})),Ae.watch=function(e,t,s,i){if(e===se&&(e=void 0),t===se&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var n={};for(var a in O(n,e),t){var r=n[a],o=t[a];r&&!Array.isArray(r)&&(r=[r]),n[a]=r?r.concat(o):Array.isArray(o)?o:[o]}return n},Ae.props=Ae.methods=Ae.inject=Ae.computed=function(e,t,s,i){if(!e)return t;var n=Object.create(null);return O(n,e),t&&O(n,t),n},Ae.provide=Ie;var He=function(e,t){return void 0===t?e:t};function Re(e,t,s){if("function"==typeof t&&(t=t.options),function(e,t){var s=e.props;if(s){var i,n,a={};if(Array.isArray(s))for(i=s.length;i--;)"string"==typeof(n=s[i])&&(a[$(n)]={type:null});else if(u(s))for(var r in s)n=s[r],a[$(r)]=u(n)?n:{type:n};e.props=a}}(t),function(e,t){var s=e.inject;if(s){var i=e.inject={};if(Array.isArray(s))for(var n=0;n<s.length;n++)i[s[n]]={from:s[n]};else if(u(s))for(var a in s){var r=s[a];i[a]=u(r)?O({from:a},r):{from:r}}}}(t),function(e){var t=e.directives;if(t)for(var s in t){var i=t[s];"function"==typeof i&&(t[s]={bind:i,update:i})}}(t),!t._base&&(t.extends&&(e=Re(e,t.extends,s)),t.mixins))for(var i=0,n=t.mixins.length;i<n;i++)e=Re(e,t.mixins[i],s);var a,r={};for(a in e)o(a);for(a in t)y(e,a)||o(a);function o(i){var n=Ae[i]||He;r[i]=n(e[i],t[i],s,i)}return r}function Me(e,t,s,i){if("string"==typeof s){var n=e[t];if(y(n,s))return n[s];var a=$(s);if(y(n,a))return n[a];var r=C(a);return y(n,r)?n[r]:n[s]||n[a]||n[r]}}function ze(e,t,s,i){var n=t[e],a=!y(s,e),r=s[e],o=Be(Boolean,n.type);if(o>-1)if(a&&!y(n,"default"))r=!1;else if(""===r||r===T(e)){var l=Be(String,n.type);(l<0||o<l)&&(r=!0)}if(void 0===r){r=function(e,t,s){if(!y(t,"default"))return;var i=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[s]&&void 0!==e._props[s])return e._props[s];return"function"==typeof i&&"Function"!==Le(t.type)?i.call(e):i}(i,n,e);var c=Ce;xe(!0),je(r),xe(c)}return r}var Ue=/^\s*function (\w+)/;function Le(e){var t=e&&e.toString().match(Ue);return t?t[1]:""}function Ve(e,t){return Le(e)===Le(t)}function Be(e,t){if(!Array.isArray(t))return Ve(t,e)?0:-1;for(var s=0,i=t.length;s<i;s++)if(Ve(t[s],e))return s;return-1}function Ge(e,t,s){fe();try{if(t)for(var i=t;i=i.$parent;){var n=i.$options.errorCaptured;if(n)for(var a=0;a<n.length;a++)try{if(!1===n[a].call(i,e,t,s))return}catch(e){Je(e,i,"errorCaptured hook")}}Je(e,t,s)}finally{me()}}function Ke(e,t,s,i,n){var a;try{(a=s?e.apply(t,s):e.call(t))&&!a._isVue&&p(a)&&!a._handled&&(a.catch((function(e){return Ge(e,i,n+" (Promise/async)")})),a._handled=!0)}catch(e){Ge(e,i,n)}return a}function Je(e,t,s){if(z.errorHandler)try{return z.errorHandler.call(null,e,t,s)}catch(t){t!==e&&qe(t,null,"config.errorHandler")}qe(e,t,s)}function qe(e,t,s){if(!J&&!q||"undefined"==typeof console)throw e;console.error(e)}var We,Ye=!1,Xe=[],Ze=!1;function Qe(){Ze=!1;var e=Xe.slice(0);Xe.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&oe(Promise)){var et=Promise.resolve();We=function(){et.then(Qe),ee&&setTimeout(E)},Ye=!0}else if(X||"undefined"==typeof MutationObserver||!oe(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())We="undefined"!=typeof setImmediate&&oe(setImmediate)?function(){setImmediate(Qe)}:function(){setTimeout(Qe,0)};else{var tt=1,st=new MutationObserver(Qe),it=document.createTextNode(String(tt));st.observe(it,{characterData:!0}),We=function(){tt=(tt+1)%2,it.data=String(tt)},Ye=!0}function nt(e,t){var s;if(Xe.push((function(){if(e)try{e.call(t)}catch(e){Ge(e,t,"nextTick")}else s&&s(t)})),Ze||(Ze=!0,We()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){s=e}))}var at=new le;function rt(e){ot(e,at),at.clear()}function ot(e,t){var s,i,n=Array.isArray(e);if(!(!n&&!l(e)||Object.isFrozen(e)||e instanceof ve)){if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(n)for(s=e.length;s--;)ot(e[s],t);else for(s=(i=Object.keys(e)).length;s--;)ot(e[i[s]],t)}}var lt=w((function(e){var t="&"===e.charAt(0),s="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=s?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:s,capture:i,passive:t}}));function ct(e,t){function s(){var e=arguments,i=s.fns;if(!Array.isArray(i))return Ke(i,null,arguments,t,"v-on handler");for(var n=i.slice(),a=0;a<n.length;a++)Ke(n[a],null,e,t,"v-on handler")}return s.fns=e,s}function ut(e,t,s,i,a,o){var l,c,u,h;for(l in e)c=e[l],u=t[l],h=lt(l),n(c)||(n(u)?(n(c.fns)&&(c=e[l]=ct(c,o)),r(h.once)&&(c=e[l]=a(h.name,c,h.capture)),s(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,e[l]=u));for(l in t)n(e[l])&&i((h=lt(l)).name,t[l],h.capture)}function ht(e,t,s){var i;e instanceof ve&&(e=e.data.hook||(e.data.hook={}));var o=e[t];function l(){s.apply(this,arguments),_(i.fns,l)}n(o)?i=ct([l]):a(o.fns)&&r(o.merged)?(i=o).fns.push(l):i=ct([o,l]),i.merged=!0,e[t]=i}function dt(e,t,s,i,n){if(a(t)){if(y(t,s))return e[s]=t[s],n||delete t[s],!0;if(y(t,i))return e[s]=t[i],n||delete t[i],!0}return!1}function pt(e){return o(e)?[be(e)]:Array.isArray(e)?mt(e):void 0}function ft(e){return a(e)&&a(e.text)&&!1===e.isComment}function mt(e,t){var s,i,l,c,u=[];for(s=0;s<e.length;s++)n(i=e[s])||"boolean"==typeof i||(c=u[l=u.length-1],Array.isArray(i)?i.length>0&&(ft((i=mt(i,(t||"")+"_"+s))[0])&&ft(c)&&(u[l]=be(c.text+i[0].text),i.shift()),u.push.apply(u,i)):o(i)?ft(c)?u[l]=be(c.text+i):""!==i&&u.push(be(i)):ft(i)&&ft(c)?u[l]=be(c.text+i.text):(r(e._isVList)&&a(i.tag)&&n(i.key)&&a(t)&&(i.key="__vlist"+t+"_"+s+"__"),u.push(i)));return u}function vt(e,t){if(e){for(var s=Object.create(null),i=ce?Reflect.ownKeys(e):Object.keys(e),n=0;n<i.length;n++){var a=i[n];if("__ob__"!==a){for(var r=e[a].from,o=t;o;){if(o._provided&&y(o._provided,r)){s[a]=o._provided[r];break}o=o.$parent}if(!o)if("default"in e[a]){var l=e[a].default;s[a]="function"==typeof l?l.call(t):l}else 0}}return s}}function gt(e,t){if(!e||!e.length)return{};for(var s={},i=0,n=e.length;i<n;i++){var a=e[i],r=a.data;if(r&&r.attrs&&r.attrs.slot&&delete r.attrs.slot,a.context!==t&&a.fnContext!==t||!r||null==r.slot)(s.default||(s.default=[])).push(a);else{var o=r.slot,l=s[o]||(s[o]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in s)s[c].every(_t)&&delete s[c];return s}function _t(e){return e.isComment&&!e.asyncFactory||" "===e.text}function bt(e){return e.isComment&&e.asyncFactory}function yt(e,t,s){var n,a=Object.keys(t).length>0,r=e?!!e.$stable:!a,o=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(r&&s&&s!==i&&o===s.$key&&!a&&!s.$hasNormal)return s;for(var l in n={},e)e[l]&&"$"!==l[0]&&(n[l]=wt(t,l,e[l]))}else n={};for(var c in t)c in n||(n[c]=kt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=n),V(n,"$stable",r),V(n,"$key",o),V(n,"$hasNormal",a),n}function wt(e,t,s){var i=function(){var e=arguments.length?s.apply(null,arguments):s({}),t=(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:pt(e))&&e[0];return e&&(!t||1===e.length&&t.isComment&&!bt(t))?void 0:e};return s.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function kt(e,t){return function(){return e[t]}}function $t(e,t){var s,i,n,r,o;if(Array.isArray(e)||"string"==typeof e)for(s=new Array(e.length),i=0,n=e.length;i<n;i++)s[i]=t(e[i],i);else if("number"==typeof e)for(s=new Array(e),i=0;i<e;i++)s[i]=t(i+1,i);else if(l(e))if(ce&&e[Symbol.iterator]){s=[];for(var c=e[Symbol.iterator](),u=c.next();!u.done;)s.push(t(u.value,s.length)),u=c.next()}else for(r=Object.keys(e),s=new Array(r.length),i=0,n=r.length;i<n;i++)o=r[i],s[i]=t(e[o],o,i);return a(s)||(s=[]),s._isVList=!0,s}function Ct(e,t,s,i){var n,a=this.$scopedSlots[e];a?(s=s||{},i&&(s=O(O({},i),s)),n=a(s)||("function"==typeof t?t():t)):n=this.$slots[e]||("function"==typeof t?t():t);var r=s&&s.slot;return r?this.$createElement("template",{slot:r},n):n}function xt(e){return Me(this.$options,"filters",e)||P}function Tt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function jt(e,t,s,i,n){var a=z.keyCodes[t]||s;return n&&i&&!z.keyCodes[t]?Tt(n,i):a?Tt(a,e):i?T(i)!==t:void 0===e}function St(e,t,s,i,n){if(s)if(l(s)){var a;Array.isArray(s)&&(s=N(s));var r=function(r){if("class"===r||"style"===r||g(r))a=e;else{var o=e.attrs&&e.attrs.type;a=i||z.mustUseProp(t,o,r)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=$(r),c=T(r);l in a||c in a||(a[r]=s[r],n&&((e.on||(e.on={}))["update:"+r]=function(e){s[r]=e}))};for(var o in s)r(o)}else;return e}function Ot(e,t){var s=this._staticTrees||(this._staticTrees=[]),i=s[e];return i&&!t||Et(i=s[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i}function Nt(e,t,s){return Et(e,"__once__"+t+(s?"_"+s:""),!0),e}function Et(e,t,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&At(e[i],t+"_"+i,s);else At(e,t,s)}function At(e,t,s){e.isStatic=!0,e.key=t,e.isOnce=s}function Pt(e,t){if(t)if(u(t)){var s=e.on=e.on?O({},e.on):{};for(var i in t){var n=s[i],a=t[i];s[i]=n?[].concat(n,a):a}}else;return e}function It(e,t,s,i){t=t||{$stable:!s};for(var n=0;n<e.length;n++){var a=e[n];Array.isArray(a)?It(a,t,s):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return i&&(t.$key=i),t}function Ft(e,t){for(var s=0;s<t.length;s+=2){var i=t[s];"string"==typeof i&&i&&(e[t[s]]=t[s+1])}return e}function Dt(e,t){return"string"==typeof e?t+e:e}function Ht(e){e._o=Nt,e._n=m,e._s=f,e._l=$t,e._t=Ct,e._q=I,e._i=F,e._m=Ot,e._f=xt,e._k=jt,e._b=St,e._v=be,e._e=_e,e._u=It,e._g=Pt,e._d=Ft,e._p=Dt}function Rt(e,t,s,n,a){var o,l=this,c=a.options;y(n,"_uid")?(o=Object.create(n))._original=n:(o=n,n=n._original);var u=r(c._compiled),h=!u;this.data=e,this.props=t,this.children=s,this.parent=n,this.listeners=e.on||i,this.injections=vt(c.inject,n),this.slots=function(){return l.$slots||yt(e.scopedSlots,l.$slots=gt(s,n)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return yt(e.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=yt(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,s,i){var a=Gt(o,e,t,s,i,h);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=n),a}:this._c=function(e,t,s,i){return Gt(o,e,t,s,i,h)}}function Mt(e,t,s,i,n){var a=ye(e);return a.fnContext=s,a.fnOptions=i,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function zt(e,t){for(var s in t)e[$(s)]=t[s]}Ht(Rt.prototype);var Ut={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var s=e;Ut.prepatch(s,s)}else{(e.componentInstance=function(e,t){var s={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;a(i)&&(s.render=i.render,s.staticRenderFns=i.staticRenderFns);return new e.componentOptions.Ctor(s)}(e,ts)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var s=t.componentOptions;!function(e,t,s,n,a){0;var r=n.data.scopedSlots,o=e.$scopedSlots,l=!!(r&&!r.$stable||o!==i&&!o.$stable||r&&e.$scopedSlots.$key!==r.$key||!r&&e.$scopedSlots.$key),c=!!(a||e.$options._renderChildren||l);e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n);if(e.$options._renderChildren=a,e.$attrs=n.data.attrs||i,e.$listeners=s||i,t&&e.$options.props){xe(!1);for(var u=e._props,h=e.$options._propKeys||[],d=0;d<h.length;d++){var p=h[d],f=e.$options.props;u[p]=ze(p,f,t,e)}xe(!0),e.$options.propsData=t}s=s||i;var m=e.$options._parentListeners;e.$options._parentListeners=s,es(e,s,m),c&&(e.$slots=gt(a,n.context),e.$forceUpdate());0}(t.componentInstance=e.componentInstance,s.propsData,s.listeners,t,s.children)},insert:function(e){var t,s=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,rs(i,"mounted")),e.data.keepAlive&&(s._isMounted?((t=i)._inactive=!1,ls.push(t)):ns(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?as(t,!0):t.$destroy())}},Lt=Object.keys(Ut);function Vt(e,t,s,o,c){if(!n(e)){var u=s.$options._base;if(l(e)&&(e=u.extend(e)),"function"==typeof e){var h;if(n(e.cid)&&(e=function(e,t){if(r(e.error)&&a(e.errorComp))return e.errorComp;if(a(e.resolved))return e.resolved;var s=qt;s&&a(e.owners)&&-1===e.owners.indexOf(s)&&e.owners.push(s);if(r(e.loading)&&a(e.loadingComp))return e.loadingComp;if(s&&!a(e.owners)){var i=e.owners=[s],o=!0,c=null,u=null;s.$on("hook:destroyed",(function(){return _(i,s)}));var h=function(e){for(var t=0,s=i.length;t<s;t++)i[t].$forceUpdate();e&&(i.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},d=D((function(s){e.resolved=Wt(s,t),o?i.length=0:h(!0)})),f=D((function(t){a(e.errorComp)&&(e.error=!0,h(!0))})),m=e(d,f);return l(m)&&(p(m)?n(e.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),a(m.error)&&(e.errorComp=Wt(m.error,t)),a(m.loading)&&(e.loadingComp=Wt(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,n(e.resolved)&&n(e.error)&&(e.loading=!0,h(!1))}),m.delay||200)),a(m.timeout)&&(u=setTimeout((function(){u=null,n(e.resolved)&&f(null)}),m.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}(h=e,u),void 0===e))return function(e,t,s,i,n){var a=_e();return a.asyncFactory=e,a.asyncMeta={data:t,context:s,children:i,tag:n},a}(h,t,s,o,c);t=t||{},Ss(e),a(t.model)&&function(e,t){var s=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[s]=t.model.value;var n=t.on||(t.on={}),r=n[i],o=t.model.callback;a(r)?(Array.isArray(r)?-1===r.indexOf(o):r!==o)&&(n[i]=[o].concat(r)):n[i]=o}(e.options,t);var d=function(e,t,s){var i=t.options.props;if(!n(i)){var r={},o=e.attrs,l=e.props;if(a(o)||a(l))for(var c in i){var u=T(c);dt(r,l,c,u,!0)||dt(r,o,c,u,!1)}return r}}(t,e);if(r(e.options.functional))return function(e,t,s,n,r){var o=e.options,l={},c=o.props;if(a(c))for(var u in c)l[u]=ze(u,c,t||i);else a(s.attrs)&&zt(l,s.attrs),a(s.props)&&zt(l,s.props);var h=new Rt(s,l,r,n,e),d=o.render.call(null,h._c,h);if(d instanceof ve)return Mt(d,s,h.parent,o);if(Array.isArray(d)){for(var p=pt(d)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=Mt(p[m],s,h.parent,o);return f}}(e,d,t,s,o);var f=t.on;if(t.on=t.nativeOn,r(e.options.abstract)){var m=t.slot;t={},m&&(t.slot=m)}!function(e){for(var t=e.hook||(e.hook={}),s=0;s<Lt.length;s++){var i=Lt[s],n=t[i],a=Ut[i];n===a||n&&n._merged||(t[i]=n?Bt(a,n):a)}}(t);var v=e.options.name||c;return new ve("vue-component-"+e.cid+(v?"-"+v:""),t,void 0,void 0,void 0,s,{Ctor:e,propsData:d,listeners:f,tag:c,children:o},h)}}}function Bt(e,t){var s=function(s,i){e(s,i),t(s,i)};return s._merged=!0,s}function Gt(e,t,s,i,n,c){return(Array.isArray(s)||o(s))&&(n=i,i=s,s=void 0),r(c)&&(n=2),function(e,t,s,i,n){if(a(s)&&a(s.__ob__))return _e();a(s)&&a(s.is)&&(t=s.is);if(!t)return _e();0;Array.isArray(i)&&"function"==typeof i[0]&&((s=s||{}).scopedSlots={default:i[0]},i.length=0);2===n?i=pt(i):1===n&&(i=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(i));var r,o;if("string"==typeof t){var c;o=e.$vnode&&e.$vnode.ns||z.getTagNamespace(t),r=z.isReservedTag(t)?new ve(z.parsePlatformTagName(t),s,i,void 0,void 0,e):s&&s.pre||!a(c=Me(e.$options,"components",t))?new ve(t,s,i,void 0,void 0,e):Vt(c,s,e,i,t)}else r=Vt(t,s,e,i);return Array.isArray(r)?r:a(r)?(a(o)&&Kt(r,o),a(s)&&function(e){l(e.style)&&rt(e.style);l(e.class)&&rt(e.class)}(s),r):_e()}(e,t,s,i,n)}function Kt(e,t,s){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,s=!0),a(e.children))for(var i=0,o=e.children.length;i<o;i++){var l=e.children[i];a(l.tag)&&(n(l.ns)||r(s)&&"svg"!==l.tag)&&Kt(l,t,s)}}var Jt,qt=null;function Wt(e,t){return(e.__esModule||ce&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function Yt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var s=e[t];if(a(s)&&(a(s.componentOptions)||bt(s)))return s}}function Xt(e,t){Jt.$on(e,t)}function Zt(e,t){Jt.$off(e,t)}function Qt(e,t){var s=Jt;return function i(){var n=t.apply(null,arguments);null!==n&&s.$off(e,i)}}function es(e,t,s){Jt=e,ut(t,s||{},Xt,Zt,Qt,e),Jt=void 0}var ts=null;function ss(e){var t=ts;return ts=e,function(){ts=t}}function is(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function ns(e,t){if(t){if(e._directInactive=!1,is(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var s=0;s<e.$children.length;s++)ns(e.$children[s]);rs(e,"activated")}}function as(e,t){if(!(t&&(e._directInactive=!0,is(e))||e._inactive)){e._inactive=!0;for(var s=0;s<e.$children.length;s++)as(e.$children[s]);rs(e,"deactivated")}}function rs(e,t){fe();var s=e.$options[t],i=t+" hook";if(s)for(var n=0,a=s.length;n<a;n++)Ke(s[n],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),me()}var os=[],ls=[],cs={},us=!1,hs=!1,ds=0;var ps=0,fs=Date.now;if(J&&!X){var ms=window.performance;ms&&"function"==typeof ms.now&&fs()>document.createEvent("Event").timeStamp&&(fs=function(){return ms.now()})}function vs(){var e,t;for(ps=fs(),hs=!0,os.sort((function(e,t){return e.id-t.id})),ds=0;ds<os.length;ds++)(e=os[ds]).before&&e.before(),t=e.id,cs[t]=null,e.run();var s=ls.slice(),i=os.slice();ds=os.length=ls.length=0,cs={},us=hs=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,ns(e[t],!0)}(s),function(e){var t=e.length;for(;t--;){var s=e[t],i=s.vm;i._watcher===s&&i._isMounted&&!i._isDestroyed&&rs(i,"updated")}}(i),re&&z.devtools&&re.emit("flush")}var gs=0,_s=function(e,t,s,i,n){this.vm=e,n&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=s,this.id=++gs,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new le,this.newDepIds=new le,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!B.test(e)){var t=e.split(".");return function(e){for(var s=0;s<t.length;s++){if(!e)return;e=e[t[s]]}return e}}}(t),this.getter||(this.getter=E)),this.value=this.lazy?void 0:this.get()};_s.prototype.get=function(){var e;fe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Ge(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&rt(e),me(),this.cleanupDeps()}return e},_s.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},_s.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var s=this.depIds;this.depIds=this.newDepIds,this.newDepIds=s,this.newDepIds.clear(),s=this.deps,this.deps=this.newDeps,this.newDeps=s,this.newDeps.length=0},_s.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==cs[t]){if(cs[t]=!0,hs){for(var s=os.length-1;s>ds&&os[s].id>e.id;)s--;os.splice(s+1,0,e)}else os.push(e);us||(us=!0,nt(vs))}}(this)},_s.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user){var s='callback for watcher "'+this.expression+'"';Ke(this.cb,this.vm,[e,t],this.vm,s)}else this.cb.call(this.vm,e,t)}}},_s.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},_s.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},_s.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var bs={enumerable:!0,configurable:!0,get:E,set:E};function ys(e,t,s){bs.get=function(){return this[t][s]},bs.set=function(e){this[t][s]=e},Object.defineProperty(e,s,bs)}function ws(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var s=e.$options.propsData||{},i=e._props={},n=e.$options._propKeys=[];e.$parent&&xe(!1);var a=function(a){n.push(a);var r=ze(a,t,s,e);Se(i,a,r),a in e||ys(e,"_props",a)};for(var r in t)a(r);xe(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var s in t)e[s]="function"!=typeof t[s]?E:j(t[s],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;u(t=e._data="function"==typeof t?function(e,t){fe();try{return e.call(t,t)}catch(e){return Ge(e,t,"data()"),{}}finally{me()}}(t,e):t||{})||(t={});var s=Object.keys(t),i=e.$options.props,n=(e.$options.methods,s.length);for(;n--;){var a=s[n];0,i&&y(i,a)||L(a)||ys(e,"_data",a)}je(t,!0)}(e):je(e._data={},!0),t.computed&&function(e,t){var s=e._computedWatchers=Object.create(null),i=ae();for(var n in t){var a=t[n],r="function"==typeof a?a:a.get;0,i||(s[n]=new _s(e,r||E,E,ks)),n in e||$s(e,n,a)}}(e,t.computed),t.watch&&t.watch!==se&&function(e,t){for(var s in t){var i=t[s];if(Array.isArray(i))for(var n=0;n<i.length;n++)Ts(e,s,i[n]);else Ts(e,s,i)}}(e,t.watch)}var ks={lazy:!0};function $s(e,t,s){var i=!ae();"function"==typeof s?(bs.get=i?Cs(t):xs(s),bs.set=E):(bs.get=s.get?i&&!1!==s.cache?Cs(t):xs(s.get):E,bs.set=s.set||E),Object.defineProperty(e,t,bs)}function Cs(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),de.target&&t.depend(),t.value}}function xs(e){return function(){return e.call(this,this)}}function Ts(e,t,s,i){return u(s)&&(i=s,s=s.handler),"string"==typeof s&&(s=e[s]),e.$watch(t,s,i)}var js=0;function Ss(e){var t=e.options;if(e.super){var s=Ss(e.super);if(s!==e.superOptions){e.superOptions=s;var i=function(e){var t,s=e.options,i=e.sealedOptions;for(var n in s)s[n]!==i[n]&&(t||(t={}),t[n]=s[n]);return t}(e);i&&O(e.extendOptions,i),(t=e.options=Re(s,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Os(e){this._init(e)}function Ns(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var s=this,i=s.cid,n=e._Ctor||(e._Ctor={});if(n[i])return n[i];var a=e.name||s.options.name;var r=function(e){this._init(e)};return(r.prototype=Object.create(s.prototype)).constructor=r,r.cid=t++,r.options=Re(s.options,e),r.super=s,r.options.props&&function(e){var t=e.options.props;for(var s in t)ys(e.prototype,"_props",s)}(r),r.options.computed&&function(e){var t=e.options.computed;for(var s in t)$s(e.prototype,s,t[s])}(r),r.extend=s.extend,r.mixin=s.mixin,r.use=s.use,R.forEach((function(e){r[e]=s[e]})),a&&(r.options.components[a]=r),r.superOptions=s.options,r.extendOptions=e,r.sealedOptions=O({},r.options),n[i]=r,r}}function Es(e){return e&&(e.Ctor.options.name||e.tag)}function As(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!h(e)&&e.test(t)}function Ps(e,t){var s=e.cache,i=e.keys,n=e._vnode;for(var a in s){var r=s[a];if(r){var o=r.name;o&&!t(o)&&Is(s,a,i,n)}}}function Is(e,t,s,i){var n=e[t];!n||i&&n.tag===i.tag||n.componentInstance.$destroy(),e[t]=null,_(s,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=js++,t._isVue=!0,e&&e._isComponent?function(e,t){var s=e.$options=Object.create(e.constructor.options),i=t._parentVnode;s.parent=t.parent,s._parentVnode=i;var n=i.componentOptions;s.propsData=n.propsData,s._parentListeners=n.listeners,s._renderChildren=n.children,s._componentTag=n.tag,t.render&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Re(Ss(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,s=t.parent;if(s&&!t.abstract){for(;s.$options.abstract&&s.$parent;)s=s.$parent;s.$children.push(e)}e.$parent=s,e.$root=s?s.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&es(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,s=e.$vnode=t._parentVnode,n=s&&s.context;e.$slots=gt(t._renderChildren,n),e.$scopedSlots=i,e._c=function(t,s,i,n){return Gt(e,t,s,i,n,!1)},e.$createElement=function(t,s,i,n){return Gt(e,t,s,i,n,!0)};var a=s&&s.data;Se(e,"$attrs",a&&a.attrs||i,null,!0),Se(e,"$listeners",t._parentListeners||i,null,!0)}(t),rs(t,"beforeCreate"),function(e){var t=vt(e.$options.inject,e);t&&(xe(!1),Object.keys(t).forEach((function(s){Se(e,s,t[s])})),xe(!0))}(t),ws(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),rs(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Os),function(e){var t={get:function(){return this._data}},s={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",s),e.prototype.$set=Oe,e.prototype.$delete=Ne,e.prototype.$watch=function(e,t,s){var i=this;if(u(t))return Ts(i,e,t,s);(s=s||{}).user=!0;var n=new _s(i,e,t,s);if(s.immediate){var a='callback for immediate watcher "'+n.expression+'"';fe(),Ke(t,i,[n.value],i,a),me()}return function(){n.teardown()}}}(Os),function(e){var t=/^hook:/;e.prototype.$on=function(e,s){var i=this;if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++)i.$on(e[n],s);else(i._events[e]||(i._events[e]=[])).push(s),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var s=this;function i(){s.$off(e,i),t.apply(s,arguments)}return i.fn=t,s.$on(e,i),s},e.prototype.$off=function(e,t){var s=this;if(!arguments.length)return s._events=Object.create(null),s;if(Array.isArray(e)){for(var i=0,n=e.length;i<n;i++)s.$off(e[i],t);return s}var a,r=s._events[e];if(!r)return s;if(!t)return s._events[e]=null,s;for(var o=r.length;o--;)if((a=r[o])===t||a.fn===t){r.splice(o,1);break}return s},e.prototype.$emit=function(e){var t=this,s=t._events[e];if(s){s=s.length>1?S(s):s;for(var i=S(arguments,1),n='event handler for "'+e+'"',a=0,r=s.length;a<r;a++)Ke(s[a],t,i,t,n)}return t}}(Os),function(e){e.prototype._update=function(e,t){var s=this,i=s.$el,n=s._vnode,a=ss(s);s._vnode=e,s.$el=n?s.__patch__(n,e):s.__patch__(s.$el,e,t,!1),a(),i&&(i.__vue__=null),s.$el&&(s.$el.__vue__=s),s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode&&(s.$parent.$el=s.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){rs(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||_(t.$children,e),e._watcher&&e._watcher.teardown();for(var s=e._watchers.length;s--;)e._watchers[s].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),rs(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Os),function(e){Ht(e.prototype),e.prototype.$nextTick=function(e){return nt(e,this)},e.prototype._render=function(){var e,t=this,s=t.$options,i=s.render,n=s._parentVnode;n&&(t.$scopedSlots=yt(n.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=n;try{qt=t,e=i.call(t._renderProxy,t.$createElement)}catch(s){Ge(s,t,"render"),e=t._vnode}finally{qt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ve||(e=_e()),e.parent=n,e}}(Os);var Fs=[String,RegExp,Array],Ds={name:"keep-alive",abstract:!0,props:{include:Fs,exclude:Fs,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,s=e.keys,i=e.vnodeToCache,n=e.keyToCache;if(i){var a=i.tag,r=i.componentInstance,o=i.componentOptions;t[n]={name:Es(o),tag:a,componentInstance:r},s.push(n),this.max&&s.length>parseInt(this.max)&&Is(t,s[0],s,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Is(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Ps(e,(function(e){return As(t,e)}))})),this.$watch("exclude",(function(t){Ps(e,(function(e){return!As(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Yt(e),s=t&&t.componentOptions;if(s){var i=Es(s),n=this.include,a=this.exclude;if(n&&(!i||!As(n,i))||a&&i&&As(a,i))return t;var r=this.cache,o=this.keys,l=null==t.key?s.Ctor.cid+(s.tag?"::"+s.tag:""):t.key;r[l]?(t.componentInstance=r[l].componentInstance,_(o,l),o.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}},Hs={KeepAlive:Ds};!function(e){var t={get:function(){return z}};Object.defineProperty(e,"config",t),e.util={warn:ue,extend:O,mergeOptions:Re,defineReactive:Se},e.set=Oe,e.delete=Ne,e.nextTick=nt,e.observable=function(e){return je(e),e},e.options=Object.create(null),R.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,O(e.options.components,Hs),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var s=S(arguments,1);return s.unshift(this),"function"==typeof e.install?e.install.apply(e,s):"function"==typeof e&&e.apply(null,s),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Re(this.options,e),this}}(e),Ns(e),function(e){R.forEach((function(t){e[t]=function(e,s){return s?("component"===t&&u(s)&&(s.name=s.name||e,s=this.options._base.extend(s)),"directive"===t&&"function"==typeof s&&(s={bind:s,update:s}),this.options[t+"s"][e]=s,s):this.options[t+"s"][e]}}))}(e)}(Os),Object.defineProperty(Os.prototype,"$isServer",{get:ae}),Object.defineProperty(Os.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Os,"FunctionalRenderContext",{value:Rt}),Os.version="2.6.14";var Rs=v("style,class"),Ms=v("input,textarea,option,select,progress"),zs=v("contenteditable,draggable,spellcheck"),Us=v("events,caret,typing,plaintext-only"),Ls=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Vs="http://www.w3.org/1999/xlink",Bs=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Gs=function(e){return Bs(e)?e.slice(6,e.length):""},Ks=function(e){return null==e||!1===e};function Js(e){for(var t=e.data,s=e,i=e;a(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=qs(i.data,t));for(;a(s=s.parent);)s&&s.data&&(t=qs(t,s.data));return function(e,t){if(a(e)||a(t))return Ws(e,Ys(t));return""}(t.staticClass,t.class)}function qs(e,t){return{staticClass:Ws(e.staticClass,t.staticClass),class:a(e.class)?[e.class,t.class]:t.class}}function Ws(e,t){return e?t?e+" "+t:e:t||""}function Ys(e){return Array.isArray(e)?function(e){for(var t,s="",i=0,n=e.length;i<n;i++)a(t=Ys(e[i]))&&""!==t&&(s&&(s+=" "),s+=t);return s}(e):l(e)?function(e){var t="";for(var s in e)e[s]&&(t&&(t+=" "),t+=s);return t}(e):"string"==typeof e?e:""}var Xs={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Zs=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Qs=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ei=function(e){return Zs(e)||Qs(e)};var ti=Object.create(null);var si=v("text,number,password,search,email,tel,url");var ii=Object.freeze({createElement:function(e,t){var s=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&s.setAttribute("multiple","multiple"),s},createElementNS:function(e,t){return document.createElementNS(Xs[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,s){e.insertBefore(t,s)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),ni={create:function(e,t){ai(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ai(e,!0),ai(t))},destroy:function(e){ai(e,!0)}};function ai(e,t){var s=e.data.ref;if(a(s)){var i=e.context,n=e.componentInstance||e.elm,r=i.$refs;t?Array.isArray(r[s])?_(r[s],n):r[s]===n&&(r[s]=void 0):e.data.refInFor?Array.isArray(r[s])?r[s].indexOf(n)<0&&r[s].push(n):r[s]=[n]:r[s]=n}}var ri=new ve("",{},[]),oi=["create","activate","update","remove","destroy"];function li(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&a(e.data)===a(t.data)&&function(e,t){if("input"!==e.tag)return!0;var s,i=a(s=e.data)&&a(s=s.attrs)&&s.type,n=a(s=t.data)&&a(s=s.attrs)&&s.type;return i===n||si(i)&&si(n)}(e,t)||r(e.isAsyncPlaceholder)&&n(t.asyncFactory.error))}function ci(e,t,s){var i,n,r={};for(i=t;i<=s;++i)a(n=e[i].key)&&(r[n]=i);return r}var ui={create:hi,update:hi,destroy:function(e){hi(e,ri)}};function hi(e,t){(e.data.directives||t.data.directives)&&function(e,t){var s,i,n,a=e===ri,r=t===ri,o=pi(e.data.directives,e.context),l=pi(t.data.directives,t.context),c=[],u=[];for(s in l)i=o[s],n=l[s],i?(n.oldValue=i.value,n.oldArg=i.arg,mi(n,"update",t,e),n.def&&n.def.componentUpdated&&u.push(n)):(mi(n,"bind",t,e),n.def&&n.def.inserted&&c.push(n));if(c.length){var h=function(){for(var s=0;s<c.length;s++)mi(c[s],"inserted",t,e)};a?ht(t,"insert",h):h()}u.length&&ht(t,"postpatch",(function(){for(var s=0;s<u.length;s++)mi(u[s],"componentUpdated",t,e)}));if(!a)for(s in o)l[s]||mi(o[s],"unbind",e,e,r)}(e,t)}var di=Object.create(null);function pi(e,t){var s,i,n=Object.create(null);if(!e)return n;for(s=0;s<e.length;s++)(i=e[s]).modifiers||(i.modifiers=di),n[fi(i)]=i,i.def=Me(t.$options,"directives",i.name);return n}function fi(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function mi(e,t,s,i,n){var a=e.def&&e.def[t];if(a)try{a(s.elm,e,s,i,n)}catch(i){Ge(i,s.context,"directive "+e.name+" "+t+" hook")}}var vi=[ni,ui];function gi(e,t){var s=t.componentOptions;if(!(a(s)&&!1===s.Ctor.options.inheritAttrs||n(e.data.attrs)&&n(t.data.attrs))){var i,r,o=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(i in a(c.__ob__)&&(c=t.data.attrs=O({},c)),c)r=c[i],l[i]!==r&&_i(o,i,r,t.data.pre);for(i in(X||Q)&&c.value!==l.value&&_i(o,"value",c.value),l)n(c[i])&&(Bs(i)?o.removeAttributeNS(Vs,Gs(i)):zs(i)||o.removeAttribute(i))}}function _i(e,t,s,i){i||e.tagName.indexOf("-")>-1?bi(e,t,s):Ls(t)?Ks(s)?e.removeAttribute(t):(s="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,s)):zs(t)?e.setAttribute(t,function(e,t){return Ks(t)||"false"===t?"false":"contenteditable"===e&&Us(t)?t:"true"}(t,s)):Bs(t)?Ks(s)?e.removeAttributeNS(Vs,Gs(t)):e.setAttributeNS(Vs,t,s):bi(e,t,s)}function bi(e,t,s){if(Ks(s))e.removeAttribute(t);else{if(X&&!Z&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==s&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,s)}}var yi={create:gi,update:gi};function wi(e,t){var s=t.elm,i=t.data,r=e.data;if(!(n(i.staticClass)&&n(i.class)&&(n(r)||n(r.staticClass)&&n(r.class)))){var o=Js(t),l=s._transitionClasses;a(l)&&(o=Ws(o,Ys(l))),o!==s._prevClass&&(s.setAttribute("class",o),s._prevClass=o)}}var ki,$i={create:wi,update:wi};function Ci(e,t,s){var i=ki;return function n(){var a=t.apply(null,arguments);null!==a&&ji(e,n,s,i)}}var xi=Ye&&!(te&&Number(te[1])<=53);function Ti(e,t,s,i){if(xi){var n=ps,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=n||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}ki.addEventListener(e,t,ie?{capture:s,passive:i}:s)}function ji(e,t,s,i){(i||ki).removeEventListener(e,t._wrapper||t,s)}function Si(e,t){if(!n(e.data.on)||!n(t.data.on)){var s=t.data.on||{},i=e.data.on||{};ki=t.elm,function(e){if(a(e.__r)){var t=X?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}a(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(s),ut(s,i,Ti,ji,Ci,t.context),ki=void 0}}var Oi,Ni={create:Si,update:Si};function Ei(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var s,i,r=t.elm,o=e.data.domProps||{},l=t.data.domProps||{};for(s in a(l.__ob__)&&(l=t.data.domProps=O({},l)),o)s in l||(r[s]="");for(s in l){if(i=l[s],"textContent"===s||"innerHTML"===s){if(t.children&&(t.children.length=0),i===o[s])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===s&&"PROGRESS"!==r.tagName){r._value=i;var c=n(i)?"":String(i);Ai(r,c)&&(r.value=c)}else if("innerHTML"===s&&Qs(r.tagName)&&n(r.innerHTML)){(Oi=Oi||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var u=Oi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;u.firstChild;)r.appendChild(u.firstChild)}else if(i!==o[s])try{r[s]=i}catch(e){}}}}function Ai(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var s=!0;try{s=document.activeElement!==e}catch(e){}return s&&e.value!==t}(e,t)||function(e,t){var s=e.value,i=e._vModifiers;if(a(i)){if(i.number)return m(s)!==m(t);if(i.trim)return s.trim()!==t.trim()}return s!==t}(e,t))}var Pi={create:Ei,update:Ei},Ii=w((function(e){var t={},s=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var i=e.split(s);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function Fi(e){var t=Di(e.style);return e.staticStyle?O(e.staticStyle,t):t}function Di(e){return Array.isArray(e)?N(e):"string"==typeof e?Ii(e):e}var Hi,Ri=/^--/,Mi=/\s*!important$/,zi=function(e,t,s){if(Ri.test(t))e.style.setProperty(t,s);else if(Mi.test(s))e.style.setProperty(T(t),s.replace(Mi,""),"important");else{var i=Li(t);if(Array.isArray(s))for(var n=0,a=s.length;n<a;n++)e.style[i]=s[n];else e.style[i]=s}},Ui=["Webkit","Moz","ms"],Li=w((function(e){if(Hi=Hi||document.createElement("div").style,"filter"!==(e=$(e))&&e in Hi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),s=0;s<Ui.length;s++){var i=Ui[s]+t;if(i in Hi)return i}}));function Vi(e,t){var s=t.data,i=e.data;if(!(n(s.staticStyle)&&n(s.style)&&n(i.staticStyle)&&n(i.style))){var r,o,l=t.elm,c=i.staticStyle,u=i.normalizedStyle||i.style||{},h=c||u,d=Di(t.data.style)||{};t.data.normalizedStyle=a(d.__ob__)?O({},d):d;var p=function(e,t){var s,i={};if(t)for(var n=e;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(s=Fi(n.data))&&O(i,s);(s=Fi(e.data))&&O(i,s);for(var a=e;a=a.parent;)a.data&&(s=Fi(a.data))&&O(i,s);return i}(t,!0);for(o in h)n(p[o])&&zi(l,o,"");for(o in p)(r=p[o])!==h[o]&&zi(l,o,null==r?"":r)}}var Bi={create:Vi,update:Vi},Gi=/\s+/;function Ki(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Gi).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var s=" "+(e.getAttribute("class")||"")+" ";s.indexOf(" "+t+" ")<0&&e.setAttribute("class",(s+t).trim())}}function Ji(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Gi).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var s=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";s.indexOf(i)>=0;)s=s.replace(i," ");(s=s.trim())?e.setAttribute("class",s):e.removeAttribute("class")}}function qi(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&O(t,Wi(e.name||"v")),O(t,e),t}return"string"==typeof e?Wi(e):void 0}}var Wi=w((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Yi=J&&!Z,Xi="transition",Zi="animation",Qi="transition",en="transitionend",tn="animation",sn="animationend";Yi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Qi="WebkitTransition",en="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(tn="WebkitAnimation",sn="webkitAnimationEnd"));var nn=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function an(e){nn((function(){nn(e)}))}function rn(e,t){var s=e._transitionClasses||(e._transitionClasses=[]);s.indexOf(t)<0&&(s.push(t),Ki(e,t))}function on(e,t){e._transitionClasses&&_(e._transitionClasses,t),Ji(e,t)}function ln(e,t,s){var i=un(e,t),n=i.type,a=i.timeout,r=i.propCount;if(!n)return s();var o=n===Xi?en:sn,l=0,c=function(){e.removeEventListener(o,u),s()},u=function(t){t.target===e&&++l>=r&&c()};setTimeout((function(){l<r&&c()}),a+1),e.addEventListener(o,u)}var cn=/\b(transform|all)(,|$)/;function un(e,t){var s,i=window.getComputedStyle(e),n=(i[Qi+"Delay"]||"").split(", "),a=(i[Qi+"Duration"]||"").split(", "),r=hn(n,a),o=(i[tn+"Delay"]||"").split(", "),l=(i[tn+"Duration"]||"").split(", "),c=hn(o,l),u=0,h=0;return t===Xi?r>0&&(s=Xi,u=r,h=a.length):t===Zi?c>0&&(s=Zi,u=c,h=l.length):h=(s=(u=Math.max(r,c))>0?r>c?Xi:Zi:null)?s===Xi?a.length:l.length:0,{type:s,timeout:u,propCount:h,hasTransform:s===Xi&&cn.test(i[Qi+"Property"])}}function hn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,s){return dn(t)+dn(e[s])})))}function dn(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function pn(e,t){var s=e.elm;a(s._leaveCb)&&(s._leaveCb.cancelled=!0,s._leaveCb());var i=qi(e.data.transition);if(!n(i)&&!a(s._enterCb)&&1===s.nodeType){for(var r=i.css,o=i.type,c=i.enterClass,u=i.enterToClass,h=i.enterActiveClass,d=i.appearClass,p=i.appearToClass,f=i.appearActiveClass,v=i.beforeEnter,g=i.enter,_=i.afterEnter,b=i.enterCancelled,y=i.beforeAppear,w=i.appear,k=i.afterAppear,$=i.appearCancelled,C=i.duration,x=ts,T=ts.$vnode;T&&T.parent;)x=T.context,T=T.parent;var j=!x._isMounted||!e.isRootInsert;if(!j||w||""===w){var S=j&&d?d:c,O=j&&f?f:h,N=j&&p?p:u,E=j&&y||v,A=j&&"function"==typeof w?w:g,P=j&&k||_,I=j&&$||b,F=m(l(C)?C.enter:C);0;var H=!1!==r&&!Z,R=vn(A),M=s._enterCb=D((function(){H&&(on(s,N),on(s,O)),M.cancelled?(H&&on(s,S),I&&I(s)):P&&P(s),s._enterCb=null}));e.data.show||ht(e,"insert",(function(){var t=s.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),A&&A(s,M)})),E&&E(s),H&&(rn(s,S),rn(s,O),an((function(){on(s,S),M.cancelled||(rn(s,N),R||(mn(F)?setTimeout(M,F):ln(s,o,M)))}))),e.data.show&&(t&&t(),A&&A(s,M)),H||R||M()}}}function fn(e,t){var s=e.elm;a(s._enterCb)&&(s._enterCb.cancelled=!0,s._enterCb());var i=qi(e.data.transition);if(n(i)||1!==s.nodeType)return t();if(!a(s._leaveCb)){var r=i.css,o=i.type,c=i.leaveClass,u=i.leaveToClass,h=i.leaveActiveClass,d=i.beforeLeave,p=i.leave,f=i.afterLeave,v=i.leaveCancelled,g=i.delayLeave,_=i.duration,b=!1!==r&&!Z,y=vn(p),w=m(l(_)?_.leave:_);0;var k=s._leaveCb=D((function(){s.parentNode&&s.parentNode._pending&&(s.parentNode._pending[e.key]=null),b&&(on(s,u),on(s,h)),k.cancelled?(b&&on(s,c),v&&v(s)):(t(),f&&f(s)),s._leaveCb=null}));g?g($):$()}function $(){k.cancelled||(!e.data.show&&s.parentNode&&((s.parentNode._pending||(s.parentNode._pending={}))[e.key]=e),d&&d(s),b&&(rn(s,c),rn(s,h),an((function(){on(s,c),k.cancelled||(rn(s,u),y||(mn(w)?setTimeout(k,w):ln(s,o,k)))}))),p&&p(s,k),b||y||k())}}function mn(e){return"number"==typeof e&&!isNaN(e)}function vn(e){if(n(e))return!1;var t=e.fns;return a(t)?vn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function gn(e,t){!0!==t.data.show&&pn(t)}var _n=function(e){var t,s,i={},l=e.modules,c=e.nodeOps;for(t=0;t<oi.length;++t)for(i[oi[t]]=[],s=0;s<l.length;++s)a(l[s][oi[t]])&&i[oi[t]].push(l[s][oi[t]]);function u(e){var t=c.parentNode(e);a(t)&&c.removeChild(t,e)}function h(e,t,s,n,o,l,u){if(a(e.elm)&&a(l)&&(e=l[u]=ye(e)),e.isRootInsert=!o,!function(e,t,s,n){var o=e.data;if(a(o)){var l=a(e.componentInstance)&&o.keepAlive;if(a(o=o.hook)&&a(o=o.init)&&o(e,!1),a(e.componentInstance))return d(e,t),p(s,e.elm,n),r(l)&&function(e,t,s,n){var r,o=e;for(;o.componentInstance;)if(a(r=(o=o.componentInstance._vnode).data)&&a(r=r.transition)){for(r=0;r<i.activate.length;++r)i.activate[r](ri,o);t.push(o);break}p(s,e.elm,n)}(e,t,s,n),!0}}(e,t,s,n)){var h=e.data,m=e.children,v=e.tag;a(v)?(e.elm=e.ns?c.createElementNS(e.ns,v):c.createElement(v,e),_(e),f(e,m,t),a(h)&&g(e,t),p(s,e.elm,n)):r(e.isComment)?(e.elm=c.createComment(e.text),p(s,e.elm,n)):(e.elm=c.createTextNode(e.text),p(s,e.elm,n))}}function d(e,t){a(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(g(e,t),_(e)):(ai(e),t.push(e))}function p(e,t,s){a(e)&&(a(s)?c.parentNode(s)===e&&c.insertBefore(e,t,s):c.appendChild(e,t))}function f(e,t,s){if(Array.isArray(t)){0;for(var i=0;i<t.length;++i)h(t[i],s,e.elm,null,!0,t,i)}else o(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return a(e.tag)}function g(e,s){for(var n=0;n<i.create.length;++n)i.create[n](ri,e);a(t=e.data.hook)&&(a(t.create)&&t.create(ri,e),a(t.insert)&&s.push(e))}function _(e){var t;if(a(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var s=e;s;)a(t=s.context)&&a(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),s=s.parent;a(t=ts)&&t!==e.context&&t!==e.fnContext&&a(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function b(e,t,s,i,n,a){for(;i<=n;++i)h(s[i],a,e,t,!1,s,i)}function y(e){var t,s,n=e.data;if(a(n))for(a(t=n.hook)&&a(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(a(t=e.children))for(s=0;s<e.children.length;++s)y(e.children[s])}function w(e,t,s){for(;t<=s;++t){var i=e[t];a(i)&&(a(i.tag)?(k(i),y(i)):u(i.elm))}}function k(e,t){if(a(t)||a(e.data)){var s,n=i.remove.length+1;for(a(t)?t.listeners+=n:t=function(e,t){function s(){0==--s.listeners&&u(e)}return s.listeners=t,s}(e.elm,n),a(s=e.componentInstance)&&a(s=s._vnode)&&a(s.data)&&k(s,t),s=0;s<i.remove.length;++s)i.remove[s](e,t);a(s=e.data.hook)&&a(s=s.remove)?s(e,t):t()}else u(e.elm)}function $(e,t,s,i){for(var n=s;n<i;n++){var r=t[n];if(a(r)&&li(e,r))return n}}function C(e,t,s,o,l,u){if(e!==t){a(t.elm)&&a(o)&&(t=o[l]=ye(t));var d=t.elm=e.elm;if(r(e.isAsyncPlaceholder))a(t.asyncFactory.resolved)?j(e.elm,t,s):t.isAsyncPlaceholder=!0;else if(r(t.isStatic)&&r(e.isStatic)&&t.key===e.key&&(r(t.isCloned)||r(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,f=t.data;a(f)&&a(p=f.hook)&&a(p=p.prepatch)&&p(e,t);var v=e.children,g=t.children;if(a(f)&&m(t)){for(p=0;p<i.update.length;++p)i.update[p](e,t);a(p=f.hook)&&a(p=p.update)&&p(e,t)}n(t.text)?a(v)&&a(g)?v!==g&&function(e,t,s,i,r){var o,l,u,d=0,p=0,f=t.length-1,m=t[0],v=t[f],g=s.length-1,_=s[0],y=s[g],k=!r;for(;d<=f&&p<=g;)n(m)?m=t[++d]:n(v)?v=t[--f]:li(m,_)?(C(m,_,i,s,p),m=t[++d],_=s[++p]):li(v,y)?(C(v,y,i,s,g),v=t[--f],y=s[--g]):li(m,y)?(C(m,y,i,s,g),k&&c.insertBefore(e,m.elm,c.nextSibling(v.elm)),m=t[++d],y=s[--g]):li(v,_)?(C(v,_,i,s,p),k&&c.insertBefore(e,v.elm,m.elm),v=t[--f],_=s[++p]):(n(o)&&(o=ci(t,d,f)),n(l=a(_.key)?o[_.key]:$(_,t,d,f))?h(_,i,e,m.elm,!1,s,p):li(u=t[l],_)?(C(u,_,i,s,p),t[l]=void 0,k&&c.insertBefore(e,u.elm,m.elm)):h(_,i,e,m.elm,!1,s,p),_=s[++p]);d>f?b(e,n(s[g+1])?null:s[g+1].elm,s,p,g,i):p>g&&w(t,d,f)}(d,v,g,s,u):a(g)?(a(e.text)&&c.setTextContent(d,""),b(d,null,g,0,g.length-1,s)):a(v)?w(v,0,v.length-1):a(e.text)&&c.setTextContent(d,""):e.text!==t.text&&c.setTextContent(d,t.text),a(f)&&a(p=f.hook)&&a(p=p.postpatch)&&p(e,t)}}}function x(e,t,s){if(r(s)&&a(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var T=v("attrs,class,staticClass,staticStyle,key");function j(e,t,s,i){var n,o=t.tag,l=t.data,c=t.children;if(i=i||l&&l.pre,t.elm=e,r(t.isComment)&&a(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(a(l)&&(a(n=l.hook)&&a(n=n.init)&&n(t,!0),a(n=t.componentInstance)))return d(t,s),!0;if(a(o)){if(a(c))if(e.hasChildNodes())if(a(n=l)&&a(n=n.domProps)&&a(n=n.innerHTML)){if(n!==e.innerHTML)return!1}else{for(var u=!0,h=e.firstChild,p=0;p<c.length;p++){if(!h||!j(h,c[p],s,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else f(t,c,s);if(a(l)){var m=!1;for(var v in l)if(!T(v)){m=!0,g(t,s);break}!m&&l.class&&rt(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,s,o){if(!n(t)){var l,u=!1,d=[];if(n(e))u=!0,h(t,d);else{var p=a(e.nodeType);if(!p&&li(e,t))C(e,t,d,null,null,o);else{if(p){if(1===e.nodeType&&e.hasAttribute(H)&&(e.removeAttribute(H),s=!0),r(s)&&j(e,t,d))return x(t,d,!0),e;l=e,e=new ve(c.tagName(l).toLowerCase(),{},[],void 0,l)}var f=e.elm,v=c.parentNode(f);if(h(t,d,f._leaveCb?null:v,c.nextSibling(f)),a(t.parent))for(var g=t.parent,_=m(t);g;){for(var b=0;b<i.destroy.length;++b)i.destroy[b](g);if(g.elm=t.elm,_){for(var k=0;k<i.create.length;++k)i.create[k](ri,g);var $=g.data.hook.insert;if($.merged)for(var T=1;T<$.fns.length;T++)$.fns[T]()}else ai(g);g=g.parent}a(v)?w([e],0,0):a(e.tag)&&y(e)}}return x(t,d,u),t.elm}a(e)&&y(e)}}({nodeOps:ii,modules:[yi,$i,Ni,Pi,Bi,J?{create:gn,activate:gn,remove:function(e,t){!0!==e.data.show?fn(e,t):t()}}:{}].concat(vi)});Z&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Tn(e,"input")}));var bn={inserted:function(e,t,s,i){"select"===s.tag?(i.elm&&!i.elm._vOptions?ht(s,"postpatch",(function(){bn.componentUpdated(e,t,s)})):yn(e,t,s.context),e._vOptions=[].map.call(e.options,$n)):("textarea"===s.tag||si(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Cn),e.addEventListener("compositionend",xn),e.addEventListener("change",xn),Z&&(e.vmodel=!0)))},componentUpdated:function(e,t,s){if("select"===s.tag){yn(e,t,s.context);var i=e._vOptions,n=e._vOptions=[].map.call(e.options,$n);if(n.some((function(e,t){return!I(e,i[t])})))(e.multiple?t.value.some((function(e){return kn(e,n)})):t.value!==t.oldValue&&kn(t.value,n))&&Tn(e,"change")}}};function yn(e,t,s){wn(e,t,s),(X||Q)&&setTimeout((function(){wn(e,t,s)}),0)}function wn(e,t,s){var i=t.value,n=e.multiple;if(!n||Array.isArray(i)){for(var a,r,o=0,l=e.options.length;o<l;o++)if(r=e.options[o],n)a=F(i,$n(r))>-1,r.selected!==a&&(r.selected=a);else if(I($n(r),i))return void(e.selectedIndex!==o&&(e.selectedIndex=o));n||(e.selectedIndex=-1)}}function kn(e,t){return t.every((function(t){return!I(t,e)}))}function $n(e){return"_value"in e?e._value:e.value}function Cn(e){e.target.composing=!0}function xn(e){e.target.composing&&(e.target.composing=!1,Tn(e.target,"input"))}function Tn(e,t){var s=document.createEvent("HTMLEvents");s.initEvent(t,!0,!0),e.dispatchEvent(s)}function jn(e){return!e.componentInstance||e.data&&e.data.transition?e:jn(e.componentInstance._vnode)}var Sn={bind:function(e,t,s){var i=t.value,n=(s=jn(s)).data&&s.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&n?(s.data.show=!0,pn(s,(function(){e.style.display=a}))):e.style.display=i?a:"none"},update:function(e,t,s){var i=t.value;!i!=!t.oldValue&&((s=jn(s)).data&&s.data.transition?(s.data.show=!0,i?pn(s,(function(){e.style.display=e.__vOriginalDisplay})):fn(s,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,s,i,n){n||(e.style.display=e.__vOriginalDisplay)}},On={model:bn,show:Sn},Nn={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function En(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?En(Yt(t.children)):e}function An(e){var t={},s=e.$options;for(var i in s.propsData)t[i]=e[i];var n=s._parentListeners;for(var a in n)t[$(a)]=n[a];return t}function Pn(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var In=function(e){return e.tag||bt(e)},Fn=function(e){return"show"===e.name},Dn={name:"transition",props:Nn,abstract:!0,render:function(e){var t=this,s=this.$slots.default;if(s&&(s=s.filter(In)).length){0;var i=this.mode;0;var n=s[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return n;var a=En(n);if(!a)return n;if(this._leaving)return Pn(e,n);var r="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?r+"comment":r+a.tag:o(a.key)?0===String(a.key).indexOf(r)?a.key:r+a.key:a.key;var l=(a.data||(a.data={})).transition=An(this),c=this._vnode,u=En(c);if(a.data.directives&&a.data.directives.some(Fn)&&(a.data.show=!0),u&&u.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(a,u)&&!bt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=O({},l);if("out-in"===i)return this._leaving=!0,ht(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Pn(e,n);if("in-out"===i){if(bt(a))return c;var d,p=function(){d()};ht(l,"afterEnter",p),ht(l,"enterCancelled",p),ht(h,"delayLeave",(function(e){d=e}))}}return n}}},Hn=O({tag:String,moveClass:String},Nn);function Rn(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Mn(e){e.data.newPos=e.elm.getBoundingClientRect()}function zn(e){var t=e.data.pos,s=e.data.newPos,i=t.left-s.left,n=t.top-s.top;if(i||n){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+n+"px)",a.transitionDuration="0s"}}delete Hn.mode;var Un={Transition:Dn,TransitionGroup:{props:Hn,beforeMount:function(){var e=this,t=this._update;this._update=function(s,i){var n=ss(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,n(),t.call(e,s,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",s=Object.create(null),i=this.prevChildren=this.children,n=this.$slots.default||[],a=this.children=[],r=An(this),o=0;o<n.length;o++){var l=n[o];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),s[l.key]=l,(l.data||(l.data={})).transition=r;else;}if(i){for(var c=[],u=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=r,d.data.pos=d.elm.getBoundingClientRect(),s[d.key]?c.push(d):u.push(d)}this.kept=e(t,null,c),this.removed=u}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Rn),e.forEach(Mn),e.forEach(zn),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var s=e.elm,i=s.style;rn(s,t),i.transform=i.WebkitTransform=i.transitionDuration="",s.addEventListener(en,s._moveCb=function e(i){i&&i.target!==s||i&&!/transform$/.test(i.propertyName)||(s.removeEventListener(en,e),s._moveCb=null,on(s,t))})}})))},methods:{hasMove:function(e,t){if(!Yi)return!1;if(this._hasMove)return this._hasMove;var s=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Ji(s,e)})),Ki(s,t),s.style.display="none",this.$el.appendChild(s);var i=un(s);return this.$el.removeChild(s),this._hasMove=i.hasTransform}}}};Os.config.mustUseProp=function(e,t,s){return"value"===s&&Ms(e)&&"button"!==t||"selected"===s&&"option"===e||"checked"===s&&"input"===e||"muted"===s&&"video"===e},Os.config.isReservedTag=ei,Os.config.isReservedAttr=Rs,Os.config.getTagNamespace=function(e){return Qs(e)?"svg":"math"===e?"math":void 0},Os.config.isUnknownElement=function(e){if(!J)return!0;if(ei(e))return!1;if(e=e.toLowerCase(),null!=ti[e])return ti[e];var t=document.createElement(e);return e.indexOf("-")>-1?ti[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ti[e]=/HTMLUnknownElement/.test(t.toString())},O(Os.options.directives,On),O(Os.options.components,Un),Os.prototype.__patch__=J?_n:E,Os.prototype.$mount=function(e,t){return function(e,t,s){var i;return e.$el=t,e.$options.render||(e.$options.render=_e),rs(e,"beforeMount"),i=function(){e._update(e._render(),s)},new _s(e,i,E,{before:function(){e._isMounted&&!e._isDestroyed&&rs(e,"beforeUpdate")}},!0),s=!1,null==e.$vnode&&(e._isMounted=!0,rs(e,"mounted")),e}(this,e=e&&J?function(e){if("string"==typeof e){return document.querySelector(e)||document.createElement("div")}return e}(e):void 0,t)},J&&setTimeout((function(){z.devtools&&re&&re.emit("init",Os)}),0);const Ln=Os;var Vn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"section",attrs:{id:"app"},on:{click:function(t){return e.edelegate(t)}}},[s("hold"),e._v(" "),s("message"),e._v(" "),s("evui"),e._v(" "),s("asider",{staticClass:"sider",class:{"sider--collapsed":e.collapsed,"sider--mobile":e.sidermobile}},[s("div",{staticClass:"sider_main"},[s("div",{staticClass:"logo"},[s("a",{staticClass:"logo_a",attrs:{href:"https://github.com/elecV2/elecV2P",target:"_blank"}},[s("img",{staticClass:"logo_img",attrs:{src:e.logo,alt:"elecV2P"}}),e._v(" "),s("span",{staticClass:"logo_title"},[e._v(e._s(e.title))])])]),e._v(" "),s("ul",{staticClass:"menu"},e._l(e.navlist,(function(t,i){return s("li",{key:i,staticClass:"menu_item",class:{"menu_item--selected":e.currentpanel==i},on:{click:function(t){return e.nav(i)}}},[s("span",{staticClass:"icon",domProps:{innerHTML:e._s(e.icon[i])}}),e._v(" "),s("span",{staticClass:"menu_text fadein"},[e._v(e._s(t.name||i.toUpperCase()))])])})),0)]),e._v(" "),s("div",{staticClass:"sider_trigger sider_trigger--mini",class:{"sider_trigger--collapsed":e.collapsed},on:{click:function(t){e.collapsed=!e.collapsed}}},[s("span",[e._v(e._s(e.collapsed?">":"<"))])]),e._v(" "),s("div",{staticClass:"sider_trigger sider_trigger--mobile",on:{click:function(t){e.sidermobile=!e.sidermobile}}},[s("span",[e._v(e._s(e.sidermobile?"☰":"X"))])])]),e._v(" "),s("keep-alive",[s(e.currentpanel,{tag:"panel",staticClass:"section",on:{menunav:e.menunav}})],1)],1)};Vn._withStripped=!0;const Bn=s.p+"6c6fbe66f9bb2e4f2719ff1dd12b917d.png";var Gn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content"},[s("div",{staticClass:"overview"},[s("div",{staticClass:"overview_ports"},[s("a",{staticClass:"overview_item overview_item--big",attrs:{href:"./logs",target:"_blank"}},[e._v("查看程序运行日志")]),e._v(" "),s("a",{staticClass:"overview_item overview_item--big",attrs:{href:"./efss",target:"_blank"}},[e._v("EFSS 文件管理界面")]),e._v(" "),s("div",{staticClass:"overview_item overview_item--big",style:{background:e.anyproxy.enable?"":"var(--tras-bk)"},attrs:{title:"双击打开/关闭（代理端口不是网页，不能直接访问）"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.eopbtn.open,expression:"eopbtn.open"}],staticClass:"overview_btn",on:{click:function(t){return e.eproxyToggle("open")}}},[e._v("开启")]),e._v(" "),s("span",{on:{click:function(t){return e.eproxyBtn()},dblclick:function(t){return e.eproxyToggle()}}},[e._v("ANYPROXY 端口: "+e._s(e.anyproxy.port))]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.eopbtn.close,expression:"eopbtn.close"}],staticClass:"overview_btn overview_btn--close",on:{click:function(t){return e.eproxyToggle("close")}}},[e._v("关闭")])]),e._v(" "),s("div",{staticClass:"overview_item overview_item--big",style:{background:e.anyproxy.enable?"":"var(--tras-bk)"},on:{click:e.webifOpen}},[e._v("网络请求查看端口: "+e._s(e.anyproxy.webPort))])]),e._v(" "),s("div",{staticClass:"overview_rules",attrs:{title:"该部分数据在每次刷新页面时更新"}},[s("span",{staticClass:"overview_item",style:{background:e.enablelist.rule?"":"var(--tras-bk)"},attrs:{"data-method":"nav","data-panel":"rules"}},[e._v("RULES 规则数: "+e._s(e.ruleslen))]),e._v(" "),s("span",{staticClass:"overview_item",style:{background:e.enablelist.rewrite?"":"var(--tras-bk)"},attrs:{"data-method":"nav","data-panel":"rewrite"}},[e._v("REWRITE 规则数: "+e._s(e.rewriteslen))]),e._v(" "),s("span",{staticClass:"overview_item",attrs:{"data-method":"nav","data-panel":"jsmanage"}},[e._v("JS 文件数: "+e._s(e.jslistslen))]),e._v(" "),s("span",{staticClass:"overview_item",attrs:{"data-method":"nav","data-panel":"task"}},[e._v("TASK 定时: "+e._s(e.taskstatus))]),e._v(" "),s("span",{staticClass:"overview_item",style:{background:e.enablelist.mitmhost?"":"var(--tras-bk)"},attrs:{"data-method":"nav","data-panel":"mitm"}},[e._v("MITM HOST 数: "+e._s(e.mitmhostlen))])])]),e._v(" "),s("status",{attrs:{sysinfo:e.sysinfo},on:{ovInit:function(t){return e.ovInit()}}})],1),e._v(" "),s("footer",{staticClass:"footer"},[s("span",{staticClass:"cursor",class:{newversion:e.newversion},attrs:{title:"当前后台版本号，点击获取更新日志"},on:{click:function(t){return e.showUplog()}}},[e._v("VERSION: "+e._s(e.version))]),e._v(" "),s("span",{on:{mouseover:e.runHour}},[e._v("START AT: "+e._s(e.start))])])])};Gn._withStripped=!0;var Kn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"status"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.clients,expression:"clients"}],staticClass:"title title--radius"},[s("span",{staticClass:"title_main mleft30"},[e._v("客户端连接数: "+e._s(e.clients))]),e._v(" "),s("span",{staticClass:"icon cursor title_sync",attrs:{title:"刷新当前页面数据"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.ovUpdate()}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.sysinfo,expression:"sysinfo"}],staticClass:"memorystatus",attrs:{title:"该部分数据仅在刷新页面时更新"}},[s("h4",{staticClass:"status_title"},[e._v("服务器相关信息")]),e._v(" "),s("div",{staticClass:"status_memoryusage"},[s("span",{staticClass:"status_item"},[e._v("架构: "+e._s(e.sysinfo.arch))]),e._v(" "),s("span",{staticClass:"status_item"},[e._v("平台: "+e._s(e.sysinfo.platform))]),e._v(" "),s("span",{staticClass:"status_item"},[e._v("内存: "+e._s(e.sysinfo.memory))]),e._v(" "),s("span",{staticClass:"status_item",attrs:{title:"服务器持续运行时间"}},[e._v("UPTIME: "+e._s(e.sysinfo.uptime))]),e._v(" "),s("span",{staticClass:"status_item"},[e._v("NODEJS: "+e._s(e.sysinfo.nodever))])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.memoryusage,expression:"memoryusage"}],staticClass:"memorystatus"},[s("h4",{staticClass:"status_title"},[e._v("elecV2P 内存使用情况"),s("span",{staticClass:"status_toggle",attrs:{title:e.statussendflag?"暂停更新":"保持传输"},domProps:{innerHTML:e._s(e.statussendflag?e.icon.stop:e.icon.plays)},on:{click:e.statusSendToggle}})]),e._v(" "),s("div",{staticClass:"status_memoryusage"},e._l(e.memoryusage,(function(t,i){return s("span",{key:i,staticClass:"status_item"},[e._v(e._s(i)+": "+e._s(t))])})),0)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.jsruntotal,expression:"jsruntotal"}],staticClass:"jsrunstatus"},[s("h4",{staticClass:"status_title"},[e._v("脚本运行总次数 - "+e._s(e.jsruntotal))]),e._v(" "),s("div",{staticClass:"status_jsdetail"},e._l(e.jsrundetail,(function(t,i){return s("a",{key:i,staticClass:"status_item",attrs:{href:"/logs/"+i+".log",target:"_blank"}},[e._v(e._s(i)+": "+e._s(t))])})),0)])])};Kn._withStripped=!0;const Jn={pause:'<svg viewBox="64 64 896 896" data-icon="pause" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path fill="#D3D3D3" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#ffffff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm-80 524c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304zm224 0c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304z"></path><path fill="#D3D3D3" d="M424 352h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"></path></svg>',sync:'<svg viewBox="64 64 896 896" data-icon="sync" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class="anticon-spin"><path d="M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2z"></path></svg>',delete:'<svg viewBox="64 64 896 896" data-icon="minus-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path fill="#8B0000" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#ccbbb8" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm192 396c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"></path><path fill="#8B0000" d="M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"></path></svg>',play:'<svg viewBox="64 64 896 896" data-icon="play-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path fill="#52c41a" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#f4ffe6" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm164.1 378.2L457.7 677.1a8.02 8.02 0 0 1-12.7-6.5V353a8 8 0 0 1 12.7-6.5l218.4 158.8a7.9 7.9 0 0 1 0 12.9z"></path><path fill="#52c41a" d="M676.1 505.3L457.7 346.5A8 8 0 0 0 445 353v317.6a8.02 8.02 0 0 0 12.7 6.5l218.4-158.9a7.9 7.9 0 0 0 0-12.9z"></path></svg>',plays:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="currentColor"><path d="M3 22v-20l18 10-18 10z"></path></svg>',downcircle:'<svg viewBox="64 64 896 896" focusable="false" data-icon="down-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm184.4 277.7l-178 246a7.95 7.95 0 01-12.9 0l-178-246c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 4.9 25.9 13.2L512 563.6l105.2-145.4c6-8.3 15.7-13.2 25.9-13.2H690c6.5 0 10.3 7.4 6.4 12.7z" fill="#f4ffe6"></path><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="#52c41a"></path><path d="M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z" fill="#52c41a"></path></svg>',upcircle:'<svg viewBox="64 64 896 896" focusable="false" data-icon="up-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm178 479h-46.9c-10.2 0-19.9-4.9-25.9-13.2L512 460.4 406.8 605.8c-6 8.3-15.6 13.2-25.9 13.2H334c-6.5 0-10.3-7.4-6.5-12.7l178-246c3.2-4.4 9.7-4.4 12.9 0l178 246c3.9 5.3.1 12.7-6.4 12.7z" fill="#f4ffe6"></path><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="#52c41a"></path><path d="M518.4 360.3a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7h46.9c10.3 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.7 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.4-12.7l-178-246z" fill="#52c41a"></path></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="currentColor"><path d="M10 24h-4v-20h4v20zm6-20h-4v20h4v-20z"></path></svg>',clear:'<svg viewBox="0 0 1024 1024" data-icon="inbox" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0 0 60.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"></path></svg>',success:'<svg viewBox="64 64 896 896" data-icon="check-circle" width="1em" height="1em" fill="#90EE90" aria-hidden="true" focusable="false" class=""><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"></path></svg>',error:'<svg viewBox="64 64 896 896" data-icon="close-circle" width="1em" height="1em" fill="#eb261a" aria-hidden="true" focusable="false" class=""><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"></path></svg>',loading:'<svg viewBox="0 0 1024 1024" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class="anticon-spin rotate"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg>',overview:'<svg viewBox="64 64 896 896" data-icon="appstore" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"></path></svg>',rules:'<svg viewBox="64 64 896 896" data-icon="rule" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"></path></svg>',rewrite:'<svg viewBox="64 64 896 896" data-icon="interaction" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"></path></svg>',jsmanage:'<svg viewBox="64 64 896 896" data-icon="code" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 0 0 308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 0 0-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"></path></svg>',task:'<svg viewBox="64 64 896 896" data-icon="schedule" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M928 224H768v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H548v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H328v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H96c-17.7 0-32 14.3-32 32v576c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32zm-40 568H136V296h120v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h120v496zM416 496H232c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 136H232c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm308.2-177.4L620.6 598.3l-52.8-73.1c-3-4.2-7.8-6.6-12.9-6.6H500c-6.5 0-10.3 7.4-6.5 12.7l114.1 158.2a15.9 15.9 0 0 0 25.8 0l165-228.7c3.8-5.3 0-12.7-6.5-12.7H737c-5-.1-9.8 2.4-12.8 6.5z"></path></svg>',mitm:'<svg viewBox="64 64 896 896" data-icon="audit" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"></path></svg>',cfilter:'<svg viewBox="64 64 896 896" data-icon="share-alt" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 0 0 0-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"></path></svg>',setting:'<svg viewBox="64 64 896 896" data-icon="setting" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 0 0 9.3-35.2l-.9-2.6a443.74 443.74 0 0 0-79.7-137.9l-1.8-2.1a32.12 32.12 0 0 0-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 0 0-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 0 0-25.8 25.7l-15.8 85.4a351.86 351.86 0 0 0-99 57.4l-81.9-29.1a32 32 0 0 0-35.1 9.5l-1.8 2.1a446.02 446.02 0 0 0-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 0 0-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0 0 35.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0 0 25.8 25.7l2.7.5a449.4 449.4 0 0 0 159 0l2.7-.5a32.05 32.05 0 0 0 25.8-25.7l15.7-85a350 350 0 0 0 99.7-57.6l81.3 28.9a32 32 0 0 0 35.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 0 1-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 0 1-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 0 1 624 502c0 29.9-11.7 58-32.8 79.2z"></path></svg>',about:'<svg viewBox="64 64 896 896" data-icon="global" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0 0 10-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 0 0 3.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 0 0-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 0 1 887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 0 1-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 0 1 115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 0 1 540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 0 0 540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 0 1-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 0 0-81.5 55.9A373.86 373.86 0 0 1 137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 0 1-107.6 69.2z"></path></svg>',donation:'<svg viewBox="0 0 1024 1024" data-icon="coffee" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M275 281c19.9 0 36-16.1 36-36V36c0-19.9-16.1-36-36-36s-36 16.1-36 36v209c0 19.9 16.1 36 36 36zm613 144H768c0-39.8-32.2-72-72-72H200c-39.8 0-72 32.2-72 72v248c0 3.4.2 6.7.7 9.9-.5 7-.7 14-.7 21.1 0 176.7 143.3 320 320 320 160.1 0 292.7-117.5 316.3-271H888c39.8 0 72-32.2 72-72V497c0-39.8-32.2-72-72-72zM696 681h-1.1c.7 7.6 1.1 15.2 1.1 23 0 137-111 248-248 248S200 841 200 704c0-7.8.4-15.4 1.1-23H200V425h496v256zm192-8H776V497h112v176zM613 281c19.9 0 36-16.1 36-36V36c0-19.9-16.1-36-36-36s-36 16.1-36 36v209c0 19.9 16.1 36 36 36zm-170 0c19.9 0 36-16.1 36-36V36c0-19.9-16.1-36-36-36s-36 16.1-36 36v209c0 19.9 16.1 36 36 36z"></path></svg>'};function qn(e,t,s,i,n,a,r,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}var Wn=qn({name:"status",props:["sysinfo"],data:()=>({clients:0,memoryusage:"",jsruntotal:0,jsrundetail:{},statussendflag:!0,icon:Jn}),created(){this.$wsrecv.add("elecV2Pstatus",(e=>{this.clients=e.clients,this.memoryusage=e.memoryusage,this.statussendflag=!0})),this.$wsrecv.add("jsrunstatus",(e=>{this.jsruntotal=e.total,this.jsrundetail=e.detail}))},methods:{ovUpdate(){this.$emit("ovInit"),this.$wsrecv.connected||this.$wsrecv.connect()},statusSendToggle(){this.$wsrecv.send("stopsendstatus",this.statussendflag),this.statussendflag=!this.statussendflag}}},Kn,[],!1,null,"23895bc4",null);Wn.options.__file="web/src/overview/status.vue";var Yn=qn({name:"overview",data(){return{header:"基础信息",version:"1.0.0",baseurl:location.protocol+"//"+location.hostname,anyproxy:{enable:!0,port:8001,webPort:8002},ruleslen:0,rewriteslen:0,jslistslen:0,taskstatus:"0/0/0",mitmhostlen:0,start:this.$sTime(),newversion:"",sysinfo:"",eopbtn:{open:!1,close:!1},enablelist:{rule:!0,rewrite:!0,mitmhost:!0},userid:""}},components:{status:Wn.exports},created(){this.ovInit()},methods:{ovInit(){const e=this.$message.loading("正在获取 overview 相关数据...",0);this.$axios.get("/data?type=overview").then((e=>{this.$message.success("成功获取 overview 相关数据"),this.ruleslen=e.data.ruleslen,this.rewriteslen=e.data.rewriteslen,this.jslistslen=e.data.jslistslen,this.mitmhostlen=e.data.mitmhostlen,this.version=e.data.version,this.start=this.$sTime(e.data.start),this.anyproxy=e.data.anyproxy,this.newversion=e.data.newversion,this.sysinfo=e.data.sysinfo,this.userid=e.data.userid,this.userid&&(this.$uApi.store.getCache("userid",this.userid),this.$uApi.store.setCache("bSponsor",-1!==this.$uApi.store.getCache("sponsors").indexOf(this.userid))),Object.assign(this.enablelist,e.data.enablelist),e.data.menunav&&this.$emit("menunav",e.data.menunav),e.data.taskstatus&&(this.taskstatus=e.data.taskstatus.running+"/"+e.data.taskstatus.total+"/"+e.data.taskstatus.sub);let t=Number(this.version.replace(/\.|v/g,""));this.newversion&&Number(this.newversion.replace(/\.|v/g,""))>t?(console.log(`elecV2P 有新的版本 v${this.newversion} 可供更新`),this.$uApi.store.get("newversion")!==this.newversion&&(this.$message.success(`elecV2P 有新的版本 v${this.newversion} 可供更新`),this.$uApi.store.set("newversion",this.newversion))):this.newversion=""})).catch((e=>{this.$message.error("获取端口数据失败",e.message),console.error("获取端口数据失败",e)})).finally(e)},showUplog(){const e=this.$message.loading("正在获取更新日志...",0);this.$axios.get("https://raw.ev2.workers.dev/elecV2/elecV2P/master/logs/update.log").then((e=>{this.$message.success("获取成功"),this.$evui({title:"当前 elecV2P 版本: "+this.version+" 最近更新日志",width:820,height:460,style:{content:"padding-left: 8px; font-size: 16px;"},content:`<div style="text-align: center;background: var(--icon-bk);margin-bottom: 6px;margin-left: -4px;border-radius: 0 0 12px 12px;font-size: 20px;">${this.newversion?"检测到有新版本 v"+this.newversion+'<br>请使用 <a href="/?fn=softupdate.js#jsmanage">softupdate.js</a> 或者 docker 命令进行升级':""}</div><div>${e.data}</div>`})})).catch((e=>{this.$message.error("获取失败",e.message),console.error(e),this.$evui({title:"更新日志获取失败",width:400,height:200,content:"请检查网络后重试。"})})).finally(e)},eproxyBtn(){this.anyproxy.enable?this.eopbtn.close=!this.eopbtn.close:this.eopbtn.open=!this.eopbtn.open},eproxyToggle(e=""){this.$wsrecv.connected?(this.anyproxy&&this.anyproxy.enable?("close"===e||confirm("确定关闭 ANYPROXY？"))&&(this.$wsrecv.send("eproxy","close"),this.anyproxy.enable=!1):("open"===e||confirm("确定打开 ANYPROXY？"))&&(this.$wsrecv.send("eproxy","start"),this.anyproxy.enable=!0),this.eopbtn.open=!1,this.eopbtn.close=!1):this.$message.error("websocket 尚未连接，指令无法发送")},webifOpen(){this.anyproxy.enable?this.$uApi.open(this.baseurl+":"+this.anyproxy.webPort):this.$message.success("当前 ANYPROXY 处于关闭状态，无可查看信息")},runHour(e){let t=Date.now()-Date.parse(this.start);e.target.title="elecV2P 已持续运行 "+(t/1e3/60/60).toFixed(2)+" 小时"}}},Gn,[],!1,null,"6226916a",null);Yn.options.__file="web/src/overview/overview.vue";const Xn=Yn.exports;var Zn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.rulesSave()):null}}},[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content"},[s("div",{staticClass:"etable"},[s("table",{staticClass:"elecTable",class:{"elecTable--disabled":!e.ruleble.enable}},[s("caption",{staticClass:"elecTable_caption",class:{"elecTable--disabled":!e.ruleble.enable}},[s("div",{staticClass:"eflex elecTable_caption--left"},[s("span",{attrs:{title:"启用该列表中的规则（建议在不需要使用时关闭"}},[e._v("启用：")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.ruleble}})],1),e._v(" "),s("span",[e._v("modify 网络请求规则集 - "+e._s(e.rulestatus))]),e._v(" "),s("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.rulesInit()}}})]),e._v(" "),e._m(0),e._v(" "),s("tbody",e._l(e.eplists,(function(t,i){return s("tr",{key:i,class:{"elecTable_tr--disabled":!t.enable}},[s("td",{staticClass:"elecTable_td"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.mtype,expression:"el.mtype"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"mtype",s.target.multiple?i:i[0])}}},[s("option",[e._v("url")]),e._v(" "),s("option",[e._v("host")]),e._v(" "),s("option",[e._v("useragent")]),e._v(" "),s("option",[e._v("reqmethod")]),e._v(" "),s("option",[e._v("reqbody")]),e._v(" "),s("option",[e._v("resstatus")]),e._v(" "),s("option",[e._v("restype")]),e._v(" "),s("option",[e._v("resbody")])])]),e._v(" "),s("td",{staticClass:"elecTable_td"},["reqmethod"==t.mtype?s("select",{directives:[{name:"model",rawName:"v-model",value:t.match,expression:"el.match"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"match",s.target.multiple?i:i[0])}}},[s("option",[e._v("GET")]),e._v(" "),s("option",[e._v("POST")]),e._v(" "),s("option",[e._v("PUT")]),e._v(" "),s("option",[e._v("DELETE")])]):"resstatus"==t.mtype?s("select",{directives:[{name:"model",rawName:"v-model",value:t.match,expression:"el.match"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"match",s.target.multiple?i:i[0])}}},[s("option",[e._v("200")]),s("option",[e._v("404")]),s("option",[e._v("30x")]),s("option",[e._v("50x")])]):s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:t.match,expression:"el.match",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:t.match},on:{change:function(s){e.$set(t,"match",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.ctype,expression:"el.ctype"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"ctype",s.target.multiple?i:i[0])}}},[s("option",{attrs:{value:"js"}},[e._v("JS")]),e._v(" "),s("option",{attrs:{value:"307"}},[e._v("307 重定向")]),e._v(" "),s("option",{attrs:{value:"block"}},[e._v("阻止")]),e._v(" "),s("option",{attrs:{value:"hold"}},[e._v("$HOLD")]),e._v(" "),s("option",{attrs:{value:"ua"}},[e._v("User-Agent")])])]),e._v(" "),s("td",{staticClass:"elecTable_td"},["block"==t.ctype?s("select",{directives:[{name:"model",rawName:"v-model",value:t.target,expression:"el.target"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"target",s.target.multiple?i:i[0])}}},[s("option",{attrs:{selected:"selected"}},[e._v("reject")]),e._v(" "),s("option",[e._v("tinyimg")])]):"ua"==t.ctype?s("select",{directives:[{name:"model",rawName:"v-model",value:t.target,expression:"el.target"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"target",s.target.multiple?i:i[0])}}},e._l(e.uagentlists,(function(t,i){return s("option",{domProps:{value:i}},[e._v(e._s(t))])})),0):s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:t.target,expression:"el.target",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:t.target},on:{change:function(s){e.$set(t,"target",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.stage,expression:"el.stage"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"stage",s.target.multiple?i:i[0])}}},[s("option",{attrs:{value:"req"}},[e._v("网络请求前")]),e._v(" "),s("option",{attrs:{value:"res",selected:"selected"}},[e._v("数据返回前")])])]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("checkbox",{attrs:{oCheck:t}})],1),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.ruleDel(i)}}})])])})),0),e._v(" "),s("tfoot",[s("tr",[s("td",{staticClass:"elecTable_add",attrs:{colspan:"7"},on:{click:function(t){return e.eplists.push({mtype:"host",match:"host.com",ctype:"js",target:"0body.js",stage:"res",enable:!0})}}},[e._v("+")])])])])]),e._v(" "),s("p",{staticClass:"center"},[s("button",{staticClass:"elecBtn elecBtn--long",on:{click:function(t){return e.rulesSave()}}},[e._v("保存")])])]),e._v(" "),e._m(1)])};Zn._withStripped=!0;var Qn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"checkbox",style:{background:e.bChecked?"var(--main-cl)":"var(--main-fc)"},on:{click:function(t){e.bChecked=!e.bChecked}}},[s("span",{staticClass:"checkbox_status",style:{float:e.bChecked?"right":"left",background:e.bChecked?"var(--icon-bk)":"var(--main-cl)"}})])};Qn._withStripped=!0;var ea=qn({name:"checkbox",props:["oCheck","oKey"],computed:{bKey(){return this.oKey||"enable"},bChecked:{get(){return!1!==this.oCheck[this.bKey]},set(e){this.$set(this.oCheck,this.bKey,e)}}}},Qn,[],!1,null,"1a1c7d15",null);ea.options.__file="web/src/utils/checkbox.vue";const ta=ea.exports,sa={name:"rules",data:()=>({header:"RULES",uagentlists:{},eplists:[],ruleble:{enable:!0},icon:Jn}),computed:{rulestatus(){return this.eplists.filter((e=>e.enable)).length+"/"+this.eplists.length}},components:{checkbox:ta},created(){this.rulesInit()},methods:{rulesInit(){const e=this.$message.loading("正在获取规则列表...",0);this.$axios.get("/data?type=rules").then((e=>{this.eplists=e.data.eplists.list;for(let t in e.data.uagent)e.data.uagent[t].name&&(this.uagentlists[t]=e.data.uagent[t].name);this.ruleble.enable=!1!==e.data.eplists.enable,this.$message.success(`成功获取规则列表 ${this.rulestatus}`),console.log("成功获取规则列表",this.rulestatus)})).catch((e=>{this.$message.error("获取规则列表失败",e.message),console.error("获取列表失败",e)})).finally(e)},rulesSave(){if(confirm("共 "+this.rulestatus+" 条规则将被保存，"+(this.ruleble.enable?"":"但不启用该规则列表，")+"确定？")){const e=this.$message.loading("规则保存中...",0);this.$axios.put("/data",{type:"rules",eplists:this.eplists,ruleenable:this.ruleble.enable}).then((e=>{0===e.data.rescode?this.$message.success("保存成功",e.data.message):this.$message.error("RULES 规则保存失败",e.data.message)})).catch((e=>{this.$message.error("保存失败",e.message),console.error(e)})).finally(e)}},ruleDel(e){switch(this.$sType(e)){case"number":this.$delete(this.eplists,e);break;case"array":if(e.length&&confirm(`确定删除这 ${e.length} 条规则吗？\n（手动保存后正式生效）`)){let t=this.eplists.slice();for(let s of e)t[s]&&(t[s]=-1);this.eplists=t.filter((e=>-1!==e))}break;default:this.$message.error("规则删除失败，未知删除参数")}}}};var ia=qn(sa,Zn,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"elecTable_th elecTable_th--select"},[e._v("匹配方式")]),e._v(" "),s("th",{staticClass:"elecTable_th minw320"},[e._v("匹配内容（正则）")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--select"},[e._v("修改方式")]),e._v(" "),s("th",{staticClass:"elecTable_th minw480"},[e._v("修改内容")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--select"},[e._v("修改时间")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--enable"},[e._v("启用")]),e._v(" "),s("th",{staticClass:"elecTable_th minw62"},[e._v("操作")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("ul",[s("li",[e._v("所有更改在保存后正式生效")]),e._v(" "),s("li",[e._v("仅首条命中规则有效，优先级低于 REWRITE")]),e._v(" "),s("li",[e._v("$HOLD 后面修改内容表示时间(秒) 0: 一直等待")]),e._v(" "),s("li",[e._v("更详细说明，参考 "),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/03-rules.md",target:"_blank"}},[e._v("说明文档: 03-rules")])])])])}],!1,null,null,null);ia.options.__file="web/src/rules/rules.vue";const na=ia.exports;var aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.reSave()):null},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(e.rewriteChecked="none"))}}},[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content"},[s("div",{staticClass:"etable",on:{click:function(t){return t.stopPropagation(),e.rewriteDelegate(t)}}},[s("table",{staticClass:"elecTable",class:{"elecTable--disabled":!e.rewriteble.enable}},[s("caption",{staticClass:"elecTable_caption",class:{"elecTable--disabled":!e.rewriteble.enable}},[s("div",{staticClass:"eflex elecTable_caption--left"},[s("span",{attrs:{title:"启用/禁用该列表下的所有规则（包含订阅"}},[e._v("启用：")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.rewriteble}})],1),e._v(" "),s("span",{attrs:{title:"重写/修改某个网络请求的部分数据"}},[e._v("重写规则列表 - "+e._s(e.rewritestatus))]),e._v(" "),s("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.reInit()}}})]),e._v(" "),s("thead",[s("tr",[s("th",{staticClass:"elecTable_th elecTable_th--check",attrs:{title:"全选/全不选(esc)"}},[s("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.rewriteCkall(t)}}})]),e._v(" "),s("th",{staticClass:"elecTable_th minw320"},[e._v("匹配链接（正则表达式）")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--select"},[e._v("匹配阶段")]),e._v(" "),s("th",{staticClass:"elecTable_th minw320",attrs:{title:"对应 JS 文件或 reject 参数"}},[e._v("重写方式")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v("备注")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--enable"},[e._v("启用")]),e._v(" "),s("th",{staticClass:"elecTable_th minw62"},[e._v("操作")])])]),e._v(" "),s("tbody",{attrs:{tabindex:"0"}},[e._l(e.rewritelists,(function(t,i){return s("tr",{key:i,class:{"elecTable_tr--disabled":!t.enable,"elecTable_tr--selected":e.rewriteChecked[i]}},[s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.rewriteCheck,expression:"rewriteCheck"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.rewriteCheck)?e._i(e.rewriteCheck,i)>-1:e.rewriteCheck},on:{change:function(t){var s=e.rewriteCheck,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=i,o=e._i(s,r);n.checked?o<0&&(e.rewriteCheck=s.concat([r])):o>-1&&(e.rewriteCheck=s.slice(0,o).concat(s.slice(o+1)))}else e.rewriteCheck=a}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.match,expression:"rewrite.match",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:t.match},on:{input:function(s){s.target.composing||e.$set(t,"match",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.stage,expression:"rewrite.stage"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"stage",s.target.multiple?i:i[0])}}},[s("option",{attrs:{value:"res",selected:"selected"}},[e._v("数据返回前")]),e._v(" "),s("option",{attrs:{value:"req"}},[e._v("网络请求前")])])]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.target,expression:"rewrite.target",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:t.target},on:{input:function(s){s.target.composing||e.$set(t,"target",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.note,expression:"rewrite.note",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"备注信息（可省略"},domProps:{value:t.note},on:{input:function(s){s.target.composing||e.$set(t,"note",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("checkbox",{attrs:{oCheck:t}})],1),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.rewriteDel(i)}}})])])})),e._v(" "),s("tr",[s("td",{staticClass:"center border_top1",attrs:{colspan:"7"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.rewriteCheck.length,expression:"rewriteCheck.length"}],staticClass:"elecTable_addbtn elecTable_addbtn--clear",on:{click:function(t){return e.rewriteDel(e.rewriteCheck)}}},[e._v("删除选中规则 "+e._s(e.rewriteCheck.length))]),e._v(" "),s("span",{staticClass:"elecTable_addbtn",attrs:{"data-method":"newRewrite"}},[e._v("添加重写规则")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn",attrs:{"data-method":"exportRewrite",title:"备份包含订阅在内的当前所有规则"}},[e._v("备份当前列表")]),e._v(" "),s("input",{ref:"rewriteim",staticClass:"eupload_file eupload_file--small eupload_file--rewrite",attrs:{type:"file",accept:".list,.json"},on:{change:e.rewriteImport}})])])],2),e._v(" "),e._l(e.rewritesub,(function(t,i){return s("tbody",{key:i,staticClass:"elecTable_group",style:{background:t.bkcolor}},[s("tr",{class:{"elecTable_tr--disabled":!t.enable,"elecTable_tr--selected":-1!==e.rewritesubChecked.indexOf(i)}},[s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.rewritesubChecked,expression:"rewritesubChecked"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.rewritesubChecked)?e._i(e.rewritesubChecked,i)>-1:e.rewritesubChecked},on:{change:[function(t){var s=e.rewritesubChecked,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=i,o=e._i(s,r);n.checked?o<0&&(e.rewritesubChecked=s.concat([r])):o>-1&&(e.rewritesubChecked=s.slice(0,o).concat(s.slice(o+1)))}else e.rewritesubChecked=a},function(t){return e.rewritesubCheck(i,t)}]}})]),e._v(" "),s("td",{staticClass:"elecTable_td",attrs:{colspan:"4"}},[s("div",{staticClass:"eflex w100"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"subr.name",modifiers:{trim:!0}}],staticClass:"elecTable_input elecTable_th--name",attrs:{type:"text",placeholder:"订阅名称"},domProps:{value:t.name},on:{input:function(s){s.target.composing||e.$set(t,"name",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.resource,expression:"subr.resource",modifiers:{trim:!0}}],staticClass:"elecTable_input elecBtn--mleft",attrs:{type:"text",placeholder:"订阅地址",title:"alt+enter 在新标签页中打开此订阅链接"},domProps:{value:t.resource},on:{keydown:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:s.altKey?(s.preventDefault(),s.ctrlKey||s.shiftKey||s.metaKey?null:e.$uApi.open(t.resource)):null},input:function(s){s.target.composing||e.$set(t,"resource",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--mleft",on:{click:function(s){return e.rewritesubUpdate(t.resource,i)}}},[e._v("获取内容")]),e._v(" "),-1!==e.rewritesubChecked.indexOf(i)?s("button",{staticClass:"elecBtn elecBtn--mleft",attrs:{"data-method":"exportRewrite","data-parm":i,title:"导出当前订阅下的所有规则"}},[e._v("导出订阅")]):t.collapse?s("span",{staticClass:"elecBtn elecBtn--mleft elecBtn--uncheck"},[e._v(e._s(t.enable?t.list.filter((function(e){return e.enable})).length:"0")+"/"+e._s(t.list.length))]):s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.bkcolor,expression:"subr.bkcolor",modifiers:{trim:!0,lazy:!0}}],staticClass:"elecTable_input elecTable_cell100 elecBtn--mleft",attrs:{placeholder:"背景色",title:"当前分组背景颜色/图片"},domProps:{value:t.bkcolor},on:{change:function(s){e.$set(t,"bkcolor",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("td",{staticClass:"elecTable_td",attrs:{title:"启用/禁用该订阅下的所有规则"}},[s("checkbox",{attrs:{oCheck:t}})],1),e._v(" "),s("td",{staticClass:"elecTable_td"},[t.resource&&-1===e.rewritesubChecked.indexOf(i)?t.collapse?s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.downcircle)},on:{click:function(t){return e.rewritesubOp(i,"collapse")}}}):s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.upcircle)},on:{click:function(t){return e.rewritesubOp(i,"collapse")}}}):s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.rewritesubOp(i,"delete")}}})])]),e._v(" "),e._l(e.rewritesublist[i],(function(t,n){return s("tr",{class:{"elecTable_tr--disabled":!t.enable,"elecTable_tr--selected":e.rewriteChecked[i+"|"+n]}},[s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.rewriteCheck,expression:"rewriteCheck"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i+"|"+n,checked:Array.isArray(e.rewriteCheck)?e._i(e.rewriteCheck,i+"|"+n)>-1:e.rewriteCheck},on:{change:function(t){var s=e.rewriteCheck,a=t.target,r=!!a.checked;if(Array.isArray(s)){var o=i+"|"+n,l=e._i(s,o);a.checked?l<0&&(e.rewriteCheck=s.concat([o])):l>-1&&(e.rewriteCheck=s.slice(0,l).concat(s.slice(l+1)))}else e.rewriteCheck=r}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.match,expression:"rewrite.match",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:t.match},on:{input:function(s){s.target.composing||e.$set(t,"match",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.stage,expression:"rewrite.stage"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"stage",s.target.multiple?i:i[0])}}},[s("option",{attrs:{value:"res",selected:"selected"}},[e._v("数据返回前")]),e._v(" "),s("option",{attrs:{value:"req"}},[e._v("网络请求前")])])]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.target,expression:"rewrite.target",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:t.target},on:{input:function(s){s.target.composing||e.$set(t,"target",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.note,expression:"rewrite.note",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"备注信息（可省略"},domProps:{value:t.note},on:{input:function(s){s.target.composing||e.$set(t,"note",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("checkbox",{attrs:{oCheck:t}})],1),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.rewriteDel(i+"|"+n)}}})])])}))],2)})),e._v(" "),s("tfoot",[s("tr",[s("td",{staticClass:"center border_top1",attrs:{colspan:"7"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.rewriteCheck.length,expression:"rewriteCheck.length"}],staticClass:"elecTable_addbtn elecTable_addbtn--clear",on:{click:function(t){return e.rewriteDel(e.rewriteCheck)}}},[e._v("删除选中规则 "+e._s(e.rewriteCheck.length))]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.rewriteCheck.length,expression:"rewriteCheck.length"}],staticClass:"elecTable_addbtn greenbk",attrs:{"data-method":"disOrEn","data-parm":"enable"}},[e._v("启用|禁用选中规则")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.rewriteCheck.length,expression:"rewriteCheck.length"}],staticClass:"elecTable_addbtn",attrs:{"data-method":"exportRewrite","data-parm":"checked"}},[e._v("生成订阅文件")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn",attrs:{"data-method":"newSub"}},[e._v("添加重写订阅")])])])])],2)]),e._v(" "),s("p",{staticClass:"center"},[s("button",{staticClass:"elecBtn elecBtn--long",on:{click:function(t){return e.reSave()}}},[e._v("保存规则")])])]),e._v(" "),e._m(0)])};aa._withStripped=!0;const ra={name:"rewrite",props:[],data:()=>({header:"REWRITE",rewritelists:[],rewritesub:[],rewritesubChecked:[],rewriteCheck:[],rewriteble:{enable:!0},icon:Jn}),components:{checkbox:ta},computed:{rewritestatus(){let e=Object.keys(this.rewritesub),t=this.rewritelists.length,s=this.rewritelists.filter((e=>e.enable)).length;return e.forEach((e=>{void 0===this.rewritesub[e].list&&(this.rewritesub[e].list=[]),this.rewritesub[e].enable&&(s+=this.rewritesub[e].list.filter((e=>e.enable)).length,t+=this.rewritesub[e].list.length),void 0===this.rewritesub[e].collapse&&(this.rewritesub[e].collapse=!1)})),s+"/"+t+"/"+e.length},rewriteChecked:{get(){let e=[];return this.rewriteCheck.forEach((t=>{e[t]=!0})),e},set(e){"all"===e?this.rewriteCheck=Object.keys(this.rewritelists):"none"===e&&(this.rewriteCheck=[])}},rewritesublist(){let e={};return Object.keys(this.rewritesub).forEach((t=>{this.rewritesub[t].collapse?e[t]=[]:e[t]=this.rewritesub[t].list||[]})),e}},created(){this.reInit()},methods:{reInit(){const e=this.$message.loading("正在获取 rewrite 列表...",0);this.$axios.get("/data?type=rewritelists").then((e=>{e.data?(this.rewritesub=e.data.rewritesub||{},this.rewritelists=e.data.rewrite.list,this.rewriteCheck=[],this.rewriteble.enable=!1!==e.data.rewrite.enable,this.dealOldList(),this.$message.success("成功获取 REWRITE 规则列表",this.rewritestatus)):this.$message.error("REWRITE 规则列表获取失败")})).catch((e=>{this.$message.error("获取 REWRITE 规则列表失败",e.message),console.error("获取 REWRITE 规则列表失败",e)})).finally(e)},dealOldList(){let e=[];for(let t in this.rewritelists){let s=this.rewritelists[t];if("req"!==s.stage&&"res"!==s.stage&&(s.stage=/^reject(-200|-dict|-json|-array|-img)?$/.test(s.target)?"req":"res"),s.belong){let i=s.belong;delete s.belong,this.rewritesub[i]?(this.rewritesub[i].list?this.rewritesub[i].list.push(s):this.rewritesub[i].list=[s],this.rewritesub[i].bkcolor||(this.rewritesub[i].bkcolor=this.$uStr.randomColor({max:200})),e.push(t)):console.log("规则",s.match,"对应订阅已不存在，删除 belong 属性",i)}}e.reverse().forEach((e=>this.$delete(this.rewritelists,e)))},reSave(){let e=[];if(this.rewritelists.forEach(((t,s)=>{t.match&&t.target||e.push(s+1)})),e.length>0)this.$message.error("当前列表第",e.join(", "),"/",this.rewritelists.length,"项包含空字符，请填写完整或删除后再进行保存");else if(confirm(`保存重写规则列表 ${this.rewritestatus}${this.rewriteble.enable?"":"，但不启用"}`)){const e=this.$message.loading("重写规则上传保存中...",0);this.$axios.put("/data",{type:"rewrite",rewritelists:this.rewritelists,rewritesub:this.rewritesub,rewriteenable:this.rewriteble.enable}).then((e=>{0===e.data.rescode?this.$message.success("保存成功",e.data.message):this.$message.error("REWRITE 规则保存失败",e.data.message)})).catch((e=>{this.$message.error(e.message),console.error("重写规则保存失败",e)})).finally(e)}},rewriteDelegate(e){switch(e.target.dataset.method){case"disOrEn":let t="disable"===e.target.dataset.parm;this.rewriteCheck.forEach((e=>{if("number"===this.$sType(e))this.rewritelists[e].enable=t;else{let[s,i]=e.split("|");s&&i&&this.rewritesublist[s]&&(this.rewritesub[s].list[i].enable=t)}})),e.target.dataset.parm=t?"enable":"disable",this.$message.success("已批量",t?"启用":"禁用",this.rewriteCheck.length,"条规则");break;case"newRewrite":this.rewritelists.push({match:"",stage:"res",target:"",enable:!0});break;case"newSub":this.rewritesubAdd();break;case"exportRewrite":this.rewriteExport(e.target.dataset.parm)}},async rewritesubUpdate(e,t){if(!e||!/^https?:\/\/\S{4}|^\/?efss\//.test(e))return void this.$message.error("请输入正确的订阅地址");let s=this.$message.loading("正在获取订阅内容中...",0),i="";try{i=await this.$axios.get(e)}catch(t){if(t.response)return s(),this.$message.error(`获取订阅内容失败，服务器返回状态码 ${t.response.status}`),void console.debug(`获取订阅内容失败，服务器返回状态码 ${t.response.status}`,t.response.data);if(!/^https?:\/\/\S{4}/.test(e))return s(),void this.$message.error("获取订阅内容失败",t.message);try{this.$message.error("获取订阅内容失败",t.message,"即将尝试从服务器端获取该订阅内容"),i=await this.$axios.get("/data?type=stream&url="+e)}catch(e){return s(),void this.$message.error("获取订阅信息失败",e.message,"请检测网络后重试")}}if(200!==i.status||-1===i.data.rescode)return s(),this.$message.error("该订阅返回状态有误，请确认当前网络环境或输入链接是否正常"),void console.error(i.data);s();let n=this.$sJson(i.data);if(!n||!n.list&&!n.rewrite){if(!i.data)return void this.$message.error("没有检测到任何订阅内容");i.data=this.$sString(i.data),this.$message.success("检测到该订阅内容为非 elecV2P 订阅格式，尝试以兼容模式解析该内容"),n={name:this.rewritesub[t].name,mitmhost:[],list:[]};let e=i.data.match(/hostname ?= ?(.+)/);e&&e[1]&&(n.mitmhost=e[1].split(/ ?, ?/)),n.mitmhost.length&&(n.mitmhost[0]=n.mitmhost[0].replace("%APPEND% ","")),i.data.split(/\r|\n/).forEach((e=>{if(/^(#|\[|\/\/)/.test(e)||e.length<3)return;let t=e.split(" "),s=e.match(/script-path=([^,]*)/),i="",a="res",r="";if(s&&s[1])if(r=s[1],a=/http-request/.test(e)?"req":"res",/^http-res/.test(t[0]))i=t[1];else{let t=e.match(/pattern=([^,]*)/);t&&t[1]&&(i=t[1])}else t.length>=2&&(r=t.pop(),/^http|^reject|\.js$/.test(r)&&(i=t[0],a=/^reject/.test(r)||/request/.test(t[2])?"req":"res"));i&&a&&r&&n.list.push({match:i,stage:a,target:r,enable:!0})}))}if(n&&n.rewrite&&n.rewrite.length&&(n.list=n.rewrite),n&&n.list&&n.list.length){let e=`<div class="emargin title_inline">${n.note||"没有任何备注说明"}</div><div class="eflex eflex--center emargin w100"><label class="w220 cursor" data-method="nav" data-panel="rewrite">重写规则 ${n.list.length} 条</label><button class="elecBtn elecBtn--h32 greenbk" title="所有旧有规则将被替换" data-method="rewriteAdd">更新</button></div>`;n.mitmhost&&n.mitmhost.length&&(e+=`<div class="eflex eflex--center emargin w100"><label class="w220 cursor" data-method="nav" data-panel="mitm">MITM 域名 ${n.mitmhost.length} 个</label><button class="elecBtn elecBtn--h32 greenbk" data-method="hostAdd">添加</button></div>`),n.task&&n.task.list&&(e+=`<div class="eflex eflex--center emargin w100"><label class="w220 cursor" data-method="nav" data-panel="task">定时任务 ${n.task.list.length} 个</label><button class="elecBtn elecBtn--h32 greenbk" data-method="taskAdd">添加</button></div>`),e+=`<div class="emargin border_top1">作者: ${n.author||"无"}  更新: ${n.resource||"无"}</div>`;let s=this.$axios,i=this.$message,a=this.rewritesub;this.$evui({title:`${n.name||this.rewritesub[t].name||"检测到如下规则"}`,width:600,height:300,style:{title:`background: ${n.bkcolor||this.rewritesub[t].bkcolor};`,content:"text-align: center;margin: .2em;"},content:e,methods:{rewriteAdd(){let e=document.querySelector("[data-method=rewriteAdd]");if(e){if(e.dataset.done)return void i.success("重写规则已添加");e.dataset.done="1",e.classList.remove("greenbk"),e.classList.add("elecBtn--stop")}let s=n.list.filter((e=>{if(e.match&&/^http|^reject|\.js$/.test(e.target))return"req"!==e.stage&&"res"!==e.stage&&(e.stage=/^reject/.test(e.target)?"req":"res"),e.enable=!1!==e.enable,!0}));n.name&&(a[t].name=n.name),void 0!==n.enable&&(a[t].enable=n.enable),n.bkcolor&&(a[t].bkcolor=n.bkcolor),n.resource&&(a[t].resource=n.resource),a[t]={...a[t],list:s},i.success("订阅",n.name,"内容更新完成（保存后正式生效）")},taskAdd(){let e=document.querySelector("[data-method=taskAdd]");if(e){if(e.dataset.done)return void i.success("定时任务已添加");e.dataset.done="1",e.classList.remove("greenbk"),e.classList.add("elecBtn--stop")}for(let e of n.task.list)s.put("/task",{op:"add",data:{type:n.task.type,task:e}}).then((t=>{0===t.data.rescode?i.success("添加定时任务",e.name,t.data.message):i.error("添加定时任务失败",t.data.message)})).catch((e=>{i.error("添加定时任务失败",e.message),console.error("添加定时任务失败",e)}))},hostAdd(){let e=document.querySelector("[data-method=hostAdd]");if(e){if(e.dataset.done)return void i.success("解析域名已添加");e.dataset.done="1",e.classList.remove("greenbk"),e.classList.add("elecBtn--stop")}s.put("/data",{type:"mitmhostadd",data:n.mitmhost,note:n.name}).then((e=>{0===e.data.rescode?i.success("成功更新 MITMHOST",n.mitmhost.join(", ")):i.error("MITMHOST 更新失败",e.data.message)})).catch((e=>{i.error("更新 mitmhost 失败",e.message),console.error("更新 mitmhost 失败",e)}))}}})}else this.$message.error("elecV2P 暂时无法解析该订阅内容"),console.debug(this.rewritesub[t].name,"内容为",i.data)},rewritesubCheck(e,t){if(e&&t)if(t.target.checked)for(let t in this.rewritesub[e].list||[]){let s=e+"|"+t;-1===this.rewriteCheck.indexOf(s)&&this.rewriteCheck.push(s)}else this.rewriteCheck=this.rewriteCheck.filter((t=>!("string"==typeof t&&t.startsWith(e))))},rewriteDel(e){switch(this.$sType(e)){case"number":this.$delete(this.rewritelists,e);break;case"array":if(e.length&&confirm(`确定删除这 ${e.length} 条规则吗？\n（手动保存后正式生效）`)){for(let t of e)this.rewriteDel(t);this.rewriteCheck=[]}break;case"string":let[t,s]=e.split("|");t&&s&&this.rewritesublist[t]&&(this.rewritesublist[t].splice(Number(s),1),this.$forceUpdate());break;default:this.$message.error("规则删除失败，未知删除参数")}},rewritesubAdd(e=this.$uStr.euid()){this.$set(this.rewritesub,e,{name:"elecV2P 重写订阅 "+(Object.keys(this.rewritesub).length+1),resource:"",type:"rewrite",note:"",date:this.$sTime(),total:0,active:0,enable:!0,bkcolor:this.$uStr.randomColor({max:200}),collapse:!1,list:[]})},rewritesubOp(e,t="delete"){"collapse"===t?(this.rewritesub[e].collapse=!this.rewritesub[e].collapse,this.rewritesub[e].collapse?this.rewritesublist[e]=[]:this.rewritesublist[e]=this.rewritesub[e].list,this.$forceUpdate()):this.rewritesub[e]&&(0===this.rewritesub[e].list.length||confirm("确定删除重写订阅："+this.rewritesub[e].name+" 及其相关规则\n（并不会删除已添加的 MITMHOST/TASK 等）"))&&(this.$delete(this.rewritesub,e),this.rewriteCheck=this.rewriteCheck.filter((t=>!("string"==typeof t&&t.startsWith(e)))))},rewriteCkall(e){this.rewriteChecked=e.target.checked?"all":"none"},rewriteExport(e="all"){let t=Object.create(null),s="rewritesub-elecV2P.json";switch(e){case"all":t={rewrite:{note:"elecV2P 重写规则",date:this.$sTime(),total:this.rewritelists.length,active:this.rewritelists.filter((e=>e.enable)).length,enable:this.rewriteble.enable,list:this.rewritelists},rewritesub:this.rewritesub},s="rewrite.list",this.$message.success("成功使用当前规则列表（包含订阅）生成备份文件，请选择目录进行保存");break;case"checked":t={name:"elecV2P 重写订阅",author:"留个名字 elecV2",note:"xx 导出的重写规则。该订阅目前仅适用于 elecV2P。更多说明请查看: https://github.com/elecV2/elecV2P-dei/tree/master/docs/05-rewrite.md",date:this.$sTime(),type:"rewrite",resource:"订阅更新远程链接（待填写",mitmhost:[],list:[]},this.rewriteCheck.forEach((e=>{if("number"===this.$sType(e))e=this.rewritelists[e];else{let[t,s]=e.split("|");t&&s&&this.rewritesublist[t]&&(e=this.rewritesublist[t][s])}e.match&&e.stage&&e.target&&t.list.push(e)}));break;default:this.rewritesub[e]?(t={...this.rewritesub[e],type:"rewrite",note:"关于该订阅的一些说明（可省略）。该订阅目前仅适用于 elecV2P，与其他软件并不兼容。更详细说明请查看: https://github.com/elecV2/elecV2P-dei/tree/master/docs/05-rewrite.md",date:this.$sTime()},delete t.total,delete t.active,delete t.collapse,s=this.rewritesub[e].name):this.$message.error("未知导出类型",e)}"rewrite"===t.type||t.rewrite?this.$uApi.saveAsFile(t,s||"rewritesub-elecV2P.json"):this.$message.error("当前并没有检测到任何规则")},rewriteImport(){let e=this.$refs.rewriteim.files[0];if(!e)return;let t=new FileReader;t.onload=e=>{let t=e.target.result,s=this.$sJson(t);s&&(s.rewrite&&s.rewrite.list||s.rewritesub)?confirm(`检测到重写规则 ${s.rewrite.list.length} 条，订阅 ${Object.keys(s.rewritesub||{}).length} 个\n确定使用该备份替换当前所有规则及订阅吗？`)&&(this.rewritelists=s.rewrite.list||[],this.rewritesub=s.rewritesub||{},this.rewriteCheck=[],this.rewriteble.enable=!1!==s.rewrite.enable,this.dealOldList(),this.$message.success("成功导入重写规则备份文件，保存后正式生效")):(console.error("elecV2P 无法解析导入文件",t),this.$message.error("无法解析导入文件，仅支持 elecV2P 的备份文件")),this.$refs.rewriteim.value=""},t.readAsText(e)}}};var oa=qn(ra,aa,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("ul",[s("li",[s("b",[e._v("本页所有规则的更改在点击保存后才正式生效")])]),e._v(" "),s("li",[e._v("订阅规则并不会自动加载更新，需手动获取及保存")]),e._v(" "),s("li",[e._v("规则匹配公式: `(new RegExp('正则表达式')).test(request.url)`")]),e._v(" "),s("li",[e._v("更多说明请查看 "),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/05-rewrite.md",target:"_blank"}},[e._v("文档: 05-rewrite")])])])])}],!1,null,null,null);oa.options.__file="web/src/rewrite/rewrite.vue";const la=oa.exports;var ca=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content",on:{click:function(t){e.menu={}}}},[s("contextmenu",{attrs:{menus:e.menu.list,pos:e.menu.pos}}),e._v(" "),s("store",{attrs:{logs:e.logs},on:{belongview:function(t){t&&t.includes("|")?e.jsname=t:e.jsView(t)},"update:logs":function(t){e.logs=t}}}),e._v(" "),s("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(e.menu={}))}}},[s("h4",{staticClass:"title title--radius"},[s("span",{staticClass:"icon cursor title_sync",attrs:{title:"更新列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.getJSlist()}}}),e._v(" "),s("span",{staticClass:"title_main"},[e._v("当前服务器脚本文件 - "+e._s(e.jslists.length))]),e._v(" "),s("span",{staticClass:"title_arrow",class:{"title_arrow--up":e.collapse.titlearrow},on:{click:function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null;e.collapse.titlearrow=!e.collapse.titlearrow}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.collapse.titlearrow,expression:"collapse.titlearrow"}],staticClass:"uploadjs"},[s("div",{staticClass:"eflex w100 eflex--between"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.jsdownloadurl,expression:"jsdownloadurl",modifiers:{trim:!0}}],staticClass:"elecTable_input wp80",attrs:{type:"text",placeholder:"远程脚本链接"},domProps:{value:e.jsdownloadurl},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jsDownload()},input:function(t){t.target.composing||(e.jsdownloadurl=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("button",{staticClass:"elecBtn wp19",on:{click:function(t){return e.jsDownload()}}},[e._v("开始推送")])]),e._v(" "),s("div",{staticClass:"eflex eflex--between w100 emargin"},[s("div",{staticClass:"eupload wp80"},[s("input",{ref:"jsfiles",staticClass:"eupload_file eupload_file--js",attrs:{type:"file",accept:".js, .efh",multiple:""},on:{change:e.jstoupload}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.jsfiles.length,expression:"jsfiles.length"}],staticClass:"eupload_span"},[e._v(e._s(e.jsfilename))])]),e._v(" "),s("button",{staticClass:"elecBtn wp19",on:{click:function(t){return e.jsUpload()}}},[e._v("开始上传")])])]),e._v(" "),s("div",{staticClass:"jslists_cont",attrs:{tabindex:"0"}},[s("ul",{staticClass:"jslists_alljs",on:{click:function(t){return t.preventDefault(),e.jsOp(t)},contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.jsOp(t)}}},[e._l(e.jslistsshow,(function(t){return s("li",{staticClass:"jslists_item"},[s("span",{staticClass:"jsitem_view",attrs:{"data-method":"view","data-param":t}},[e._v("👁️")]),e._v(" "),s("span",{attrs:{"data-method":"menu","data-param":t}},[e._v(e._s(t))]),e._v(" "),s("span",{staticClass:"jsitem_delete",attrs:{"data-method":"delete","data-param":t}},[e._v("X")])])})),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:!!e.restnum,expression:"!!restnum"}],staticClass:"jslists_item jslists_item--showrest"},[s("span",{on:{click:function(t){e.shownum=-1}}},[e._v("显示剩余 "+e._s(e.restnum)+" 项")])])],2)])]),e._v(" "),s("div",{staticClass:"editor editor--jsmanage"},[s("h3",{staticClass:"editor_title"},[s("div",{staticClass:"eflex wp46 minw320"},[s("label",{staticClass:"minw100"},[e._v("文件名： ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.jsname,expression:"jsname",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"enter: 查看，ctrl+del: 删除"},domProps:{value:e.jsname},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jsView(e.jsname)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.jsDelete(e.jsname):null},function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.jsSave()):null},function(t){e.jsshowall=!1}],input:function(t){t.target.composing||(e.jsname=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.jsupdate,expression:"jsupdate"}],staticClass:"efont",attrs:{title:"该脚本最近更新时间"}},[e._v("最近更新: "+e._s(e.jsupdate))]),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.jsView()}}},[e._v("👁️ 新建脚本 👁️")])]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.jscontent,expression:"jscontent"}],staticClass:"editor_textarea",attrs:{placeholder:e.orgjs},domProps:{value:e.jscontent},on:{keydown:[function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.jsSave()):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.jsTest():null},function(t){return(t.type.indexOf("key")||66===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.jsTest()):null}],input:function(t){t.target.composing||(e.jscontent=t.target.value)}}}),e._v(" "),s("div",{staticClass:"eflex eflex--wrap w100"},[s("button",{staticClass:"elecBtn elecBtn--jseditor",on:{click:function(t){return e.jsSave()}}},[e._v("保存至服务器(ctrl+s)")]),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--jseditor",on:{click:function(t){return e.jsTest()}}},[e._v("测试运行(ctrl+b)")])])]),e._v(" "),s("mock",{attrs:{jslists:e.jslists},on:{"update:jslists":function(t){e.jslists=t}}}),e._v(" "),s("log",{attrs:{logs:e.logs,title:"脚本运行日志",collapse:e.collapse},on:{"update:logs":function(t){e.logs=t}}})],1),e._v(" "),e._m(0)])};ca._withStripped=!0;var ua=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"storemanage",class:{"storemanage--collapsed":e.collapse}},[s("h2",{staticClass:"title"},[s("span",{staticClass:"icon cursor title_sync",attrs:{title:"更新列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:e.storeGet}}),e._v(" "),s("span",{staticClass:"title_main",attrs:{title:"ctrl+f 搜索"}},[e._v("store/cookie 常量 - "+e._s(Object.keys(e.store).length))]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})]),e._v(" "),s("ul",{staticClass:"storelists",on:{click:function(t){return t.preventDefault(),e.storeOp(t)}}},[e._l(e.storeshow,(function(t){return s("li",{key:t,staticClass:"storelists_item"},[s("span",{attrs:{"data-edit":t}},[e._v(e._s(t))]),e._v(" "),s("span",{staticClass:"item_delete",attrs:{"data-delete":t}},[e._v("X")])])})),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:!!e.restnum,expression:"!!restnum"}],staticClass:"storelists_item storelists_item--showrest"},[s("span",{on:{click:function(t){e.shownum=-1}}},[e._v("显示剩余 "+e._s(e.restnum)+" 项")])])],2),e._v(" "),s("div",{staticClass:"editor"},[s("div",{staticClass:"editor_title"},[s("div",{staticClass:"eflex eflex--wrap"},[s("label",{staticClass:"store_label",attrs:{title:"请注意大小写"}},[e._v("KEY： ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.edkey,expression:"edkey",modifiers:{trim:!0}}],staticClass:"editor_input storekey_input",attrs:{type:"text",name:"name",placeholder:"NEWKEY"},domProps:{value:e.edkey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.storeEdit(e.edkey)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.storeDelete(e.edkey):null},input:function(t){t.target.composing||(e.edkey=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("div",{staticClass:"eflex eflex--wrap",attrs:{title:"如不清楚就保持默认"}},[s("label",[e._v("TYPE： ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.edvalue.type,expression:"edvalue.type"}],staticClass:"elecTable_select w120",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.edvalue,"type",t.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"selected"}},[e._v("string")]),e._v(" "),s("option",[e._v("number")]),e._v(" "),s("option",[e._v("array")]),e._v(" "),s("option",[e._v("object")]),e._v(" "),s("option",[e._v("boolean")])])]),e._v(" "),s("div",{staticClass:"eflex eflex--wrap"},[s("label",{staticClass:"store_label"},[e._v("关联：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.edvalue.belong,expression:"edvalue.belong",modifiers:{trim:!0,lazy:!0}}],staticClass:"editor_input storebelong_input",attrs:{type:"text",name:"name",placeholder:"写入或调用该 store 常量的脚本（可省略）"},domProps:{value:e.edvalue.belong},on:{change:function(t){e.$set(e.edvalue,"belong",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("div",{staticClass:"storebelong eflex--wrap"},[s("div",{staticClass:"eflex eflex--wrap"},[s("label",{staticClass:"store_label"},[e._v("备注：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.edvalue.note,expression:"edvalue.note",modifiers:{trim:!0,lazy:!0}}],staticClass:"editor_input storenote_input",attrs:{type:"text",name:"name",placeholder:"关于该 store 常量的一些说明（可省略）"},domProps:{value:e.edvalue.note},on:{change:function(t){e.$set(e.edvalue,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.edvalue.update,expression:"edvalue.update"}],staticClass:"efont",attrs:{title:"该 cookie 的最近更新时间"}},[e._v("最近更新: "+e._s(e.edvalue.update))]),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--viewjs",on:{click:function(t){return e.viewBelong()}}},[e._v("查看关联脚本")])])]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.edvalue.value,expression:"edvalue.value"}],staticClass:"editor_textarea",attrs:{placeholder:"the value of key"},domProps:{value:e.edvalue.value},on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.storeSave()):null},input:function(t){t.target.composing||e.$set(e.edvalue,"value",t.target.value)}}}),e._v(" "),s("div",{staticClass:"eflex eflex--wrap w100"},[s("input",{staticClass:"eupload_file",attrs:{type:"file",accept:".json,.zip",title:".json 表示单个 Cookie, .zip 表示所有 Cookie"},on:{change:e.storeImport}}),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--store",attrs:{title:"快捷键: ctrl+s"},on:{click:function(t){return e.storeSave()}}},[e._v("保存当前 Cookie")]),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--store",on:{click:function(t){return e.storeExport()}}},[e._v("导出当前 Cookie")]),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--store",on:{click:function(t){return e.storeBackup()}}},[e._v("备份所有 Cookie")])])])])};ua._withStripped=!0;var ha=qn({name:"storemanage",props:["logs"],data:()=>({store:[],edkey:"",edvalue:{type:"string"},collapse:!0,icon:Jn,shownum:50,restnum:0}),computed:{storeshow(){let e=this.shownum;if(-1===e||e>=this.store.length)return this.restnum=0,this.store;let t=0,s=[];for(;t++<e;)s.push(this.store[t]);return this.restnum=this.store.length-t+1,s}},created(){this.storeGet()},methods:{storeGet(){const e=this.$message.loading("正在获取 store 数据...",0);this.$axios.get("/store").then((e=>{this.store=e.data,this.$message.success("成功获取 store 数据 "+this.store.length),this.logs.unshift(`[${this.$logHead("storemanage info")}][${this.$sTime(null,1)}] 成功获取 store 数据 ${this.store.length}`)})).catch((e=>{this.$message.error("获取 store 数据失败",e.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] 获取 store/cookie 数据失败 ${e.message}`),console.error("获取 store 数据失败",e)})).finally(e)},storeEdit(e){if(!e)return void this.$message.error("请先确定要获取的 key 值");if(-1===this.store.indexOf(e))return this.$message.error(e,"暂不存在"),void this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${e} 暂不存在`);const t=this.$message.loading("正在获取",e,"的值...",0);this.$axios.get("/store/"+e).then((t=>{this.edkey=e,"object"==typeof t.data&&void 0!==t.data.type&&void 0!==t.data.value?(this.edvalue=t.data,/^(array|object)$/.test(t.data.type)&&(this.edvalue.value=JSON.stringify(t.data.value,null,2))):this.edvalue={type:"string",value:"object"==typeof t.data?JSON.stringify(t.data,null,2):t.data},this.$message.success("成功获取",e,"的值"),this.logs.unshift(`[${this.$logHead("storemanage info")}][${this.$sTime(null,1)}] 成功获取 ${e} 的值`)})).catch((t=>{this.$message.error("获取",e,"数据失败",t.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] 获取 ${e} 数据失败 ${t.message}`),console.error("获取",e,"数据失败",t)})).finally(t)},storeSave(){if(this.edkey&&this.edvalue.value){if(/array|object/.test(this.edvalue.type)){let e=this.$sJson(this.edvalue.value);if(!e)return void this.$message.error("当前输入内容无法转化为 array/object 格式");this.edvalue.value=JSON.stringify(e,null,2)}if(-1===this.store.indexOf(this.edkey)||confirm(this.edkey+" 已存在，是否覆盖？")){const e=this.$message.loading("数据上传保存中...",0);this.$axios.put("/store",{type:"save",data:{key:this.edkey,value:this.edvalue}}).then((e=>{-1===e.data.rescode?(this.$message.error(this.edkey,"保存失败"),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${this.edkey} 保存失败 ${e.data.message}`)):(this.$message.success(this.edkey,"已保存"),this.logs.unshift(`[${this.$logHead("storemanage info")}][${this.$sTime(null,1)}] ${this.edkey} 已保存 ${e.data.message||e.data}`),-1===this.store.indexOf(this.edkey)&&this.store.push(this.edkey),"number"===this.edvalue.type?this.edvalue.value=Number(this.edvalue.value):"boolean"===this.edvalue.type&&(this.edvalue.value=this.$uStr.sBool(this.edvalue.value)),this.$set(this.edvalue,"update",this.$sTime()))})).catch((e=>{this.$message.error("保存失败:",e.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${this.edkey} 保存失败 ${e.message}`),console.error("提交 store 数据失败",e)})).finally(e)}}else this.$message.error("请先输入 KEY 及对应内容")},storeDelete(e){if(confirm("确定删除："+e+"，及对应的值？")){const t=this.$message.loading("数据删除中...",0);this.$axios.put("/store",{type:"delete",data:e}).then((t=>{if(0===t.data.rescode){this.$message.success(e,"已删除"),this.logs.unshift(`[${this.$logHead("storemanage info")}][${this.$sTime(null,1)}] ${e} 已删除 ${t.data.message}`);const s=this.store.indexOf(e);s>-1&&this.store.splice(s,1),this.edkey===e&&(this.edkey="",this.edvalue={type:"string"})}else this.$message.error(e,"删除失败",t.data.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${e} 删除失败 ${t.data.message}`)})).catch((t=>{this.$message.error("删除失败："+t.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${e} 删除失败 ${t.message}`),console.error("删除数据失败",t)})).finally(t)}},storeOp(e){e.target.dataset.edit?this.storeEdit(e.target.dataset.edit):e.target.dataset.delete&&this.storeDelete(e.target.dataset.delete)},viewBelong(){this.edvalue.belong?(this.$emit("belongview",this.edvalue.belong.replaceAll(/ ?, ?|，| /g,"|")),this.$uApi.scrollView(".jslists")):this.$message.error("该 cookie 暂无关联脚本")},storeExport(){this.edkey&&this.edvalue.value?this.$uApi.saveAsFile({key:this.edkey,value:this.edvalue,update:this.$sTime()},this.edkey+"_elecV2Pstore.json"):this.$message.error("当前 Cookie 值为空")},storeImport(e){let t=e.target.files;if(!t.length)return void this.$message.error("请选择要导入的 Cookie 文件");let s=t[0];if("application/x-zip-compressed"===s.type){if(!/elecV2P/.test(s.name)&&!confirm("当前导入 zip 文件可能并不是 elecV2P store 备份\n确定要继续导入吗？"))return;const t=this.$message.loading("正在对上传的备份文件进行解析...");let i=new FormData;return i.append("backup",s),this.$axios.post("/store/backup",i,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{0===e.data.rescode?(console.debug(e.data),this.store=e.data.resdata,this.$message.success("store 备份成功上传"),this.logs.unshift(`[${this.$logHead("storeImport info")}][${this.$sTime(null,1)}] 备份上传成功 ${e.data.message}`)):(this.$message.error("备份上传失败",e.data.message),this.logs.unshift(`[${this.$logHead("storeImport error")}][${this.$sTime(null,1)}] store 备份上传失败 ${e.data.message}`))})).catch((e=>{this.$message.error("上传备份失败",e.message),this.logs.unshift(`[${this.$logHead("storeImport error")}][${this.$sTime(null,1)}] 上传备份失败 ${e.message}`),console.error(e)})).finally(t),void(e.target.value="")}if("application/json"!==s.type)return void this.$message.error("仅支持 json 格式文件导入");let i=new FileReader;i.onload=t=>{let s=t.target.result,i=this.$sJson(s);i.key&&i.value&&i.value.type&&i.value.value?(this.edkey=i.key,this.edvalue=i.value,this.logs.unshift(`[${this.$logHead("storeImport info")}][${this.$sTime(null,1)}] 成功导入 Cookie ${this.edkey}`),this.$message.success(`成功导入 Cookie ${this.edkey}`)):(console.error("elecV2P 无法解析该文件内容",s),this.$message.error("导入的 Cookie 文件内容格式不正确",8),this.logs.unshift(`[${this.$logHead("storeImport error")}][${this.$sTime(null,1)}] 导入的 Cookie 文件内容并非 elecV2P 可解析的格式\n${s.length>300?s.slice(-300)+"...":s}`)),e.target.value=""},i.readAsText(s)},storeBackup(){this.$uApi.open("/backup/store")}}},ua,[],!1,null,"b64bd498",null);ha.options.__file="web/src/jsmanage/store.vue";const da=ha.exports;var pa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mock",class:{"mock--collapsed":e.collapse}},[s("h4",{staticClass:"title title--mock"},[s("span",{staticClass:"title_main"},[e._v("模拟网络请求 - mock")]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})]),e._v(" "),s("div",{staticClass:"mockrequest"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.method,expression:"method"}],staticClass:"elecTable_select method_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.method=t.target.multiple?s:s[0]}}},[s("option",[e._v("GET")]),e._v(" "),s("option",[e._v("PUT")]),e._v(" "),s("option",[e._v("POST")]),e._v(" "),s("option",[e._v("DELETE")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.apiurl,expression:"apiurl",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input mock_input",domProps:{value:e.apiurl},on:{change:function(t){e.apiurl=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.mocktype,expression:"mocktype"}],staticClass:"elecTable_select mock_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.mocktype=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"fetch"}},[e._v("浏览器 fetch")]),e._v(" "),s("option",{attrs:{value:"axios"}},[e._v("服务器 axios")])])]),e._v(" "),s("div",{staticClass:"mockheader"},[s("label",{staticClass:"mock_label",attrs:{title:"网络请求头"}},[e._v("HEADERS:")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.headertype,expression:"headertype"}],staticClass:"elecTable_select mock_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.headertype=t.target.multiple?s:s[0]}}},[s("option",[e._v("text/plain")]),e._v(" "),s("option",[e._v("application/json")]),e._v(" "),s("option",[e._v("application/x-www-form-urlencoded")])]),e._v(" "),s("label",{staticClass:"mock_label"},[e._v("附加：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.headermore,expression:"headermore",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input mock_input",domProps:{value:e.headermore},on:{change:function(t){e.headermore=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.body,expression:"body",modifiers:{lazy:!0,trim:!0}}],staticClass:"mock_body editor_textarea",attrs:{placeholder:"request body. 网络请求体"},domProps:{value:e.body},on:{click:function(t){e.jsnameshow=!1},change:function(t){e.body=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("div",{staticClass:"mockop center"},[s("button",{staticClass:"elecBtn mockop_btn",on:{click:function(t){return e.mockreq()}}},[e._v("发送请求")]),e._v(" "),s("button",{staticClass:"elecBtn mockop_btn",on:{click:function(t){e.jsnameshow=!0}}},[e._v("生成脚本")])]),e._v(" "),e.jsnameshow?s("div",{staticClass:"mockjsname"},[s("label",{staticClass:"mock_label"},[e._v("给脚本起个名字：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.jsname,expression:"jsname",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input mock_input mock_input--jsname",domProps:{value:e.jsname},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.mockjs()},change:function(t){e.jsname=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.mockjs()}}},[e._v("确定")])]):e._e()])};pa._withStripped=!0;var fa=qn({name:"mock",props:["jslists"],data:()=>({method:"GET",apiurl:"https://httpbin.org/get",mocktype:"fetch",headertype:"text/plain",headermore:"{}",body:null,jsname:"elecV2Pmock.js",jsnameshow:!1,collapse:!0}),computed:{headers(){let e={"Content-Type":this.headertype+";charset=utf-8"},t=this.$sJson(this.headermore);return t?Object.assign(e,t):(this.$message.error("headers 附加内容并不是正确的 JSON 格式"),this.$wsrecv.dispatch("jsmanage",`[${this.$logHead("mockreq error")}][${this.$sTime(null,1)}] headers 附加内容 ${this.headermore} 并不是正确的 JSON 格式`)),e}},methods:{mockreq(){const e={url:this.apiurl,method:this.method,headers:this.headers,body:this.body};if(/json/.test(e.headers["Content-Type"])){let t=this.$sJson(this.body);if(!t)return console.error("body 内容并不是正确的 JSON 格式"),void this.$message.error("body 内容并不是正确的 JSON 格式");e.body=t}e.body?e.body=this.$sString(e.body):e.body=null;const t=this.$message.loading("网络请求已执行，等待数据返回...",0);"fetch"===this.mocktype?fetch(e.url,e).then((e=>e.text())).then((e=>{this.$message.success("网络请求成功"),e=`[${this.$logHead("mockFetch result")}][${this.$sTime(null,1)}] ${e}`,this.$wsrecv.dispatch("jsmanage",e)})).catch((e=>{this.$message.error("fetch 请求失败",e.message);let t=`[${this.$logHead("mockFetch error")}][${this.$sTime(null,1)}] fetch 请求失败 ${e.message}`;this.$wsrecv.dispatch("jsmanage",t),console.error("fetch 请求失败",e)})).finally(t):this.$axios.put("/mock",{type:"req",request:e}).then((e=>{this.$message.success("网络请求",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("请求失败",e.message),console.error(e)})).finally(t)},mockjs(){this.jsnameshow=!1;const e={url:this.apiurl,method:this.method,headers:this.headers};if(/json/.test(e.headers["Content-Type"])){let t=this.$sJson(this.body);if(!t)return console.error("body 内容并不是正确的 JSON 格式"),void this.$message.error("body 内容并不是正确的 JSON 格式");e.body=t}else e.body=this.body;if(this.jslists.indexOf(this.jsname)>-1&&!confirm(this.jsname+" 已存在，是否覆盖？"))return;const t=this.$message.loading("JS 脚本生成中...",0);this.$axios.put("/mock",{type:"js",jsname:this.jsname,request:e}).then((e=>{this.$message.success("脚本已保存",e.data.message),this.jslists.push(this.jsname)})).catch((e=>{this.$message.error("请求失败",e.message),console.error(e)})).finally(t)}}},pa,[],!1,null,"0d3b9107",null);fa.options.__file="web/src/jsmanage/mock.vue";const ma=fa.exports;var va=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loginfo",class:{"loginfo--full":!e.collapse.loginfo}},[s("h3",{staticClass:"loginfo_title"},[s("span",{staticClass:"loginfo_clear icon",attrs:{title:"清空日志"},domProps:{innerHTML:e._s(e.icon.clear)},on:{click:function(t){return e.logs.splice(0)}}}),e._v(" "),s("span",[e._v(e._s(e.title||"elecV2P 日志"))]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.loginfo},on:{click:function(t){e.collapse.loginfo=!e.collapse.loginfo}}})]),e._v(" "),s("div",{staticClass:"logcontext"},e._l(e.logobj,(function(t){var i=t.log,n=t.key;return s("span",{key:n,staticClass:"loginfo_item"},[e._v(e._s(i))])})),0)])};va._withStripped=!0;const ga={name:"log",props:{logs:Object,title:String,collapse:{type:Object,default:function(){return{loginfo:!0}}}},data:()=>({icon:Jn,logobj:[]}),watch:{logs(e){let t=[];e.forEach(((s,i)=>{t.push({log:s,key:e.length-i})})),this.logobj=t}}};var _a=qn(ga,va,[],!1,null,"60470f62",null);_a.options.__file="web/src/utils/log.vue";const ba=_a.exports;var ya=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"menu",style:{left:(e.pos?e.pos[0]:0)+"px",top:(e.pos?e.pos[1]:0)+"px"}},e._l(e.menus,(function(t,i){return s("li",{staticClass:"menu_item",style:{color:t.color,backgroundColor:t.bkcolor,fontSize:t.fontsize,height:t.height},attrs:{"data-method":t.method,"data-param":t.param},on:{click:function(t){return t.preventDefault(),e.click(i)},contextmenu:function(t){return t.preventDefault(),e.rclick(i)},dblclick:function(t){return t.preventDefault(),e.dclick(i)}}},[e._v(e._s(t.label))])})),0)};ya._withStripped=!0;var wa=qn({name:"contextmenu",props:["menus","pos"],methods:{click(e){this.menus.length&&this.menus[e].click?this.menus[e].click():console.debug("点击暂无对应处理函数"),this.menus.splice(0)},rclick(e){this.menus.length&&this.menus[e].rclick?this.menus[e].rclick():console.debug("右键暂无对应处理函数"),this.menus.splice(0)},dclick(e){this.menus.length&&this.menus[e].dclick?this.menus[e].dclick():console.debug("双击暂无对应处理函数"),this.menus.splice(0)}}},ya,[],!1,null,"29e5a6a8",null);wa.options.__file="web/src/utils/contextmenu.vue";const ka=wa.exports,$a={name:"jsmanage",data(){return{header:"脚本文件管理",jslists:[],jsdownloadurl:"",jsname:"new.js",jscontent:"",jsupdate:"",jsshowall:!1,jsfiles:[],orgjs:"// 每个脚本理论上都有权限对服务器上的任一文件进行随意修改，请不要运行自己不信任的脚本。\nconsole.log('当前 elecV2P 版本', __version)\n// 获取 store/cookie 值\nlet val = $store.get('cookieKEY')\nconsole.log('cookieKEY 对应值:', val)\n\n// 发送通知\n$feed.push('elecV2P 通知', '该通知来自脚本' + __name + '\\n\\n更多说明请查看: https://github.com/elecV2/elecV2P-dei/tree/master/docs/07-feed&notify.md', 'https://github.com/elecV2/elecV2P')\n\n// 网络请求\n$axios({\n  url: 'https://httpbin.org/post',\n  headers: {\n    'User-Agent': 'elecV2P Super Max Plus++',\n  },\n  method: 'post'\n}).then(res=>{\n  console.log(res.data)\n}).catch(e=>console.error(e.message)).finally(()=>{\n  $done('网络请求执行完毕')\n})\n\nconsole.log('更多脚本相关说明请查看说明文档: https://github.com/elecV2/elecV2P-dei/tree/master/docs/04-JS.md')\n",logs:[],icon:Jn,collapse:{titlearrow:this.$uStr.iRandom(0,10)>5,loginfo:!0},shownum:100,restnum:0,menu:{pos:[0,0],list:[]}}},components:{store:da,log:ba,mock:ma,contextmenu:ka},activated(){let e=this.$uApi.store.getCache("scriptview");e&&(this.jsView(e),this.$uApi.store.deleteCache("scriptview"))},computed:{jsfilename(){let e=[];for(let t=0;t<this.jsfiles.length;t++)e.push(this.jsfiles[t].name);return e.join(", ")},jsshow(){let e=this.shownum;if(-1===e||e>=this.jslists.length)return this.restnum=0,this.jslists;let t=0,s=[];for(;t++<e;)s.push(this.jslists[t]);return this.restnum=this.jslists.length-t+1,s},jslistsshow(){return this.jsshowall||!this.jsname||"new.js"===this.jsname?this.jsshow:this.jsshow.filter((e=>{try{return new RegExp(this.jsname,"i").test(e)}catch(e){return!0}}))}},created(){this.getJSlist().then((()=>{let e=new URL(location).searchParams.get("fn");e&&this.jsView(e)}));let e=this.$wsrecv.add("jsmanage",(e=>{/\r(?!\n)/.test(e)&&this.logs.shift(),this.logs.length>=200?this.logs.splice(0,this.logs.length,e):this.logs.unshift(e)}));e&&this.logs.unshift(`[${this.$logHead("websocket error")}][${this.$sTime(null,1)}] ${e}, 日志无法传输`)},methods:{async getJSlist(){const e=this.$message.loading("获取脚本列表中...",0);let t=await this.$axios.get("/jsfile").catch((e=>{this.$message.error("获取脚本列表失败",e.message),this.logs.unshift(`[${this.$logHead("jsmanage error")}][${this.$sTime(null,1)}] 脚本列表获取失败 ${e.message}`),console.error("获取失败",e)}));t&&t.data&&(this.jslists=t.data,this.$message.success(`成功获取脚本列表 ${this.jslists.length}`),this.logs.unshift(`[${this.$logHead("jsmanage info")}][${this.$sTime(null,1)}] 成功获取脚本 ${this.jslists.length}`)),e()},jsDownload(){if(!this.jsdownloadurl||!1===/^https?:\/\/\S{4}/.test(this.jsdownloadurl))return void this.$message.error("该远程脚本链接有误",this.jsdownloadurl);let e=this.jsdownloadurl.match(/ -rename(=| )([^\- ]+)/),t="",s="";if(e&&e[2]?(t=e[2].replace(/^(\\|\/)+/,""),s=this.jsdownloadurl.replace(/ -rename(=| )([^\- ]+)/,"").trim()):(t=this.$uStr.surlName(this.jsdownloadurl),s=this.jsdownloadurl),(/\.(js|efh)$/.test(s)||confirm("当前远程链接对应文件可能并非脚本文件，是否继续？"))&&(-1===this.jslists.indexOf(t)||confirm(t+" 已存在，是否覆盖？"))){const e=this.$message.loading(`${t} 下载中...`,0);this.$axios.put("/jsfile",{op:"jsdownload",name:t,url:s}).then((e=>{0===e.data.rescode?(this.$message.success(t,"下载成功"),-1===this.jslists.indexOf(t)&&this.jslists.push(t),this.logs.unshift(`[${this.$logHead("jsDownload info")}][${this.$sTime(null,1)}] ${t} 下载成功 ${e.data.message}`)):(this.$message.error(t,"下载失败"),this.logs.unshift(`[${this.$logHead("jsDownload error")}][${this.$sTime(null,1)}] ${s} 下载失败 ${e.data.message}`))})).catch((e=>{this.$message.error("下载失败",e.message),this.logs.unshift(`[${this.$logHead("jsDownload error")}][${this.$sTime(null,1)}] ${s} 下载失败，${e.message}`),console.error(s,"下载失败",e)})).finally(e)}},jsSave(){if(!/\.(js|efh)$/i.test(this.jsname))return this.$message.error("脚本文件名错误"),void this.logs.unshift(`[${this.$logHead("jsSave error")}][${this.$sTime(null,1)}] 脚本文件名错误 ${this.jsname}`);if(!this.jscontent)return this.$message.error("请先输入脚本内容"),void this.logs.unshift(`[${this.$logHead("jsSave error")}][${this.$sTime(null,1)}] 保存脚本失败，请先输入脚本内容`);const e=this.$message.loading(this.jsname,"保存中...",0);this.$axios.post("/jsfile",{jsname:this.jsname,jscontent:this.jscontent}).then((e=>{0===e.data.rescode?(this.$message.success(this.jsname,"保存成功"),-1===this.jslists.indexOf(this.jsname)&&this.jslists.push(this.jsname),this.logs.unshift(`[${this.$logHead("jsSave info")}][${this.$sTime(null,1)}] ${this.jsname} 保存成功`),this.jsupdate=this.$sTime()):(this.$message.error(this.jsname,"保存失败",e.data.message),this.logs.unshift(`[${this.$logHead("jsSave error")}][${this.$sTime(null,1)}] ${this.jsname} 保存失败`))})).catch((e=>{console.error(e),this.$message.error("保存失败",e.message),this.logs.unshift(`[${this.$logHead("jsSave error")}][${this.$sTime(null,1)}] 保存失败 ${e.message}`)})).finally(e)},jsTest(){if(this.jscontent){if(/\$request|\$response/.test(this.jscontent)&&!confirm("$request/$response 等参数仅在网络请求中有效，是否继续执行？"))return;let e="";const t=this.$message.loading(this.jsname,"正在上传运行中...",0);this.logs.unshift(`[${this.$logHead("jsTestRun info")}][${this.$sTime(null,1)}] 正在测试运行 ${this.jsname}...`),this.$axios.post("/jsfile",{id:this.$wsrecv.id,type:"totest",jsname:this.jsname,jscontent:this.jscontent}).then((t=>{e=this.$sString(t.data),this.$message.success(e)})).catch((t=>{e="测试运行失败 "+t.message,this.$message.error(e),console.error(t)})).finally((()=>{t(),this.logs.unshift(`[${this.$logHead(this.jsname+" result")}][${this.$sTime(null,1)}] ${e||this.jsname+" 返回值为空"}`)}))}else this.$message.error("无脚本内容")},jstoupload(){this.jsfiles=this.$refs.jsfiles.files},jsUpload(){let e=new FormData,t=[];for(let s=0;s<this.jsfiles.length;s++)if(/javascript/i.test(this.jsfiles[s].type)||/\.efh$/.test(this.jsfiles[s].name))e.append("js",this.jsfiles[s]),t.push(this.jsfiles[s].name);else{let e=this.jsfiles[s].name+" 并非脚本文件，跳过上传。"+this.jsfiles[s].type;this.$message.error(e),this.logs.unshift(`[${this.$logHead("jsUpload error")}][${this.$sTime(null,1)}] ${e}`)}if(0===t.length)return void this.$message.error("请选择脚本文件后，再进行上传");const s=this.$message.loading("上传中...",0);this.$axios.post("/uploadjs",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{0===e.data.rescode?(this.$message.success(t.join(", "),"上传成功"),t.forEach((e=>{-1===this.jslists.indexOf(e)&&this.jslists.push(e)})),this.jsfiles="",this.$refs.jsfiles.value="",this.logs.unshift(`[${this.$logHead("jsUpload info")}][${this.$sTime(null,1)}] ${t.join(", ")} 上传成功`)):(this.$message.error("上传失败",e.data.message),this.logs.unshift(`[${this.$logHead("jsUpload error")}][${this.$sTime(null,1)}] 上传失败 ${e.data.message}`))})).catch((e=>{this.$message.error("上传失败",e.message),this.logs.unshift(`[${this.$logHead("jsUpload error")}][${this.$sTime(null,1)}] 上传失败 ${e.message}`),console.error("文件上传失败",e)})).finally(s)},jsView(e){if(e&&1===this.jslistsshow.length&&(e=this.jslistsshow[0]),e&&-1!==this.jslists.indexOf(e)){this.jsname=e;const t=this.$message.loading("正在获取",e,"文件内容...",0);this.$axios.get("/jsfile?jsfn="+e,{transformResponse:[e=>e]}).then((t=>{this.jscontent=t.data,this.$message.success(e,"文件内容获取成功"),this.logs.unshift(`[${this.$logHead("jsmanage info")}][${this.$sTime(null,1)}] ${e} 文件内容获取成功`),t.headers["last-modified"]?this.jsupdate=this.$sTime(t.headers["last-modified"]):this.jsupdate=""})).catch((t=>{this.$message.error(e,"获取失败",t.message),this.logs.unshift(`[${this.$logHead("jsmanage error")}][${this.$sTime(null,1)}] ${e} 获取失败 ${t.message}`),console.error(e,"获取失败",t)})).finally(t)}else if(/^https?:\/\//.test(e)){let t=this.$message.loading("检测到该脚本文件名为远程地址，正在尝试获取其文件内容...",0);this.$axios.get(e,{transformResponse:[e=>e],crossdomain:!0}).then((t=>{this.jsname=this.$uStr.surlName(e),this.jscontent=t.data,this.$message.success("远程脚本文件",this.jsname,"获取成功"),this.logs.unshift(`[${this.$logHead("jsmanage info")}][${this.$sTime(null,1)}] ${e} 文件内容获取成功`),this.jsupdate=""})).catch((t=>{this.$message.error("远程脚本内容获取失败",t.message),this.logs.unshift(`[${this.$logHead("jsmanage error")}][${this.$sTime(null,1)}] 获取远程脚本: ${e} 失败，请检测网络后重试 ${t.message}`),console.error(t)})).finally(t)}else this.jsname=e||"new.js","new.js"!==this.jsname&&(this.$message.error(e,"暂不存在"),this.logs.unshift(`[${this.$logHead("jsmanage error")}][${this.$sTime(null,1)}] ${e} 暂不存在`)),""!==this.jscontent&&"new.js"!==this.jsname||(this.jscontent=this.orgjs),this.jsupdate="";this.jsshowall=!0,this.$uApi.scrollView(".editor--jsmanage")},jsDelete(e){if(confirm("确认删除服务器端脚本文件： "+e)){const t=this.$message.loading(`正在删除文件 ${e}...`,0);this.$axios.delete("/jsfile",{data:{jsfn:e}}).then((t=>{if(0===t.data.rescode){const s=this.jslists.indexOf(e);s>-1?(this.jslists.splice(s,1),this.$message.success(e,"已删除"),this.logs.unshift(`[${this.$logHead("jsDelete info")}][${this.$sTime(null,1)}] ${e} 已删除 ${t.data.message}`)):this.$message.error(e,"文件不存在")}else this.$message.error(e,"删除失败"),this.logs.unshift(`[${this.$logHead("jsDelete error")}][${this.$sTime(null,1)}] ${e} 删除失败 ${t.data.message}`)})).catch((t=>{this.$message.error("未知错误",t.message),this.logs.unshift(`[${this.$logHead("jsDelete error")}][${this.$sTime(null,1)}] ${e} 删除失败 ${t.message}`),console.error("未知错误",t)})).finally(t)}},jsOp(e){switch(e.target.dataset.method){case"view":this.jsView(e.target.dataset.param);break;case"delete":this.jsDelete(e.target.dataset.param);break;case"menu":this.jsMenu(e.target.dataset.param)}},jsRun(e){if(!e)return void this.$message.error("请先输入脚本名称");const t=this.$message.loading(e,"准备运行中...",0);this.logs.unshift(`[${this.$logHead("jsRun info")}][${this.$sTime(null,1)}] 正在运行 ${e}...`),this.collapse.loginfo=!1,this.$axios.post("/jsfile",{id:this.$wsrecv.id,type:"torun",jsname:e}).then((e=>{this.$message.success(e.data)})).catch((e=>{this.$message.error(e.message),console.error(e)})).finally(t)},jsMenu(e){let t=[],s=this.jsDelete,i=this.jsView,n=this.jsRun,a=this.$uApi.open;t.push({label:"运行",click(){n(e)}},{label:"查看",click(){i(e)}},{label:"删除",bkcolor:"var(--note-bk)",click(){s(e)}},{label:"运行(带参数)",click(){let t=prompt("请输入附带参数（比如：-env name=elecV2P 或 -grant nodejs）","-env ");null!==t&&n(e+(t?" "+t.trim():""))}},{label:"打开日志文件",click(){a("./logs/"+e.replace(/\/|\\/g,"-")+".log")}}),this.menu={pos:this.$uApi.getCursorPos(event,120,32*t.length),list:t}}}};var Ca=qn($a,ca,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("ul",{staticClass:"footer_tip"},[s("li",[e._v("当远程脚本无法推送时，尝试在 SETTING 界面添加代理")]),e._v(" "),s("li",[e._v("远程推送脚本时可附加 -rename=xxx.js 重命名文件")]),e._v(" "),s("li",[e._v("mock 网络请求可用于检查网络及代理是否正常")]),e._v(" "),s("li",[e._v("更多相关说明 "),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/04-JS.md",target:"_blank"}},[e._v("参考文档：04-JS.md")])])])])}],!1,null,"79b8daeb",null);Ca.options.__file="web/src/jsmanage/jsmanage.vue";const xa=Ca.exports;var Ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.saveAll()):null}}},[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content"},[s("div",{staticClass:"setting"},[s("label",{staticClass:"setting_label",attrs:{title:"可访问此后台界面的完整 URL。用于 RSS 及脚本中的 __home 参数"}},[e._v("主页地址：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.homepage,expression:"homepage",modifiers:{lazy:!0,trim:!0}}],staticClass:"setting_input",attrs:{name:"homepage"},domProps:{value:e.homepage},on:{change:function(t){e.homepage=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.homepageSave()}}},[e._v("保存")])]),e._v(" "),s("div",{staticClass:"setting"},[s("label",{staticClass:"setting_label",attrs:{title:"后台日志输出等级"}},[e._v("日志等级：")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.gloglevel,expression:"gloglevel"}],staticClass:"setting_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.gloglevel=t.target.multiple?s:s[0]}}},[s("option",[e._v("error")]),e._v(" "),s("option",[e._v("notify")]),e._v(" "),s("option",[e._v("info")]),e._v(" "),s("option",[e._v("debug")])]),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.glevelSet()}}},[e._v("保存")])]),e._v(" "),s("div",{staticClass:"setting"},[s("label",{staticClass:"setting_label",attrs:{title:"服务器访问 token(非常重要)"}},[e._v("WEBHOOK TOKEN：")]),e._v(" "),s("div",{staticClass:"incon"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.wbrtoken,expression:"wbrtoken",modifiers:{trim:!0}}],staticClass:"setting_input incon_input",attrs:{name:"wbrtoken"},domProps:{value:e.wbrtoken},on:{input:function(t){t.target.composing||(e.wbrtoken=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("span",{staticClass:"icon cursor incon_icon",domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){e.wbrtoken=e.$uStr.UUID()}}})]),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.wbrtokenSave()}}},[e._v("保存")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.userid,expression:"userid"}]},[s("span",[e._v("用户 ID: ")]),s("span",[e._v(e._s(e.userid))])])]),e._v(" "),s("div",{staticClass:"setting",class:{"setting--collapsed":e.collapse.notify}},[s("h4",{staticClass:"setting_title"},[s("div",{staticClass:"title_main"},[s("a",{staticClass:"cursor--help main_fc",attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/07-feed&notify.md",target:"_blank"}},[e._v("通知相关设置")]),e._v(" "),s("span",{staticClass:"mleft30 cursor",attrs:{title:"点击进行测试(先保存)"},domProps:{innerHTML:e._s(e.icon.plays)},on:{click:function(t){return e.feedTest()}}})]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.notify},on:{click:function(t){e.collapse.notify=!e.collapse.notify}}})]),e._v(" "),s("div",{staticClass:"setting--notify"},[e._m(0),e._v(" "),s("checkbox",{attrs:{oCheck:e.CONFIG_FEED.iftttid}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.CONFIG_FEED.iftttid.key,expression:"CONFIG_FEED.iftttid.key",modifiers:{trim:!0}}],staticClass:"setting_input",attrs:{name:"ifttt"},domProps:{value:e.CONFIG_FEED.iftttid.key},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.iftttid,"key",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.iftttSave()}}},[e._v("保存")])],1),e._v(" "),s("div",{staticClass:"setting--notify"},[e._m(1),e._v(" "),s("checkbox",{attrs:{oCheck:e.CONFIG_FEED.barkkey}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.CONFIG_FEED.barkkey.key,expression:"CONFIG_FEED.barkkey.key",modifiers:{trim:!0}}],staticClass:"setting_input",attrs:{name:"barkkey"},domProps:{value:e.CONFIG_FEED.barkkey.key},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.barkkey,"key",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.barkeySave()}}},[e._v("保存")])],1),e._v(" "),s("div",{staticClass:"setting--notify"},[s("label",{staticClass:"setting_label"},[e._v("自定义通知：")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.CONFIG_FEED.custnotify}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.CONFIG_FEED.custnotify.url,expression:"CONFIG_FEED.custnotify.url",modifiers:{trim:!0}}],staticClass:"setting_input",attrs:{name:"custnotify",placeholder:"自定义通知链接"},domProps:{value:e.CONFIG_FEED.custnotify.url},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.custnotify,"url",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_FEED.custnotify.type,expression:"CONFIG_FEED.custnotify.type"}],staticClass:"setting_select setting_select--short",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.CONFIG_FEED.custnotify,"type",t.target.multiple?s:s[0])}}},[s("option",[e._v("GET")]),e._v(" "),s("option",[e._v("POST")])]),e._v(" "),"POST"==e.CONFIG_FEED.custnotify.type?s("textarea",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.CONFIG_FEED.custnotify.data,expression:"CONFIG_FEED.custnotify.data",modifiers:{lazy:!0,trim:!0}}],staticClass:"editor_textarea editor_textarea--mini",attrs:{placeholder:'使用 $title$ 代表通知标题，$body$ 代表通知内容，$url$ 代表附加链接。比如：\n{\n  "text": `$title$`,\n  "desp": `$body$\\n\\n附加链接: $url$`\n}\n具体格式及使用参数，根据自定义通知的 API 说明进行调整（通知内容尽量使用反引号`包括）'},domProps:{value:e.CONFIG_FEED.custnotify.data},on:{change:function(t){e.$set(e.CONFIG_FEED.custnotify,"data",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}):e._e(),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.custnotifySave()}}},[e._v("保存")])],1),e._v(" "),s("div",{staticClass:"setting--notify"},[s("label",{staticClass:"setting_label"},[e._v("通知触发 JS：")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.CONFIG_FEED.runjs}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.CONFIG_FEED.runjs.list,expression:"CONFIG_FEED.runjs.list",modifiers:{lazy:!0,trim:!0}}],staticClass:"setting_input",attrs:{name:"runjs",placeholder:"notify.js, test.js（多个 JS 使用英文逗号进行分隔，支持远程 JS）"},domProps:{value:e.CONFIG_FEED.runjs.list},on:{change:function(t){e.$set(e.CONFIG_FEED.runjs,"list",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.notifyjsSave()}}},[e._v("保存")])],1),e._v(" "),s("div",{staticClass:"setting--notify setting--last"},[s("label",{staticClass:"setting_label setting_label--flex"},[s("span",[e._v("当通知内容长度超过")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_FEED.maxbLength,expression:"CONFIG_FEED.maxbLength",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"maxbLength"},domProps:{value:e.CONFIG_FEED.maxbLength},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED,"maxbLength",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("span",[e._v("时，分段发送")])]),e._v(" "),s("label",{staticClass:"setting_label setting_label--flex"},[s("span",[e._v("是否在前端网页显示通知：")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.CONFIG_FEED.webmessage}})],1),e._v(" "),s("label",{staticClass:"setting_label setting_label--flex",attrs:{title:"默认通知内容包括：定时任务开始与停止，JS 运行达到指定次数等"}},[s("span",[e._v("是否开启默认通知：")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.CONFIG_FEED}})],1),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.feedOp()}}},[e._v("保存")])])]),e._v(" "),s("div",{staticClass:"setting",class:{"setting--collapsed":e.collapse.other}},[s("h4",{staticClass:"setting_title"},[s("sapn",{staticClass:"title_main"},[e._v("默认通知相关设置")]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.other},on:{click:function(t){e.collapse.other=!e.collapse.other}}})],1),e._v(" "),s("div",{staticClass:"setting setting--other"},[s("div",{staticClass:"eflex eflex--wrap w100"},[s("span",{staticClass:"tip"},[e._v("默认通知内容包括：定时任务开始与停止，JS 运行达到指定次数等")]),e._v(" "),s("label",{staticClass:"setting_label setting_label--flex",attrs:{title:"FEED/RSS 包含所有通知内容"}},[e._v("是否输出 "),s("a",{attrs:{href:"/feed"+e.sltoken,target:"_blank"}},[e._v("FEED")]),e._v("：\n              "),s("checkbox",{attrs:{oCheck:e.CONFIG_FEED.rss}})],1),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--wave",on:{click:function(t){return e.feedClear()}}},[e._v("清空 FEED 内容")])]),e._v(" "),s("div",{staticClass:"w100"},[s("div",{staticClass:"setting setting--inline"},[s("label",{staticClass:"setting_label setting_label--flex"},[s("span",{staticClass:"setting_label"},[e._v("是否合并默认通知")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.CONFIG_FEED.merge}})],1),e._v(" "),s("div",[s("label",{staticClass:"setting_label"},[e._v("合并时间（秒）：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_FEED.merge.gaptime,expression:"CONFIG_FEED.merge.gaptime",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"mergetime"},domProps:{value:e.CONFIG_FEED.merge.gaptime},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.merge,"gaptime",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("div",[s("label",{staticClass:"setting_label"},[e._v("合并逻辑：")]),e._v(" "),s("span",{staticClass:"mergeset_andor",on:{click:function(t){e.CONFIG_FEED.merge.andor=!e.CONFIG_FEED.merge.andor}}},[e._v(e._s(e.CONFIG_FEED.merge.andor?"AND":"OR"))])]),e._v(" "),s("div",[s("label",{staticClass:"setting_label"},[e._v("合并条数：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_FEED.merge.number,expression:"CONFIG_FEED.merge.number",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"mergenum"},domProps:{value:e.CONFIG_FEED.merge.number},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.merge,"number",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("i",{staticClass:"tip tip--small"},[e._v("当前设置表示：至少等 "+e._s(e.CONFIG_FEED.merge.gaptime)+" 秒 "+e._s(e.CONFIG_FEED.merge.andor?"且":"或")+" 共有 "+e._s(e.CONFIG_FEED.merge.number)+" 条通知时合并发送（此设置对 JS 脚本内的通知无效，即脚本通知还是单独发送）")])])]),e._v(" "),s("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.mergeSave()}}},[e._v("保存")])]),e._v(" "),s("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse.runjs}},[s("h4",{staticClass:"setting_title"},[s("sapn",{staticClass:"title_main"},[e._v("JS 运行相关设置")]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.runjs},on:{click:function(t){e.collapse.runjs=!e.collapse.runjs}}})],1),e._v(" "),s("div",{staticClass:"setting--other"},[s("div",{staticClass:"eflex eflex--wrap w100"},[s("div",[s("label",{attrs:{title:"0 ms 表示不设定超时时间"}},[e._v("TIMEOUT(ms): ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_RUNJS.timeout,expression:"CONFIG_RUNJS.timeout",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",placeholder:"0:不限制"},domProps:{value:e.CONFIG_RUNJS.timeout},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_RUNJS,"timeout",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("div",[s("label",{attrs:{title:"0 秒表示有则不更新"}},[e._v("远程 JS 更新间隔(秒):")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_RUNJS.intervals,expression:"CONFIG_RUNJS.intervals",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"intervals"},domProps:{value:e.CONFIG_RUNJS.intervals},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_RUNJS,"intervals",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("div",[s("label",{attrs:{title:"0 次表示不通知"}},[e._v("每运行 ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_RUNJS.numtofeed,expression:"CONFIG_RUNJS.numtofeed",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"numtofeed"},domProps:{value:e.CONFIG_RUNJS.numtofeed},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_RUNJS,"numtofeed",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("label",[e._v(" 次, 添加一个默认通知")])])]),e._v(" "),s("i",{staticClass:"tip tip--small"},[e._v("0 ms: 不设定超过时间，由 $done 控制返回， 0 秒: 表示如果有则不更新，  0 次: 表示不通知")]),e._v(" "),s("div",{staticClass:"eflex eflex--wrap w100"},[s("div",{staticClass:"eflex"},[s("label",[e._v("保存日志")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_RUNJS.jslogfile,expression:"CONFIG_RUNJS.jslogfile"}],staticClass:"echeckbox",attrs:{type:"checkbox",name:"jslogs"},domProps:{checked:Array.isArray(e.CONFIG_RUNJS.jslogfile)?e._i(e.CONFIG_RUNJS.jslogfile,null)>-1:e.CONFIG_RUNJS.jslogfile},on:{change:function(t){var s=e.CONFIG_RUNJS.jslogfile,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.CONFIG_RUNJS,"jslogfile",s.concat([null])):a>-1&&e.$set(e.CONFIG_RUNJS,"jslogfile",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.CONFIG_RUNJS,"jslogfile",n)}}})]),e._v(" "),s("div",{staticClass:"eflex"},[s("label",{attrs:{title:"打印并保存脚本运行时所发送的网络请求 url"}},[e._v("保存网络请求 URL 到日志中")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_RUNJS.eaxioslog,expression:"CONFIG_RUNJS.eaxioslog"}],staticClass:"echeckbox",attrs:{type:"checkbox",name:"eaxioslog"},domProps:{checked:Array.isArray(e.CONFIG_RUNJS.eaxioslog)?e._i(e.CONFIG_RUNJS.eaxioslog,null)>-1:e.CONFIG_RUNJS.eaxioslog},on:{change:function(t){var s=e.CONFIG_RUNJS.eaxioslog,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.CONFIG_RUNJS,"eaxioslog",s.concat([null])):a>-1&&e.$set(e.CONFIG_RUNJS,"eaxioslog",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.CONFIG_RUNJS,"eaxioslog",n)}}})]),e._v(" "),s("div",{staticClass:"eflex"},[s("label",[e._v("使用网络请求相关设置中的代理(如有)")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_RUNJS.proxy,expression:"CONFIG_RUNJS.proxy"}],staticClass:"echeckbox",attrs:{type:"checkbox",name:"runjsproxy"},domProps:{checked:Array.isArray(e.CONFIG_RUNJS.proxy)?e._i(e.CONFIG_RUNJS.proxy,null)>-1:e.CONFIG_RUNJS.proxy},on:{change:function(t){var s=e.CONFIG_RUNJS.proxy,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.CONFIG_RUNJS,"proxy",s.concat([null])):a>-1&&e.$set(e.CONFIG_RUNJS,"proxy",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.CONFIG_RUNJS,"proxy",n)}}})])]),e._v(" "),s("div",{staticClass:"setting setting--inline"},[s("div",{staticClass:"eflex"},[s("label",{staticClass:"elabel",attrs:{title:"白名单脚本不显示网络请求 url"}},[e._v("白名单脚本")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.CONFIG_RUNJS.white}})],1),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.jswhitelist,expression:"jswhitelist",modifiers:{lazy:!0,trim:!0}}],staticClass:"setting_input setting_input--middle",attrs:{placeholder:"完整的 JS 文件名，以逗号或空格进行分隔，比如: test.js,softupdate.js",title:"远程 JS 只需填写文件名部分。本地次级目录文件需带目录填写"},domProps:{value:e.jswhitelist},on:{change:function(t){e.jswhitelist=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("该名单脚本内所有网络请求直接放行，不做屏蔽检测")])])]),s("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.runjsSave()}}},[e._v("保存")])]),e._v(" "),s("eAxios",{attrs:{config:e.CONFIG_Axios,uagent:e.uagent}}),e._v(" "),s("webui",e._g({attrs:{menunav:e.webUI.nav}},e.$listeners)),e._v(" "),s("security",{attrs:{config:e.CONFIG_SECURITY}}),e._v(" "),s("div",{staticClass:"setting setting--init",class:{"setting--collapsed":e.collapse.init}},[s("h4",{staticClass:"setting_title"},[s("sapn",{staticClass:"title_main",attrs:{title:"重启后生效"}},[e._v("初始化相关设置")]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.init},on:{click:function(t){e.collapse.init=!e.collapse.init}}})],1),e._v(" "),s("div",{staticClass:"setting setting--inline setting--border"},[s("div",{staticClass:"eflex"},[s("label",{staticClass:"setting_label"},[e._v("启动时检测新版本:")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.checkupdate}})],1),e._v(" "),s("div",{staticClass:"eflex"},[s("label",{staticClass:"setting_label",attrs:{title:"在 elecV2P 启动时执行的 JS, 可用于配置基础执行环境，或发送启动通知等"}},[e._v("启动时运行脚本:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.CONFIG_init.runjs,expression:"CONFIG_init.runjs",modifiers:{lazy:!0,trim:!0}}],staticClass:"setting_input setting_input--initrunjs",attrs:{name:"init",placeholder:"python-install.js, feed.js, process.env.js（多个脚本请使用英文逗号进行分隔）"},domProps:{value:e.CONFIG_init.runjs},on:{change:function(t){e.$set(e.CONFIG_init,"runjs",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.initSave()}}},[e._v("保存")])]),e._v(" "),s("div",{staticClass:"setting setting--inline setting--border"},[s("label",{staticClass:"setting_label"},[e._v("webUI 主界面端口:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.webUI.port,expression:"webUI.port",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"webuiport",placeholder:"80"},domProps:{value:e.webUI.port},on:{input:function(t){t.target.composing||e.$set(e.webUI,"port",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("small",{staticClass:"tip"},[e._v("* 端口类设置改变的是 elecV2P 相关端口，如使用 Docker，映射端口也应做相应修改")]),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:e.webUISave}},[e._v("保存")])]),e._v(" "),s("div",{staticClass:"setting setting--inline setting--border"},[s("label",{staticClass:"setting_label"},[e._v("ANYPROXY 设置:")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.anyproxy,title:"启动时 关闭/打开"}}),e._v(" "),s("label",{staticClass:"setting_label setting_label--flex"},[s("span",[e._v("代理端口：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.anyproxy.port,expression:"anyproxy.port",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"anyport",placeholder:"8001"},domProps:{value:e.anyproxy.port},on:{input:function(t){t.target.composing||e.$set(e.anyproxy,"port",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("label",{staticClass:"setting_label setting_label--flex"},[s("span",[e._v("网络请求查看端口：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.anyproxy.webPort,expression:"anyproxy.webPort",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"anywebport",placeholder:"8002"},domProps:{value:e.anyproxy.webPort},on:{input:function(t){t.target.composing||e.$set(e.anyproxy,"webPort",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:e.anyproxySave}},[e._v("保存")])],1),e._v(" "),e._m(2),e._v(" "),s("div",{staticClass:"setting setting--inline setting--border"},[s("button",{staticClass:"emargin elecBtn elecBtn--check w220",on:{click:function(t){return e.updateCheck()}}},[e._v("检测更新 elecV2P")]),e._v(" "),s("restart",{staticClass:"emargin",attrs:{type:"restart",title:"请确认已保存好当前规则及任务列表"}}),e._v(" "),s("restart",{staticClass:"emargin",attrs:{type:"stop",title:"如只想关闭 ANYPROXY，可在首页双击 ANRPROXY 端口"}}),e._v(" "),s("button",{staticClass:"emargin elecBtn elecBtn--file",on:{click:function(t){return e.configImport()}}},[e._v("导入配置文件")]),e._v(" "),s("button",{staticClass:"emargin elecBtn",attrs:{title:"确保当前页面 WEBHOOK TOKEN 是和服务器匹配的"},on:{click:function(t){return e.configExport()}}},[e._v("导出当前配置")])],1)])],1),e._v(" "),e._m(3),e._v(" "),e.bShowMinishell?s("minishell",{tag:"div"}):e._e()],1)};Ta._withStripped=!0;var ja=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"shell",class:{mini:e.bIsHide}},[s("span",{staticClass:"shell_hide",class:{"shell_hide--close":!e.$wsrecv.connected},on:{click:function(t){e.bIsHide=!e.bIsHide}}},[e._v(e._s(e.subnum))]),e._v(" "),e.bIsHide?e._e():s("div",{staticClass:"shelllogs",on:{click:function(t){e.autoScroll=!1}}},[s("div",{staticClass:"shell_status"},[s("span",{staticClass:"shell_status_item"},[e._v("CLIENTS: "+e._s(e.status.clients))]),e._v(" "),s("span",{staticClass:"shell_status_item"},[e._v("RSS: "+e._s(e.status.rss))]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.status.rtimes,expression:"status.rtimes"}],staticClass:"shell_status_item"},[e._v("JSRUNTS: "+e._s(e.status.rtimes))])]),e._v(" "),e._l(e.logs,(function(t){return s("span",{staticClass:"loginfo_item"},[e._v(e._s(t))])}))],2),e._v(" "),e.bIsHide?e._e():s("ul",{staticClass:"shellsub"},e._l(e.subprocess,(function(t,i){return s("li",{staticClass:"eflex w100 shellsub_item"},[s("span",{staticClass:"shellsub_command",attrs:{title:i}},[e._v(e._s(e.subCommandAlign(t.command+" %")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.subcommand,expression:"process.subcommand"}],staticClass:"shellsub_input",attrs:{type:"text"},domProps:{value:t.subcommand},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.sendToSub(i))},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hiupdownSub(i,!0))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hiupdownSub(i))},function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:(s.preventDefault(),s.stopPropagation(),s.ctrlKey||s.shiftKey||s.altKey||s.metaKey?null:void(t.subcommand=""))}],input:function(s){s.target.composing||e.$set(t,"subcommand",s.target.value)}}}),e._v(" "),s("span",{staticClass:"shellsub_close",on:{click:function(t){return e.subProcessExit(i)}}},[e._v("X")])])})),0),e._v(" "),e.bIsHide?e._e():s("div",{staticClass:"shellcommand",on:{click:function(t){e.autoScroll=!0}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.fullcommand,expression:"fullcommand"}],staticClass:"shellcommand_input",domProps:{value:e.fullcommand},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.send.apply(null,arguments))},function(t){return(t.type.indexOf("key")||76===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:void(e.logs=[])):null}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hiupdown(!0))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hiupdown())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(e.command=""))}],input:function(t){t.target.composing||(e.fullcommand=t.target.value)}}})])])};function Sa(e){switch(e){case"reload":case"?reload":case"refresh":location.reload(!0);break;default:e?/^#/.test(e)?(location.hash=e,location.reload()):window.open(e):console.debug("no url to open")}}function Oa(e,t=160,s=100){let i=e.pageX,n=e.pageY;return e.pageX+t>document.body.clientWidth&&(i-=t),e.pageY+s>document.body.clientHeight&&(n-=s),[i,n]}ja._withStripped=!0;const Na=new Map;Na.set("sponsors",["cd2458b5e43827ee9a2009b56f29ffd5"]);const Ea={get:e=>localStorage.getItem(e),set:(e,t)=>localStorage.setItem(e,t),getCache:e=>Na.get(e),setCache:(e,t)=>Na.set(e,t),deleteCache:e=>Na.delete(e)};function Aa(e){let t=document.querySelector(e);t&&(t.scrollTop=t.scrollHeight)}function Pa(e){let t=document.querySelector(e);t&&t.scrollIntoView()}function Ia(e){let t=document.querySelector(e);t&&t.focus()}function Fa(e,t="elecV2P.json",s="application/json"){e=/json/.test(s)?JSON.stringify(e,null,2):String(e);const i=new Blob([e],{type:s});let n=(window.URL||window.webkitURL).createObjectURL(i),a=document.createElement("a");a.download=t,a.href=n,a.target="_blank",a.click()}function Da(e,t=".evscript"){if(!e)return void console.log("some code is expect");document.querySelector(t)&&document.querySelector(t).remove();let s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("defer","defer"),s.className="evscript",s.innerHTML=e,document.body.appendChild(s)}function Ha(e){let t=document.querySelector(".copyinput");t&&"INPUT"===t.nodeName||(t=document.createElement("input"),t.className="copyinput",t.style.position="fixed",t.style.top="-6px",t.style.height="0",t.style.border="none",document.body.appendChild(t)),t.value=e,t.focus(),t.select(),document.execCommand("copy"),t.blur()}function Ra(e){return new Promise(((t,s)=>{try{t(navigator.clipboard.writeText(e))}catch(e){s(e)}}))}function Ma({accept:e="*",type:t="text",multiple:s=!1}={}){let i=document.createElement("input");return i.type="file",i.accept=e,s&&(i.multiple=!0),new Promise(((e,s)=>{i.onchange=i=>{let n=i.target.files[0];if(n)if(console.debug("get file",n.name,n.type,n.size),"file"===t)e(n);else{let t=new FileReader;t.readAsText(n,"UTF-8"),t.onload=t=>{e({name:n.name,type:n.type,size:n.size,content:t.target.result})}}else s("请先选择文件")},i.click()}))}function za(){return navigator.language}function Ua(){return navigator.userAgent||"Mozilla/5.0 (Linux; U; elecV2P; x64) ePhone Super Max Plus++"}function La(e){return"object"!=typeof e?typeof e:Object.prototype.toString.call(e).slice(8,-1).toLocaleLowerCase()}function Va(e,t=!1){if(!e)return!!t&&Object.create(null);switch(La(e)){case"array":case"object":return e;case"set":return Array.from(e);case"map":return Array.from(e).reduce(((e,[t,s])=>(e[t]=s,e)),{})}try{let t=JSON.parse(e);if("object"==typeof t)return t}catch(t){try{let t=new Function("return "+e)();if(/^(object|array)$/.test(La(t)))return t}catch(e){}}return!!t&&{0:e}}function Ba(e){if(null==e)return"";let t=La(e);switch(t){case"string":return e.trim();case"map":case"set":return JSON.stringify({dataType:t,value:Array.from(e)});case"array":case"object":try{return e[Symbol.toPrimitive]?String(e[Symbol.toPrimitive]()):JSON.stringify(e)}catch(e){return e.message}default:return String(e).trim()}}function Ga(e){if(!e)return!1;if("boolean"==typeof e)return e;if("string"!=typeof e)return!0;switch(e=e.trim()){case"":case"0":case"false":case"null":case"undefined":case"NaN":return!1;default:return!0}}function Ka(e){return!!(""===Ba(e).trim()||/^(object|array)$/.test(La(e))&&0===Object.keys(e).length)}function Ja(e){try{return new URL(e)}catch(e){return!1}}function qa(e=8){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=t[Math.floor(52*Math.random())];for(e--;e--;)s+=t[Math.floor(62*Math.random())];return s}function Wa(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{let s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)}))}function Ya(e,t){return void 0===t&&(t=e,e=0),Math.floor(Math.random()*(t-e+1))+e}function Xa(e,t=!1){const s=6e4*(new Date).getTimezoneOffset();return e=e?Number(e)||Date.parse(e):Date.now(),new Date(e-s).toISOString().slice(0,t?-1:-5).replace("T"," ")}const Za=new Map;function Qa(e,t=16){const s=e+t;if(Za.has(s))return Za.get(s);const i=function(e,t=16){if(e.length===t)return e;if(e.length<t){let s=e.split(" "),i=t-e.length;for(;i--;)s[0]+=" ";return s.join(" ")}if(e.length>t){const s=e.split(/\/|\\/);s.length>1&&(e=s[0].slice(0,1)+"/"+s.pop());const i=e.split(" ").pop();return e.slice(0,t-6-i.length)+"..."+e.slice(-i.length-3)}}(e,t);return Za.set(s,i),i}function er(e){if(!e)return"";let t="",s=e.split(/\/|\\|\?|#/);for(;""===t&&s.length;)t=s.pop();return t}const tr=[];for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");tr.push(t)}function sr(e,t=" "){const s=new Uint8Array(e),i=new Array(s.length);for(let e=0;e<s.length;++e)i[e]=tr[s[e]];return i.join(t)}function ir(e,t=" "){let s=[];return s=t?e.split(t):e.match(/[\dA-F]{2}/gi),new Uint8Array(s.map((e=>parseInt(e,16))))}function nr({style:e="hex",max:t=255}={}){return"#"+Ya(t).toString(16).padStart(2,"0")+Ya(t).toString(16).padStart(2,"0")+Ya(t).toString(16).padStart(2,"0")}var ar=qn({name:"minishell",data:()=>({logs:[],command:"node -v",cwd:"",bIsHide:!0,status:{clients:0,rss:0,rtimes:0},history:{current:-1,lists:[]},autoScroll:!0,subprocess:{},tips:"快捷键：\n- esc         // 清空当前输入命令\n- ctrl + l    // 清空屏幕日志\n- up/down     // 上下查找历史执行命令\n- shift + tab // 移动光标到子进程交互输入框（如果存在的话\n- 单击上方日志输出部分，停止自动滚动。单击下方命令输入部分，开启自动滚动\n\n特殊指令：\n- cls/clear   // 清空屏幕日志\n- cwd         // 获取当前工作目录\n- cd xxx      // 更改当前工作目录到xxx\n- docs        // 打开 minishell 相关说明文档\n- exit        // 最小化 minishell 界面（在子进程交互中输入时表示结束子进程"}),computed:{cwdshow(){return this.cwd?this.cwd.replace(/(\/|\\)$/,"").split(/\\|\//).pop()+"> ":"> "},subnum(){return Object.keys(this.subprocess).length||""},fullcommand:{get(){return this.cwdshow+this.command},set(e){this.command=e.replace(/[^>]*> /,"")}}},created(){this.logs.push(this.tips),this.$wsrecv.add("minishell",(e=>{if(e.data)switch(e.type){case"cwd":this.logs.push("cwd: "+e.data),this.cwd=e.data;break;case"shellinit":this.logs.push("cwd: "+e.data.cwd),this.cwd=e.data.cwd,e.data.subprocess&&(this.subprocess=e.data.subprocess);break;case"subprocessexit":this.subprocess[e.data]?(console.debug("exit subprocess: "+this.subprocess[e.data].command),this.$delete(this.subprocess,e.data)):console.debug("subprocess "+this.subprocess[e.data.commandid]+" not exist yet");break;case"subprocessadd":console.debug("run sub process",e.data.id,"command:",e.data.command),this.$set(this.subprocess,e.data.id,{command:e.data.command,history:{current:-1,lists:[]}});break;case"elecV2Pstatus":this.status.clients=e.data.clients,this.status.rss=e.data.memoryusage.rss;break;case"jsrunstatus":this.status.rtimes=e.data.total;break;default:/\r(?!\n)/.test(e.data)&&this.logs.pop(),this.logs.push(e.data)}else console.debug("minishell recv",e,"expected ms.data")})),this.$wsrecv.connected&&this.$wsrecv.send("shell","init"),setTimeout(Ia,2e3,".shellcommand_input")},updated(){this.logBottom()},methods:{logBottom(){this.autoScroll&&Aa(".shelllogs")},send(e){if(!this.$wsrecv.connected)return this.$message.error("websocket 尚未连接"),void this.logs.push(`[${this.$logHead("minishell  error")}][${this.$sTime(null,1)}] websocket 尚未连接`);if(!e.ctrlKey&&!e.shiftKey&&this.command){switch(this.command=this.command.trim(),this.command){case"exit":this.bIsHide=!0;break;case"clear":case"CLEAR":case"cls":case"CLS":this.logs.splice(0);break;case"docs":Sa("https://github.com/elecV2/elecV2P-dei/blob/master/docs/Advanced.md");break;default:const e=`${this.$wsrecv.id}_minishell_${this.history.lists.length}`;this.$wsrecv.send("shell",{id:e,type:"main",data:encodeURI(this.command)}),this.logs.push(`[${this.$logHead("minishell notify")}][${this.$sTime(null,1)}] running command: ${this.command}`)}this.history.lists.push(this.command),this.history.current=-1,this.command=""}},sendToSub(e){if(!e)return void this.$message.error("a command id is expected");let t=this.subprocess[e].subcommand;this.subprocess[e]&&t?(this.subprocess[e].subcommand="",this.$wsrecv.send("shell",{id:e,type:"sub",data:encodeURI(t)}),this.subprocess[e].history||(this.subprocess[e].history={lists:[]}),this.subprocess[e].history.lists.push(t),this.subprocess[e].history.current=-1):this.$message.error("请先输入要执行的命令")},subProcessExit(e){this.$wsrecv.send("shell",{id:e,type:"sub",data:"exit"}),this.$delete(this.subprocess,e)},hiupdown(e=!1){0!==this.history.lists.length&&(e?(this.history.current--,this.history.current<0&&(this.history.current=this.history.lists.length-1)):(this.history.current++,this.history.current>=this.history.lists.length&&(this.history.current=0)),this.command=this.history.lists[this.history.current])},hiupdownSub(e,t=!1){let s=this.subprocess[e];s&&s.history&&0!==s.history.lists.length&&(t?(s.history.current--,s.history.current<0&&(s.history.current=s.history.lists.length-1)):(s.history.current++,s.history.current>=s.history.lists.length&&(s.history.current=0)),s.subcommand=s.history.lists[s.history.current])},subCommandAlign:e=>e.length<32?e:Qa(e,32)}},ja,[],!1,null,"e0f85094",null);ar.options.__file="web/src/setting/minishell.vue";const rr=ar.exports;var or=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse}},[s("h4",{staticClass:"setting_title"},[s("sapn",{staticClass:"title_main"},[e._v("网络请求相关设置")]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"w100"},[s("div",{staticClass:"setting setting--inline"},[s("div",[s("label",[e._v("TIMEOUT(ms): ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.timeout,expression:"config.timeout",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",placeholder:"0:不限制"},domProps:{value:e.config.timeout},on:{input:function(t){t.target.composing||e.$set(e.config,"timeout",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("div",{staticClass:"wp46 minw320"},[s("label",{attrs:{title:"当 header 中没有 User-Agent 时，使用此 UA"}},[e._v("User-Agent: ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.config.uagent,expression:"config.uagent"}],staticClass:"setting_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"uagent",t.target.multiple?s:s[0])}}},e._l(e.ualists,(function(t,i){return s("option",{domProps:{value:i}},[e._v(e._s(t))])})),0),e._v(" "),s("button",{staticClass:"elecBtn",class:{"elecBtn--check":e.bUAManage},on:{click:function(t){e.bUAManage=!e.bUAManage}}},[e._v("管理")])]),e._v(" "),s("div",{staticClass:"eflex"},[s("label",[e._v("使用HTTP代理: ")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.config.proxy}})],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.bUAManage,expression:"bUAManage"}],staticClass:"setting setting--inline setting--ua"},[s("table",{staticClass:"elecTable elecTable--ua"},[e._m(0),e._v(" "),s("tbody",e._l(e.uagent,(function(t,i){return s("tr",{key:i},[s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"ua.name",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"chrome 浏览器"},domProps:{value:t.name},on:{input:function(s){s.target.composing||e.$set(t,"name",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.header,expression:"ua.header",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"},domProps:{value:t.header},on:{input:function(s){s.target.composing||e.$set(t,"header",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.uaDelete(i)}}})])])})),0),e._v(" "),s("tfoot",[s("tr",[s("td",{staticClass:"elecTable_td padding0",attrs:{colspan:"3"}},[s("span",{staticClass:"elecTable_addbtn",on:{click:e.uaAdd}},[e._v("新增一个 UA")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn",on:{click:e.uaSave}},[e._v("保存当前列表")])])])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.config.proxy.enable,expression:"config.proxy.enable"}],staticClass:"setting_proxy"},[s("div",{staticClass:"setting setting--inline"},[s("label",[s("span",[e._v("PORT:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.proxy.port,expression:"config.proxy.port",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",placeholder:"8001"},domProps:{value:e.config.proxy.port},on:{input:function(t){t.target.composing||e.$set(e.config.proxy,"port",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("label",{staticClass:"wp46"},[s("span",[e._v("HOST:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.proxy.host,expression:"config.proxy.host",modifiers:{lazy:!0}}],staticClass:"setting_input",attrs:{placeholder:"可选。如省略表示使用本地代理"},domProps:{value:e.config.proxy.host},on:{change:function(t){return e.$set(e.config.proxy,"host",t.target.value)}}})]),e._v(" "),s("label",[s("span",[e._v("AUTH:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.isAuth,expression:"isAuth"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAuth)?e._i(e.isAuth,null)>-1:e.isAuth},on:{change:function(t){var s=e.isAuth,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&(e.isAuth=s.concat([null])):a>-1&&(e.isAuth=s.slice(0,a).concat(s.slice(a+1)))}else e.isAuth=n}}})])]),e._v(" "),e.isAuth?s("div",{staticClass:"setting setting--inline"},[s("label",{staticClass:"eflex mp46"},[s("span",[e._v("USERNAME:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.proxy.auth.username,expression:"config.proxy.auth.username",modifiers:{lazy:!0}}],staticClass:"setting_input",domProps:{value:e.config.proxy.auth.username},on:{change:function(t){return e.$set(e.config.proxy.auth,"username",t.target.value)}}})]),e._v(" "),s("label",{staticClass:"eflex mp46"},[s("span",[e._v("PASSWORD:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.proxy.auth.password,expression:"config.proxy.auth.password",modifiers:{lazy:!0}}],staticClass:"setting_input",domProps:{value:e.config.proxy.auth.password},on:{change:function(t){return e.$set(e.config.proxy.auth,"password",t.target.value)}}})])]):e._e()]),e._v(" "),s("div",{staticClass:"setting_proxy",attrs:{title:"谨慎选择是否开启，不合理的设置可能会导致正常的网络请求被屏蔽"}},[s("div",{staticClass:"setting setting--inline"},[s("div",{staticClass:"eflex"},[s("label",{staticClass:"elabel",attrs:{title:"可使用 request.token: '你的webhook token' 绕过屏蔽检测"}},[e._v("阻止 URL")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.config.block}})],1),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.block.regexp,expression:"config.block.regexp",modifiers:{lazy:!0}}],staticClass:"setting_input setting_input--middle",attrs:{placeholder:"匹配内容 比如: abc|123 匹配方式: new RegExp('该内容').test(url)"},domProps:{value:e.config.block.regexp},on:{change:function(t){return e.$set(e.config.block,"regexp",t.target.value)}}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("当网络请求 url 符合此正则表达式时，屏蔽该请求")])]),e._v(" "),s("div",{staticClass:"setting setting--inline"},[s("div",{staticClass:"eflex"},[s("label",{staticClass:"elabel"},[e._v("仅允许 URL")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.config.only}})],1),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.only.regexp,expression:"config.only.regexp",modifiers:{lazy:!0}}],staticClass:"setting_input setting_input--middle",attrs:{placeholder:"匹配内容 其他所有不符合该正则表达式的网络请求将被直接屏蔽掉"},domProps:{value:e.config.only.regexp},on:{change:function(t){return e.$set(e.config.only,"regexp",t.target.value)}}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("开启时，仅允许符合此正则表达式的网络请求通过")])])]),e._v(" "),s("i",{staticClass:"tip tip--small"},[e._v("该部分设置适用于服务器端 文件下载/JS/mock 等模块发起的网络请求。URL 匹配方式: new RegExp('匹配内容').test(url)")]),e._v(" "),s("div",[s("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:e.eAxiosSave}},[e._v("保存")])])])])};or._withStripped=!0;var lr=qn({name:"eAxios",props:["config","uagent"],data(){return{icon:Jn,collapse:this.$uStr.iRandom(0,10)>5,bUAManage:!1}},computed:{ualists(){let e={};for(let t in this.uagent)e[t]=this.uagent[t].name;return e},isAuth:{get(){return Boolean(this.config.proxy&&this.config.proxy.auth)},set(e){e?this.$set(this.config.proxy,"auth",{}):this.$delete(this.config.proxy,"auth")}}},components:{checkbox:ta},methods:{uaDelete(e){this.$message.success("User-Agent:",this.uagent[e].name,"已删除，保存后生效"),this.$delete(this.uagent,e)},uaAdd(){this.$set(this.uagent,this.$uStr.euid(),{name:"我的 UA",header:this.$uApi.getUA()})},uaSave(){const e=this.$message.loading("User-Agent 列表上传更新中...",0);this.$axios.put("/config",{type:"uagent",data:this.uagent}).then((e=>{this.$message.success("设置成功",e.data.message)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},eAxiosSave(){const e=this.$message.loading("网络请求相关设置保存中...",0);this.$axios.put("/config",{type:"eAxios",data:this.config}).then((e=>{0===e.data.rescode?this.$message.success("网络请求相关设置更改成功",e.data.message):this.$message.error("设置失败",e.data.message)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)}}},or,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v("名称")]),e._v(" "),s("th",{staticClass:"elecTable_th minw600"},[e._v("内容")]),e._v(" "),s("th",{staticClass:"elecTable_th minw62"},[e._v("操作")])])])}],!1,null,"35f1c5e4",null);lr.options.__file="web/src/setting/eAxios.vue";const cr=lr.exports;var ur=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse}},[s("h4",{staticClass:"setting_title"},[s("div",{staticClass:"title_main"},[s("span",{attrs:{title:"仅对 webUI 端口有效"}},[e._v("限制可访问 IP")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.config.enable,expression:"config.enable"}],staticClass:"echeckbox emargin",attrs:{type:"checkbox",name:"status"},domProps:{checked:Array.isArray(e.config.enable)?e._i(e.config.enable,null)>-1:e.config.enable},on:{change:function(t){var s=e.config.enable,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.config,"enable",s.concat([null])):a>-1&&e.$set(e.config,"enable",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.config,"enable",n)}}})]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse&&e.config.enable,expression:"!collapse && config.enable"}],staticClass:"w100"},[s("div",{staticClass:"setting setting--inline"},[s("div",{staticClass:"wp50"},[s("label",{staticClass:"setting_label"},[e._v("允许访问的 IP（白名单）：")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.whitelist,expression:"whitelist",modifiers:{lazy:!0,trim:!0}}],staticClass:"editor_textarea",attrs:{name:"whitelist",placeholder:"127.0.0.1\n192.168.1.101\n182.xxx.x.125\n(仅可设置为 IP 地址)\n(白名单优先级高于黑名单)"},domProps:{value:e.whitelist},on:{change:function(t){e.whitelist=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("div",{staticClass:"wp50"},[s("label",{staticClass:"setting_label"},[e._v("不允许访问的 IP（黑名单）：")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.blacklist,expression:"blacklist",modifiers:{lazy:!0,trim:!0}}],staticClass:"editor_textarea",attrs:{name:"blacklist",placeholder:"172.20.10.2\n*\n单独星号字符 * 表示屏蔽所有（只允许白名单中的 IP 通过）\n如果设置为 *，请务必先记下 WEBHOOK TOKEN"},domProps:{value:e.blacklist},on:{change:function(t){e.blacklist=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("div",{staticClass:"eflex eflex--wrap w100"},[e._m(0),e._v(" "),s("div",{attrs:{title:"0: 表示不通知"}},[s("label",[e._v("每 ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.numtofeed,expression:"config.numtofeed",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"numtofeed",placeholder:"0: 不通知"},domProps:{value:e.config.numtofeed},on:{input:function(t){t.target.composing||e.$set(e.config,"numtofeed",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("label",[e._v(" 次非法访问, 发送一个通知")])])])]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.securitySave()}}},[e._v("保存")])])};ur._withStripped=!0;var hr=qn({name:"security",props:["config"],data:()=>({collapse:!1}),computed:{whitelist:{get(){return this.config.whitelist?this.config.whitelist.join("\n"):""},set(e){e?this.$set(this.config,"whitelist",e.split(/\r|\n|,/).filter((e=>e.trim()))):this.config.whitelist=[]}},blacklist:{get(){return this.config.blacklist?this.config.blacklist.join("\n"):""},set(e){e?this.$set(this.config,"blacklist",e.split(/\r|\n|,/).filter((e=>e.trim()))):this.config.blacklist=[]}}},methods:{securitySave(){const e=this.$message.loading("设置保存中...",0);this.$axios.put("/config",{type:"security",data:this.config}).then((e=>{this.$message.success("设置已保存",e.data.message||e.data)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)}}},ur,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("i",{staticClass:"tip emargin"},[s("span",[e._v("更多说明请参考: ")]),e._v(" "),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/Advanced.md"}},[e._v("Advanced.md 文档")])])}],!1,null,"63c9b7d3",null);hr.options.__file="web/src/setting/security.vue";const dr=hr.exports;var pr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["restart"==e.type?s("button",{staticClass:"elecBtn greenbk w220",on:{click:e.restart}},[e._v("重启 elecV2P")]):s("button",{staticClass:"elecBtn elecBtn--clear w220",on:{click:e.stop}},[e._v("关闭 elecV2P")])])};pr._withStripped=!0;var fr=qn({name:"restart",props:["type"],methods:{restart(){this.$evui({title:"请输入 WEBHOOK TOKEN 对应值，进行重启",width:680,height:360,style:{title:"background: var(--icon-bk);",content:"padding-left: 8px; font-size: 16px;text-align: center;"},content:'<div style="display: flex;margin: 1em 8px;align-items: center;"><label class="elecTable_label" style="width: 38%;font-size: 20px;">WEBHOOK TOKEN: </label><input class="elecTable_input" id="webtoken" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></div><i>elecV2P 将尝试使用 pm2 命令进行重启操作</i><p><button class="elecBtn greenbk" onclick="restart()">确定</button></p><i class="restart_tip"></i>',script:'function tipAdd(e){let t=document.querySelector(".restart_tip");null!==t&&t.insertAdjacentHTML("afterEnd","<p>"+e+"</p>")}function restart(){var e,o=document.querySelector("#webtoken");if(o&&o.value){e=o.value;let t=setTimeout(()=>location.href="/",5e3);tipAdd("重启命令已发送，如成功将在 5 秒后自动刷新当前页面"),fetch("/webhook",{method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({token:e,type:"shell",command:"pm2 restart elecV2P"})}).then(e=>e.text()).then(e=>{clearTimeout(t),tipAdd("重启失败 "+e),console.log(e)}).catch(e=>{/Failed|失败/.test(e.message)?tipAdd("重启已完成，等待返回首页"):(clearTimeout(t),tipAdd("重启失败 "+e.message)),console.error(e)})}else alert("请先输入 WEBHOOK TOKEN 对应值")}'})},stop(){confirm("关闭 elecV2P 后，后台网页及定时任务及ANYPROXY 都将不可用，确定继续吗？")&&this.$evui({title:"请输入 WEBHOOK TOKEN 对应值，进行关闭",width:680,height:360,style:{title:"background: var(--note-bk);",content:"padding-left: 8px; font-size: 16px;text-align: center;"},content:'<div style="display: flex;margin: 1em 8px;align-items: center;"><label class="elecTable_label" style="width: 38%;font-size: 20px;">WEBHOOK TOKEN: </label><input class="elecTable_input" id="webtoken" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></div><i>elecV2P 将尝试使用 pm2 stop 命令进行关闭操作<br>关闭后 webUI/定时任务/ANYPROXY 等都将不可用</i><p><button class="elecBtn elecBtn--clear" onclick="stop()">确定</button></p><i class="restart_tip"></i>',script:'function tipAdd(e){let t=document.querySelector(".restart_tip");null!==t&&t.insertAdjacentHTML("afterEnd","<p>"+e+"</p>")}function stop(){var e,o=document.querySelector("#webtoken");if(o&&o.value){e=o.value;let t=setTimeout(()=>location.href="/",5e3);tipAdd("关闭命令已发送，如成功将在 5 秒后自动刷新当前页面"),fetch("/webhook",{method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({token:e,type:"shell",command:"pm2 stop elecV2P"})}).then(e=>e.text()).then(e=>{clearTimeout(t),tipAdd("elecV2P 关闭失败 "+e),console.log(e)}).catch(e=>{/Failed|失败/.test(e.message)?tipAdd("elecV2P 已关闭，等待刷新查看是否生效"):(clearTimeout(t),tipAdd("关闭失败 "+e.message)),console.error(e)})}else alert("请先输入 WEBHOOK TOKEN 对应值")}'})}}},pr,[],!1,null,null,null);fr.options.__file="web/src/setting/restart.vue";const mr=fr.exports;var vr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse},on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.webuiSave()):null}}},[s("h4",{staticClass:"setting_title"},[s("sapn",{staticClass:"title_main"},[e._v("webUI 相关设置")]),e._v(" "),s("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"border setting setting--inline"},[s("h4",{staticClass:"title_inline",attrs:{title:"SETTING/DONATION 暂时不支持隐藏"}},[e._v("左侧导航栏设置")]),e._v(" "),s("ul",{staticClass:"eflex eflex--wrap"},e._l(e.menulist,(function(t,i){return s("li",{staticClass:"menunav_item"},[s("label",[e._v(e._s(i.toUpperCase())+": 别名")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"nav.name"}],staticClass:"emargin--left elecTable_input w220",attrs:{type:"text",placeholder:"显示为其他名称"},domProps:{value:t.name},on:{input:function(s){s.target.composing||e.$set(t,"name",s.target.value)}}}),e._v(" "),s("label",{staticClass:"emargin--left"},[e._v("显示")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.show,expression:"nav.show"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.show)?e._i(t.show,null)>-1:t.show},on:{change:function(s){var i=t.show,n=s.target,a=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&e.$set(t,"show",i.concat([null])):r>-1&&e.$set(t,"show",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(t,"show",a)}}})])})),0),e._v(" "),s("span",{staticClass:"tip tip--small"},[e._v(" • SETTING/DONATION 暂时不可隐藏      • 隐藏界面可通过 #hash 的形式直接访问")])]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.webuiSave()}}},[e._v("保存")])])};vr._withStripped=!0;var gr=qn({name:"webui",props:["menunav"],data(){return{collapse:this.$uStr.iRandom(0,10)>5,navkey:["overview","rules","rewrite","jsmanage","task","mitm","cfilter","setting","about","donation"]}},computed:{menulist(){for(let e of this.navkey)this.menunav[e]||(this.menunav[e]=Object.create(null)),!1!==this.menunav[e].show&&(this.menunav[e].show=!0);return this.menunav}},methods:{webuiSave(){const e=this.$message.loading("webUI 相关设置保存中...",0);this.$axios.put("/config",{type:"menunav",data:this.menunav}).then((e=>{0===e.data.rescode?(this.$message.success("webUI 相关设置修改成功"),this.$emit("menunav",this.menunav,!0)):this.$message.error("webUI 相关设置修改失败",e.data.message)})).catch((e=>{this.$message.error("webUI 相关设修改失败",e.message),console.log(e)})).finally(e)}}},vr,[],!1,null,"466f4136",null);gr.options.__file="web/src/setting/webui.vue";var _r=qn({name:"setting",props:[],data(){return{header:"设置",icon:Jn,collapse:{notify:this.$uStr.iRandom(0,10)>5,runjs:this.$uStr.iRandom(0,10)>5,other:this.$uStr.iRandom(0,10)>5,init:!0},homepage:location.origin,gloglevel:"info",wbrtoken:"",sltoken:location.search,CONFIG_FEED:{enable:!0,rss:{enable:!0,homepage:"https://github.com/elecV2/elecV2P"},iftttid:{enable:!1,key:""},barkkey:{enable:!1,key:""},custnotify:{enable:!1,url:"",type:"GET",data:""},runjs:{enable:!1,list:""},merge:{enable:!0,gaptime:60,number:10,andor:!1},maxbLength:1200,webmessage:{enable:!1}},CONFIG_RUNJS:{timeout:5e3,intervals:86400,numtofeed:50,jslogfile:!0,eaxioslog:!1,proxy:!0,white:{enable:!1,list:[]}},CONFIG_Axios:{proxy:{enable:!1},timeout:5e3,uagent:"",block:{enable:!1,regexp:""},only:{enable:!1,regexp:""}},bShowMinishell:!1,uagent:Object.create(null),CONFIG_SECURITY:Object.create(null),CONFIG_init:{checkupdate:!0,runjs:""},anyproxy:{enable:!0,port:8001,webPort:8002},webUI:{port:80,nav:Object.create(null)},checkupdate:{enable:!0}}},computed:{jswhitelist:{get(){return this.CONFIG_RUNJS.white.list.join(", ")},set(e){this.CONFIG_RUNJS.white.list=e.split(/ ?, ?|，| /)}}},components:{minishell:rr,eAxios:cr,security:dr,checkbox:ta,restart:mr,webui:gr.exports},created(){const e=this.$message.loading("正在获取 设置 相关数据...",0);this.$axios.get("/config?type=setting").then((e=>{if(this.$message.success("CONFIG 相关数据获取成功"),this.CONFIG_SECURITY=e.data.security||{},this.homepage=e.data.homepage||location.origin,this.gloglevel=e.data.gloglevel,Object.assign(this.CONFIG_FEED,e.data.CONFIG_FEED||{}),Object.assign(this.CONFIG_RUNJS,e.data.CONFIG_RUNJS||{}),Object.assign(this.CONFIG_Axios,e.data.CONFIG_Axios||{}),Object.assign(this.anyproxy,e.data.anyproxy||{}),Object.assign(this.webUI,e.data.webUI||{}),e.data.uagent)for(let t in e.data.uagent)e.data.uagent[t].name&&this.$set(this.uagent,t,{name:e.data.uagent[t].name,header:e.data.uagent[t].header});this.wbrtoken=e.data.wbrtoken,this.userid=e.data.userid,this.bShowMinishell=e.data.minishell,this.CONFIG_init=e.data.init||{},this.checkupdate.enable=!1!==this.CONFIG_init.checkupdate,this.checkupdate.newversion=e.data.newversion})).catch((e=>{this.$message.error("获取数据失败",e),console.error("获取数据失败",e)})).finally(e)},methods:{homepageSave(){if(this.homepage!==location.origin&&!confirm("设置主页和当前主页 "+location.origin+" 不匹配，确定保存？"))return;const e=this.$message.loading("主页设置保存中...",0);this.$axios.put("/config",{type:"homepage",data:this.homepage}).then((e=>{this.$message.success("设置成功",e.data.message)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},glevelSet(){const e=this.$message.loading("全局日志设置中...",0);this.$axios.put("/config",{type:"gloglevel",data:this.gloglevel}).then((e=>{0===e.data.rescode?this.$message.success("设置成功",e.data.message):this.$message.error("设置失败",e.data.message)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},feedOp(){const e=this.$message.loading("设置保存中...",0);this.$axios.put("/feed",{type:"op",data:{enable:this.CONFIG_FEED.enable,maxbLength:this.CONFIG_FEED.maxbLength,webmessage:this.CONFIG_FEED.webmessage}}).then((e=>{this.$message.success(`设置已保存\n${e.data.message}`)})).catch((e=>{this.$message.error("设置保存失败",e.message),console.log(e)})).finally(e)},feedTest(){const e=this.$message.loading("通知准备测试中...",0);this.$axios.put("/feed",{type:"test"}).then((e=>{0===e.data.rescode?this.$message.success(e.data.message):console.log(e.data)})).catch((e=>{this.$message.error("通知测试失败",e.message),console.log(e)})).finally(e)},feedClear(){if(!confirm("确实清空 Feed 内容吗？"))return;const e=this.$message.loading("Feed 清空中...",0);this.$axios.put("/feed",{type:"clear"}).then((e=>{this.$message.success("Feed 内容已重置",e.data.message)})).catch((e=>{this.$message.error("Feed 清空失败",e.message),console.log(e)})).finally(e)},iftttSave(){if(!this.CONFIG_FEED.iftttid.enable||this.CONFIG_FEED.iftttid.key){if(this.CONFIG_FEED.iftttid.enable||confirm("确认关闭 IFTTT 通知？")){const e=this.$message.loading("IFTTT 设置中...",0);this.$axios.put("/feed",{type:"ifttt",data:this.CONFIG_FEED.iftttid}).then((e=>{this.$message.success("IFTTT 设置已保存",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("设置保存失败",e.response?e.response.data:e.message),console.error(e)})).finally(e)}}else this.$message.error("请输入 IFTTT KEY 值")},barkeySave(){if(!this.CONFIG_FEED.barkkey.enable||this.CONFIG_FEED.barkkey.key){if(this.CONFIG_FEED.barkkey.enable||confirm("确认关闭 BARK 通知？")){const e=this.$message.loading("barkkey 设置中...",0);this.$axios.put("/feed",{type:"barkkey",data:this.CONFIG_FEED.barkkey}).then((e=>{this.$message.success("barkkey 设置已保存",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("设置失败",e.response?e.response.data:e.message),console.error(e)})).finally(e)}}else this.$message.error("请输入 BARK KEY 值")},custnotifySave(){if(!this.CONFIG_FEED.custnotify.enable||this.CONFIG_FEED.custnotify.url){if(this.CONFIG_FEED.custnotify.enable||confirm("确认关闭自定义通知？")){const e=this.$message.loading("更新自定义通知相关设置中...",0);this.$axios.put("/feed",{type:"custnotify",data:this.CONFIG_FEED.custnotify}).then((e=>{this.$message.success("自定义通知设置已保存",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("设置失败",e.response?e.response.data:e.message),console.error(e)})).finally(e)}}else this.$message.error("请输入自定义通知链接")},notifyjsSave(){if(!this.CONFIG_FEED.runjs.enable||this.CONFIG_FEED.runjs.list){if(this.CONFIG_FEED.runjs.enable||confirm("确认关闭触发 JS？")){const e=this.$message.loading("通知触发 JS 设置保存中...",0);this.$axios.put("/feed",{type:"runjs",data:this.CONFIG_FEED.runjs}).then((e=>{this.$message.success(`设置已保存\n${e.data.message}`),console.debug(e.data)})).catch((e=>{this.$message.error("设置保存失败",e.response?e.response.data:e.message),console.error(e)})).finally(e)}}else this.$message.error("请输入要触发的 JS")},wbrtokenSave(){if(!this.wbrtoken)return void this.$message.error("请先输入 TOKEN 值");if(this.wbrtoken.length<6)return void this.$message.error("当前设置 TOKEN 太短，请重新填写");const e=this.$message.loading("TOKEN 上传设置中...",0);this.$axios.put("/config",{type:"wbrtoken",data:this.wbrtoken}).then((e=>{0===e.data.rescode?(e.data.resdata&&(this.userid=e.data.resdata.userid),this.$message.success("设置成功",e.data.message)):this.$message.error("WEBHOOK TOKEN 修改失败",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},mergeSave(){const e=this.$message.loading("feed 通知设置中...",0);this.$axios.put("/feed",{type:"merge",data:{rssenable:this.CONFIG_FEED.rss.enable,merge:this.CONFIG_FEED.merge}}).then((e=>{this.$message.success(`设置已保存\n${e.data.message}`),console.debug(e.data)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},runjsSave(){const e=this.$message.loading("RUNJS 相关设置上传中...",0);this.$axios.put("/config",{type:"runjs",data:this.CONFIG_RUNJS}).then((e=>{0===e.data.rescode?this.$message.success("修改成功",e.data.message):(this.$message.error("修改失败",e.data.message),console.error(e.data))})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},initSave(){const e=this.$message.loading("启动时 相关设置保存中...",0);this.CONFIG_init.checkupdate=this.checkupdate.enable,this.$axios.put("/config",{type:"init",data:{CONFIG_init:this.CONFIG_init}}).then((e=>{this.$message.success(`设置保存成功\n${e.data.message}`)})).catch((e=>{this.$message.error("设置保存失败",e.message),console.log(e)})).finally(e)},anyproxySave(){if(this.anyproxy.port&&this.anyproxy.webPort){if(this.anyproxy.enable||confirm("确定在下次启动 elecV2P 时不打开 ANYPROXY 吗？")){const e=this.$message.loading("ANYPROXY 相关设置保存中...",0);this.$axios.put("/config",{type:"anyproxy",data:this.anyproxy}).then((e=>{0===e.data.rescode?this.$message.success("ANYPROXY 设置保存成功"):(this.$message.error("ANYPROXY 设置修改失败",e.data.message),console.error(e.data))})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)}}else this.$message.error("请正确填写端口相关数据")},webUISave(){if(confirm("确定将 webUI 主界面端口更改为: "+this.webUI.port+" 吗？(下次启动时应用)")){const e=this.$message.loading("webUI 主界面端口修改保存中...",0);this.$axios.put("/config",{type:"webUI",data:this.webUI}).then((e=>{0===e.data.rescode?this.$message.success("webUI 端口设置保存成功"):(this.$message.error("webUI 端口设置修改失败",e.data.message),console.error(e.data))})).catch((e=>{this.$message.error("webUI 端口设置失败",e.message),console.log(e)})).finally(e)}},saveAll(){const e=this.$message.loading("配置数据上传中...",0);this.CONFIG_init.checkupdate=this.checkupdate.enable,this.$axios.put("/config",{type:"config",data:{homepage:this.homepage,gloglevel:this.gloglevel,CONFIG_FEED:this.CONFIG_FEED,CONFIG_RUNJS:this.CONFIG_RUNJS,CONFIG_Axios:this.CONFIG_Axios,wbrtoken:this.wbrtoken,SECURITY:this.CONFIG_SECURITY,init:this.CONFIG_init}}).then((e=>{this.$message.success(`当前设置保存成功\n${e.data.message}`)})).catch((e=>{this.$message.error("设置保存失败",e.message),console.log("设置保存失败",e)})).finally(e)},configExport(){this.$uApi.open("/config?token="+this.wbrtoken)},async configImport(){if(!confirm("导入配置文件将会覆盖当前所有设置，并在重启后正式生效\n确认继续导入 elecV2P config.json 文件？"))return;let e=await this.$uApi.getFile({accept:".json"});if(e&&"config.json"===e.name){if(e.content=this.$uStr.sJson(e.content),!e.content)return void this.$message.error("当前导入文件并不是正确的 JSON 格式");this.$axios.post("/config",{file:e}).then((e=>{0===e.data.rescode?this.$message.success("配置文件导入成功，将在重启后正式生效",e.data.message):this.$message.error("配置文件导入失败",e.data.message),console.debug("配置文件导入结果",e.data)})).catch((e=>{this.$message.error("配置文件导入失败",e.message),console.error("配置文件导入失败",e)}))}else this.$message.error("请选择正确的配置文件 config.json 进行导入")},updateCheck(){if(this.checkupdate.newversion)return void this.$message.success("检测到新版本 v"+this.checkupdate.newversion+"\n请手动运行 softupdate.js 或者使用 docker 命令进行更新\n（等 softupdate.js 稳定后将会集成到这里实现自动更新）");const e=this.$message.loading("正在检测 elecV2P 是否有新的版本可供更新...",0);this.$axios.get("/data?type=update&force=true").then((e=>{e.data.updateversion?(this.$message.success("检测到新版本 elecV2P v"+e.data.updateversion+"\n请手动运行 softupdate.js 或者使用 docker 命令进行更新\n（等 softupdate.js 稳定后将会集成到这部分以实现自动更新）"),this.checkupdate.newversion=e.data.updateversion):this.$message.success(e.data.message+"\n当前 elecV2P v"+e.data.version+" 已是最新版本")})).catch((e=>{this.$message.error("检测更新失败",e.message),console.error("检测更新失败",e)})).finally(e)}}},Ta,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"setting_label"},[s("a",{staticClass:"cursor--help",attrs:{href:"https://help.ifttt.com/hc/en-us/articles/115010230347-Webhooks-service-FAQ",target:"_blank"}},[e._v("IFTTT")]),e._v(" KEY：")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"setting_label"},[s("a",{staticClass:"cursor--help",attrs:{href:"https://github.com/Finb/Bark",target:"_blank"}},[e._v("BARK")]),e._v(" KEY：")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("i",{staticClass:"tip"},[e._v("以上设置将在 elecV2P 重启时应用 "),s("small",{staticClass:"tip--small"},[e._v("（如非必要，请勿随意更改）")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("ul",{staticClass:"footer_tip"},[s("li",[e._v("通知及JS 运行和网络请求相关设置对使用 nodejs 模式运行的脚本无效")]),e._v(" "),s("li",[e._v("除了初始化相关设置之外，其他设置保存后立即生效。CTRL+S 保存所有")]),e._v(" "),s("li",[e._v("关于通知类相关设置参考: "),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/07-feed&notify.md",target:"_blank"}},[e._v("07-feed.md")]),e._v("。 其他参考: "),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs",target:"_blank"}},[e._v("全部说明文档")]),e._v(" 相关项")])])])}],!1,null,"2c6680e6",null);_r.options.__file="web/src/setting/setting.vue";const br=_r.exports;var yr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.taskSave()):null}}},[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content",on:{click:function(t){e.menu={}},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(e.menu={},void(e.taskChecked="none")))}}},[s("contextmenu",{attrs:{menus:e.menu.list,pos:e.menu.pos}}),e._v(" "),s("movegroup",{attrs:{show:e.show,gpoptions:e.gnamelist},on:{choose:function(t){return e.taskMoveToGroup(t)}}}),e._v(" "),s("div",{staticClass:"etable"},[s("table",{staticClass:"elecTable"},[s("caption",{staticClass:"elecTable_caption"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"elecTable_input elecTable_input--caption",class:{eopacity:e.search},attrs:{placeholder:"搜索任务",title:"输入名称/时间/任务内容中的关键字进行过滤显示"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),s("span",[e._v("任务列表 - "+e._s(e.taskstatus))]),e._v(" "),s("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前任务列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.taskInit()}}})]),e._v(" "),s("thead",[s("tr",[s("th",{staticClass:"elecTable_th elecTable_th--check",attrs:{title:"全选/全不选"}},[s("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.taskCkall(t)}}})]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v("名称")]),e._v(" "),s("th",{staticClass:"elecTable_th task_time",attrs:{colspan:"2"}},[e._v("时间")]),e._v(" "),s("th",{staticClass:"elecTable_th minw600",attrs:{colspan:"2",title:"enter: 开始定时任务\nctrl+enter: 测试运行任务\nalt +enter: 查看任务日志"}},[e._v("任务")]),e._v(" "),s("th",{staticClass:"elecTable_th minw62"},[e._v("状态")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_cell100",attrs:{colspan:"2"}},[e._v("操作")])])]),e._v(" "),e._l(e.grouplist,(function(t,i){return s("tbody",{key:i,class:{elecTable_group:"normal"!==i,"elecTable_group--bottom":"normal"!==i},style:{background:e.tasklists[i]&&e.tasklists[i].bkcolor},attrs:{tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.altKey?(t.preventDefault(),t.ctrlKey||t.shiftKey||t.metaKey?null:e.taskLog(t)):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?(t.preventDefault(),t.shiftKey||t.altKey||t.metaKey?null:e.taskTest(t)):null}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.taskStartDelegate(t))}}},["normal"!==i?s("tr",[s("td",{staticClass:"elecTable_td"},[s("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.taskGroupCheck(i,t)}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.tasklists[i].name,expression:"tasklists[gid].name",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"id: "+i},domProps:{value:e.tasklists[i].name},on:{input:function(t){t.target.composing||e.$set(e.tasklists[i],"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td",attrs:{colspan:"5"}},[s("div",{staticClass:"eflex w100"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.tasklists[i].note,expression:"tasklists[gid].note",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"分组备注说明（可省略"},domProps:{value:e.tasklists[i].note},on:{input:function(t){t.target.composing||e.$set(e.tasklists[i],"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.tasklists[i].bkcolor,expression:"tasklists[gid].bkcolor",modifiers:{trim:!0,lazy:!0}}],staticClass:"elecTable_input elecTable_cell100 elecBtn--mleft",attrs:{placeholder:"背景色",title:"当前分组背景颜色/图片"},domProps:{value:e.tasklists[i].bkcolor},on:{change:function(t){e.$set(e.tasklists[i],"bkcolor",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("span",{staticClass:"elecBtn elecBtn--mleft elecBtn--uncheck"},[e._v(e._s(e.tasklists[i].active)+"/"+e._s(e.tasklists[i].total))])])]),e._v(" "),s("td",{staticClass:"elecTable_td elecTable_cell100",attrs:{colspan:"2"}},[s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.taskGroupDelete(i)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.tasklists[i].collapse,expression:"tasklists[gid].collapse"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.downcircle)},on:{click:function(t){return e.taskGroupOp(i)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.tasklists[i].collapse,expression:"!tasklists[gid].collapse"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.upcircle)},on:{click:function(t){return e.taskGroupOp(i)}}})])]):e._e(),e._v(" "),e._l(t,(function(t,i){return s("tr",{key:i,class:{"elecTable_tr--disabled":!t.running,"elecTable_tr--selected":e.taskChecked[i]}},[s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.taskChecklist,expression:"taskChecklist"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.taskChecklist)?e._i(e.taskChecklist,i)>-1:e.taskChecklist},on:{change:function(t){var s=e.taskChecklist,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=i,o=e._i(s,r);n.checked?o<0&&(e.taskChecklist=s.concat([r])):o>-1&&(e.taskChecklist=s.slice(0,o).concat(s.slice(o+1)))}else e.taskChecklist=a}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"titem.name",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{"data-tid":i,placeholder:"id: "+t.id},domProps:{value:t.name},on:{input:function(s){s.target.composing||e.$set(t,"name",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"titem.type"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"type",s.target.multiple?i:i[0])}}},[s("option",{attrs:{value:"cron"}},[e._v("cron定时")]),e._v(" "),s("option",{attrs:{value:"schedule"}},[e._v("倒计时")])])]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.time,expression:"titem.time",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{"data-tid":i},domProps:{value:t.time},on:{input:function(s){s.target.composing||e.$set(t,"time",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td task_select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.job.type,expression:"titem.job.type"}],staticClass:"elecTable_select",on:{change:[function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t.job,"type",s.target.multiple?i:i[0])},function(e){"exec"===t.job.type&&(t.job.target="node -v")}]}},e._l(e.jobtype_select,(function(t,i){return s("option",{domProps:{value:i}},[e._v(e._s(t))])})),0)]),e._v(" "),s("td",{staticClass:"elecTable_td"},[/^task/.test(t.job.type)?s("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.job.target,expression:"titem.job.target",modifiers:{trim:!0}}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t.job,"target",s.target.multiple?i:i[0])}}},e._l(e.normlist,(function(t,i){return s("option",{domProps:{value:i}},[e._v(e._s(t.name))])})),0):s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.job.target,expression:"titem.job.target",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{"data-tid":i},domProps:{value:t.job.target},on:{input:function(s){s.target.composing||e.$set(t.job,"target",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.taskMenu(t,i)},contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.taskMenu(t,i)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.running,expression:"titem.running"}],staticClass:"icon--op icon--run",domProps:{innerHTML:e._s(e.icon.sync)}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.running,expression:"!titem.running"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.pause)}})]),e._v(" "),s("td",{staticClass:"elecTable_td elecTable_cell100",attrs:{colspan:"2"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.running,expression:"titem.running"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.pause)},on:{click:function(t){return e.taskStop(i)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.running,expression:"!titem.running"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.play)},on:{click:function(t){return e.taskStart(i)}}}),e._v(" "),s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.taskDelete(i)}}})])])}))],2)})),e._v(" "),s("tbody",[s("tr",[s("td",{staticClass:"center border_top1",attrs:{colspan:"9"}},[s("span",{staticClass:"elecTable_addbtn",on:{click:function(t){return e.subNew()}}},[e._v("添加任务订阅")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn",on:{click:function(t){return e.taskNew()}}},[e._v("添加单个任务")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn",class:{"elecTable_addbtn--selected":1===e.subeishow},on:{click:function(t){return e.taskExport()}}},[e._v("导出"+e._s(e.taskChecklist.length?"选择任务":"任务列表"))]),e._v(" "),s("input",{ref:"taskim",staticClass:"eupload_file eupload_file--small eupload_file--task",class:{"eupload_file--selected":e.taskimorn&&2===e.subeishow},attrs:{type:"file",accept:".json"},on:{change:e.taskImport}}),e._v(" "),s("span",{staticClass:"elecTable_addbtn",attrs:{title:"更新会覆盖本地同名文件"},on:{click:function(t){return e.jsUpdate()}}},[e._v("更新"+e._s(e.taskChecklist.length?"选择任务":"全部远程")+" JS")])])]),e._v(" "),s("tr",{directives:[{name:"show",rawName:"v-show",value:e.taskChecklist.length,expression:"taskChecklist.length"}]},[s("td",{staticClass:"center",attrs:{colspan:"9"}},[s("span",{staticClass:"elecTable_addbtn elecTable_addbtn--check",on:{click:function(t){e.show.groupchoose=!0}}},[e._v("移动到某分组")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn elecTable_addbtn--uncheck",on:{click:function(t){return e.taskCkall(t)}}},[e._v("取消当前选择")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn elecTable_addbtn--stop",on:{click:function(t){return e.taskStop(e.taskChecklist)}}},[e._v("暂停选择任务")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn greenbk",on:{click:function(t){return e.taskStart(e.taskChecklist)}}},[e._v("开始选择任务")]),e._v(" "),s("span",{staticClass:"elecTable_addbtn elecTable_addbtn--clear",on:{click:function(t){return e.taskDelete(e.taskChecklist)}}},[e._v("删除选择任务 "+e._s(e.taskChecklist.length))])])])]),e._v(" "),s("tbody",e._l(e.sublist,(function(t,i,n){return s("tr",{key:i,class:{"elecTable_tr--selected":e.subimport.tid===i}},[s("td",{staticClass:"elecTable_td"},[s("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.tasksubCheck(i,t)}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"titem.name"}],staticClass:"elecTable_input",attrs:{placeholder:"订阅名称"},domProps:{value:t.name},on:{input:function(s){s.target.composing||e.$set(t,"name",s.target.value)}}})]),e._v(" "),s("td",{staticClass:"elecTable_td",class:{greenbk:"none"!==t.update_type},attrs:{title:"自动更新订阅任务"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.update_type,expression:"titem.update_type"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"update_type",s.target.multiple?i:i[0])}}},[s("option",{attrs:{value:"none"}},[e._v("不自动更新")]),e._v(" "),s("option",{attrs:{value:"cron"}},[e._v("cron定时")]),e._v(" "),s("option",{attrs:{value:"schedule"}},[e._v("倒计时")])])]),e._v(" "),s("td",{staticClass:"elecTable_td",class:{greenbk:"none"!==t.update_type}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.time,expression:"titem.time",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{"data-tid":i,placeholder:"自动更新时间"},domProps:{value:t.time},on:{input:function(s){s.target.composing||e.$set(t,"time",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td",attrs:{title:"同名任务更新方式"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.job.type,expression:"titem.job.type"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t.job,"type",s.target.multiple?i:i[0])}}},e._l(e.subselect,(function(t,i){return s("option",{domProps:{value:i}},[e._v(e._s(t))])})),0)]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.target,expression:"titem.job.target"}],staticClass:"elecTable_input",attrs:{placeholder:"订阅链接，不兼容其他软件的订阅格式。请勿添加不信任的来源链接"},domProps:{value:t.job.target},on:{input:function(s){s.target.composing||e.$set(t.job,"target",s.target.value)}}})]),e._v(" "),s("td",{staticClass:"elecTable_td",attrs:{colspan:"2"}},[s("button",{staticClass:"elecBtn",on:{click:function(s){return e.subGet(t.job.target,i)}}},[e._v("获取内容")])]),e._v(" "),s("td",{staticClass:"elecTable_td minw62"},[s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.subDelete(i)}}})])])})),0),e._v(" "),s("tbody",{directives:[{name:"show",rawName:"v-show",value:1===e.subeishow,expression:"subeishow === 1"}],staticClass:"border_top"},[s("tr",[s("td",{staticClass:"elecTable_td",attrs:{colspan:"6"}},[s("div",{staticClass:"subdetail_head"},[s("label",{staticClass:"subdetail_label"},[e._v("订阅名称: ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.subexport.name,expression:"subexport.name",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input subdetail_name",attrs:{placeholder:"elecV2P 定时任务订阅"},domProps:{value:e.subexport.name},on:{change:function(t){e.$set(e.subexport,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"subdetail_label"},[e._v("订阅描述: ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.subexport.note,expression:"subexport.note",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input subdetail_note",attrs:{placeholder:"这是一个适用于 elecV2P 的定时任务订阅。请不要添加未知来源的订阅"},domProps:{value:e.subexport.note},on:{change:function(t){e.$set(e.subexport,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("td",{staticClass:"elecTable_td",attrs:{colspan:"3"}},[s("button",{staticClass:"elecBtn greenbk",on:{click:function(t){return e.taskExportDownload()}}},[e._v("确认导出")])])]),e._v(" "),s("tr",[s("td",{staticClass:"elecTable_td",attrs:{colspan:"9"}},[s("textarea",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.subexportstr,expression:"subexportstr",modifiers:{lazy:!0,trim:!0}}],staticClass:"editor_textarea subdetail_content",attrs:{placeholder:'订阅内容格式如下: \n{\n  name: "订阅名称",\n  note: "订阅描述，可省略。不兼容其他软件的订阅格式。详细说明参考: https://github.com/elecV2/elecV2P-dei/tree/master/docs/06-task.md",\n  list: [\n    {\n      "name": "清空日志",\n      "type": "cron",\n      "time": "30 59 23 * * *",\n      "job": {\n        "type": "runjs",\n        "target": "https://raw.githubusercontent.com/elecV2/elecV2P/master/script/JSFile/deletelog.js"\n      }\n    }\n  ]\n}'},domProps:{value:e.subexportstr},on:{change:function(t){e.subexportstr=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}},[e._v("订阅内容")])])])]),e._v(" "),s("tbody",{directives:[{name:"show",rawName:"v-show",value:2===e.subeishow,expression:"subeishow === 2"}],staticClass:"border_top"},[s("tr",[s("td",{staticClass:"elecTable_td",attrs:{colspan:"6"}},[s("div",{staticClass:"subdetail_head"},[s("label",{staticClass:"subdetail_label"},[e._v("订阅名称: ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.subimport.name,expression:"subimport.name",modifiers:{trim:!0}}],staticClass:"elecTable_input subdetail_name",attrs:{placeholder:"elecV2P 定时任务订阅"},domProps:{value:e.subimport.name},on:{input:function(t){t.target.composing||e.$set(e.subimport,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"subdetail_label"},[e._v("订阅描述: ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.subimport.note,expression:"subimport.note",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input subdetail_note",attrs:{placeholder:"elecV2P 定时任务订阅。请不要添加未知来源的订阅"},domProps:{value:e.subimport.note},on:{change:function(t){e.$set(e.subimport,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("td",{staticClass:"elecTable_td",attrs:{colspan:"3",title:"绿色背景表示: 任务添加时即开始定时"}},[s("button",{staticClass:"elecBtn elecBtn--sub elecTable_addbtn--check",on:{click:function(t){return e.subAll()}}},[e._v(e._s(e.tasksubChecklist.length?"添加已选择":"全部添加"))])])]),e._v(" "),e._l(e.subimport.list,(function(t,i){return s("tr",{key:i,class:{"elecTable_tr--selected":-1!==e.tasksubChecklist.indexOf(i)}},[s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tasksubChecklist,expression:"tasksubChecklist"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.tasksubChecklist)?e._i(e.tasksubChecklist,i)>-1:e.tasksubChecklist},on:{change:function(t){var s=e.tasksubChecklist,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=i,o=e._i(s,r);n.checked?o<0&&(e.tasksubChecklist=s.concat([r])):o>-1&&(e.tasksubChecklist=s.slice(0,o).concat(s.slice(o+1)))}else e.tasksubChecklist=a}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:t.name,expression:"titem.name",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",domProps:{value:t.name},on:{change:function(s){e.$set(t,"name",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"titem.type"}],staticClass:"elecTable_select",on:{change:[function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"type",s.target.multiple?i:i[0])},function(e){t.time="cron"===t.type?"30 10 0 * * *":"schedule"===t.type?"3 2 3 2":""}]}},[s("option",{attrs:{value:"cron"}},[e._v("cron定时")]),e._v(" "),s("option",{attrs:{value:"schedule"}},[e._v("倒计时")])])]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:t.time,expression:"titem.time",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",domProps:{value:t.time},on:{change:function(s){e.$set(t,"time",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td task_select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.job.type,expression:"titem.job.type"}],staticClass:"elecTable_select",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t.job,"type",s.target.multiple?i:i[0])}}},e._l(e.jobtype_select,(function(t,i){return s("option",{domProps:{value:i}},[e._v(e._s(t))])})),0)]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:t.job.target,expression:"titem.job.target",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",domProps:{value:t.job.target},on:{change:function(s){e.$set(t.job,"target",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td",class:{greenbk:!1!==t.running},attrs:{colspan:"3"}},[s("button",{staticClass:"elecBtn",on:{click:function(s){return s.preventDefault(),e.subTaskAdd(t)}}},[e._v("添加该任务")])])])})),e._v(" "),s("tr",{directives:[{name:"show",rawName:"v-show",value:e.subimport.author||e.subimport.date||e.subimport.resource,expression:"(subimport.author || subimport.date || subimport.resource)"}]},[s("td",{staticClass:"elecTable_td elecTable_td--subinfo",attrs:{colspan:"9"}},[s("span",{},[e._v(e._s(e.subimport.author?"作者: "+e.subimport.author:""))]),e._v(" "),s("span",{staticClass:"mleft30"},[e._v(e._s(e.subimport.date?"更新日期: "+e.subimport.date:""))]),e._v(" "),s("span",{staticClass:"mleft30"},[e._v(e._s(e.subimport.resource?"更新地址: "+e.subimport.resource:""))])])])],2)],2)]),e._v(" "),s("p",{staticClass:"center"},[s("button",{staticClass:"elecBtn elecBtn--long elecBtn--tasksave",on:{click:function(t){return e.taskSave()}}},[e._v("保存当前任务列表")])]),e._v(" "),s("log",{attrs:{logs:e.logs,title:"任务运行日志",collapse:e.collapse},on:{"update:logs":function(t){e.logs=t}}})],1),e._v(" "),e._m(0)])};yr._withStripped=!0;var wr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show.groupchoose?s("VueDragResize",{attrs:{className:"ediv",dragHandle:".ediv_title--name",parent:!0,"prevent-deactivation":!1,active:!0,w:"480",h:"92",z:"9",resizable:!1,draggable:!0,handles:["tl","tr","bl","br"],"lock-aspect-ratio":!1}},[s("h3",{staticClass:"ediv_title"},[s("span",{staticClass:"ediv_title--name"},[e._v("请选择分组")]),e._v(" "),s("span",{staticClass:"ediv_title--close",on:{click:function(t){e.show.groupchoose=!e.show.groupchoose}}},[e._v("x")])]),e._v(" "),s("div",{staticClass:"ediv_content"},[s("div",{staticClass:"mgselect"},[s("label",{staticClass:"elecTable_label mgselect_label"},[e._v("移动到此分组: ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.choose,expression:"choose"}],staticClass:"elecTable_select mgselect_choose",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.choose=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"new"}},[e._v("新的分组")]),e._v(" "),s("option",{attrs:{value:"none"}},[e._v("不属于任何分组")]),e._v(" "),e._l(e.gpoptions,(function(t,i){return s("option",{domProps:{value:i}},[e._v(e._s(t))])}))],2),e._v(" "),s("button",{staticClass:"elecBtn greenbk",on:{click:function(t){return e.groupChoose()}}},[e._v("确定")])])])]):e._e()};wr._withStripped=!0;var kr=s(764),$r=s.n(kr);var Cr=qn({name:"movegroup",props:["show","gpoptions"],components:{VueDragResize:$r()},data:()=>({choose:"new"}),methods:{groupChoose(){this.$emit("choose",this.choose)}}},wr,[],!1,null,"13b58510",null);Cr.options.__file="web/src/task/movegroup.vue";const xr={name:"task",data:()=>({header:"定时任务",tasklists:{},subexport:{},subimport:{},taskimorn:!1,taskimtid:"",subeishow:0,taskstatus:"",jobtype_select:{runjs:"运行 JS",exec:"Shell 指令",taskstart:"开始任务",taskstop:"停止任务"},subselect:{skip:"跳过",replace:"替换",addition:"新增"},logs:[],icon:Jn,taskChecklist:[],tasksubChecklist:[],menu:{pos:[0,0],list:[]},show:{groupchoose:!1},search:"",collapse:{loginfo:!0}}),components:{log:ba,contextmenu:ka,movegroup:Cr.exports},computed:{normlist(){let e={};for(let t in this.tasklists)if(this.tasklists[t])switch(this.tasklists[t].type){case"cron":case"schedule":e[t]=this.tasklists[t]}return e},tnamelist(){let e={};for(let t in this.normlist)e[this.normlist[t].name]=t;return e},gnamelist(){let e={};for(let t in this.tasklists)"group"===this.tasklists[t].type&&(e[t]=this.tasklists[t].name);return e},sublist(){let e={};for(let t in this.tasklists)"sub"===this.tasklists[t].type&&(e[t]=this.tasklists[t]);return e},searchlist(){if(!this.search)return this.tasklists;let e={},t=new RegExp(this.search);for(let s in this.normlist)t.test(this.normlist[s].name+this.normlist[s].time+this.normlist[s].job.target)&&(e[s]=this.normlist[s]);return e},grouplist(){let e={},t={},s={running:0,total:0,sub:Object.keys(this.sublist).length};for(let i in this.searchlist){if("sub"===this.searchlist[i].type){this.searchlist[i].update_type||(this.searchlist[i].update_type="none");continue}if("group"===this.searchlist[i].type){e[i]||(e[i]={},this.searchlist[i].total=0,this.searchlist[i].active=0,this.searchlist[i].bkcolor||(this.searchlist[i].bkcolor=this.$uStr.randomColor({max:200})),void 0===this.searchlist[i].collapse&&(this.searchlist[i].collapse=!1));continue}s.total++,this.searchlist[i].running&&s.running++;let n=this.searchlist[i].group;n&&this.searchlist[n]&&"group"===this.searchlist[n].type?(e[n]||(e[n]={},this.searchlist[n].total=0,this.searchlist[n].active=0,this.searchlist[n].bkcolor||(this.searchlist[n].bkcolor=this.$uStr.randomColor({max:200})),void 0===this.searchlist[n].collapse&&(this.searchlist[n].collapse=!1)),this.searchlist[n].collapse||(e[n][i]=this.searchlist[i]),this.searchlist[n].total++,this.searchlist[i].running&&this.searchlist[n].active++):t[i]=this.searchlist[i]}return this.taskstatus=s.running+"/"+s.total+"/"+s.sub,e.normal=t,e},subexportstr:{get(){return JSON.stringify(this.subexport,null,2)},set(e){let t=this.$sJson(e);t?Object.assign(this.subexport,t):this.$message.error("订阅内容格式不正确, 已自动退回到修改前内容",10)}},taskChecked:{get(){let e=[];return this.taskChecklist.forEach((t=>{e[t]=!0})),e},set(e){"all"===e?this.taskChecklist=Object.keys(this.search?this.searchlist:this.normlist):"none"===e?this.taskChecklist=[]:this.normlist[e]&&-1===this.taskChecklist.indexOf(e)&&this.taskChecklist.push(e)}}},watch:{taskimorn(e){!1===e?this.$delete(this.tasklists,"localtemp"):this.taskimtid=Object.keys(this.sublist)[0]}},created(){this.taskInit();let e=this.$wsrecv.add("tasklog",(e=>{/\r(?!\n)/.test(e)&&this.logs.shift(),this.logs.length>=200?this.logs.splice(0,this.logs.length,e):this.logs.unshift(e)}));e&&this.logs.unshift(`[${this.$logHead("websocket error")}][${this.$sTime(null,1)}] ${e}, 日志无法传输`),this.$wsrecv.add("task",(e=>{if("init"!==e.op)if(this.tasklists[e.tid])switch(e.op){case"start":this.$set(this.tasklists[e.tid],"running",!0);break;case"stop":this.$set(this.tasklists[e.tid],"running",!1);break;default:console.error("unknow task operation")}else e.tid&&e.taskinfo&&this.taskCheck(e.taskinfo)?this.tasklists[e.tid]=e.taskinfo:console.error("任务暂不存在",e);else this.taskInit()}))},methods:{taskInit(){const e=this.$message.loading("获取任务列表中...",0);this.$axios.get("/task").then((e=>{this.tasklists=e.data||{},this.subexport={},this.subimport={},this.subeishow=0,console.debug(`[${this.$logHead("taskInit info")}][${this.$sTime(null,1)}]`,"当前 elecV2P 任务分组数",Object.keys(this.grouplist).length-1),this.$message.success("成功获取任务列表",this.taskstatus),this.logs.unshift(`[${this.$logHead("taskInit info")}][${this.$sTime(null,1)}] 成功获取任务列表: ${this.taskstatus}`)})).catch((e=>{this.$message.error("获取任务列表失败",e.message),this.logs.unshift(`[${this.$logHead("taskInit error")}][${this.$sTime(null,1)}] 获取任务列表失败: ${e.message}`),console.error("获取任务列表失败",e)})).finally(e)},taskNewId(e=8){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=t[Math.floor(52*Math.random())];for(e--;e--;)s+=t[Math.floor(62*Math.random())];return this.tasklists[s]?this.taskNewId():s},taskNew(e=this.taskNewId()){let t={},s={};Math.random()>.6?(t.type="schedule",t.time="3 2 2"):(t.type="cron",t.time="20 10 0 * * *"),Math.random()<.5?(s.type="runjs",s.target="test.js"):(s.type="exec",s.target="node -v"),this.$set(this.tasklists,e,{id:e,name:"新的任务 "+(Object.keys(this.normlist).length+1),type:t.type,time:t.time,job:s,running:!1})},taskCheck(e){if(!e)return this.$message.error("请输入任务内容"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] 没有任何任务信息`),!1;if(!e.name)return this.$message.error("请输入任务名"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] 没有任务名称`),!1;if(!/schedule|cron/.test(e.type))return this.$message.error("非法任务类型",e.type),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] ${e.name} 任务类型 ${e.type} 有误`),!1;let t=e.time.split(" ");return"cron"===e.type&&5!==t.length&&6!==t.length?(this.$message.error(e.time,"不符合 cron 时间格式标准"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] ${e.name} 时间: ${e.time} 不符合 cron 时间格式标准`),!1):"schedule"===e.type&&t.filter((e=>/^\d+$/.test(e))).length!==t.length?(this.$message.error(e.time,"不符合 倒计时 时间格式标准"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] ${e.name} 时间: ${e.time} 不符合 倒计时 时间格式标准`),!1):!!(e.job&&e.job.type&&e.job.target)||(this.$message.error("任务内容填写不完整"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] ${e.name} 任务内容填写不完整`),!1)},taskStart(e){let t,s="array"===this.$sType(e);if(s)t=[],e.forEach((e=>{this.taskCheck(this.tasklists[e])&&(this.tasklists[e].id=e,this.tasklists[e].running=!0,t.push(this.tasklists[e]))}));else{if(!this.taskCheck(this.tasklists[e]))return;if(this.tasklists[e].running)return void this.$message.error(this.tasklists[e].name,"正在运行中");this.tasklists[e].id=e,this.tasklists[e].running=!0,t=this.tasklists[e]}let i=!1;const n=this.$message.loading("任务上传准备执行中...",0);this.$axios.put("/task",{op:"start",data:{task:t}}).then((e=>{0===e.data.rescode?this.$message.success("定时任务已开始"):i=e.data.message})).catch((e=>{console.error(e),i=e.message})).finally((()=>{n(),i&&(s||(this.tasklists[e].running=!1),this.$message.error("开始任务失败"),this.logs.unshift(`[${this.$logHead("taskStart error")}][${this.$sTime(null,1)}] 开始任务执行失败: ${i}`))}))},taskStop(e){let t="array"===this.$sType(e);if(!t){if(!1===this.tasklists[e].running)return void this.$message.success(this.tasklists[e].name,"已停止，无需任何操作");this.tasklists[e].running=!1}let s=!1;const i=this.$message.loading("任务停止命令执行中...",0);this.$axios.put("/task",{op:"stop",data:{tid:e}}).then((e=>{0===e.data.rescode?this.$message.success("相关定时任务已停止"):s=e.data.message})).catch((e=>{s=e.message,console.error(e)})).finally((()=>{i(),s&&(t||(this.tasklists[e].running=!0),this.$message.error("停止任务失败"),this.logs.unshift(`[${this.$logHead("taskStop error")}][${this.$sTime(null,1)}] 停止任务失败: ${s}`))}))},taskDelete(e){if("array"===this.$sType(e)){if(confirm(`确定删除这 ${e.length} 个定时任务？`)){const t=this.$message.loading("定时任务批量删除中...",0);this.$axios.put("/task",{op:"delete",data:{tid:e}}).then((t=>{0===t.data.rescode?(this.$message.success("定时任务批量删除完成"),e.forEach((e=>this.$delete(this.tasklists,e))),this.logs.unshift(`[${this.$logHead("taskDelete info")}][${this.$sTime(null,1)}] 定时任务批量删除完成`),this.taskChecked="none"):(this.$message.error("定时任务批量删除失败"),this.logs.unshift(`[${this.$logHead("taskDelete error")}][${this.$sTime(null,1)}] 定时任务批量删除失败 ${t.data.message}`))})).catch((e=>{this.$message.error("定时任务批量删除失败",e.message),this.logs.unshift(`[${this.$logHead("taskDelete error")}][${this.$sTime(null,1)}] 定时任务批量删除: ${e.message}`),console.error(e)})).finally(t)}}else if(confirm(`确定删除任务 ${this.tasklists[e].name}？`)){const t=this.$message.loading("定时任务",this.tasklists[e].name,"删除中...",0);this.$axios.put("/task",{op:"delete",data:{tid:e}}).then((t=>{0===t.data.rescode?(this.$message.success("成功删除任务:",this.tasklists[e].name),this.logs.unshift(`[${this.$logHead("taskDelete info")}][${this.$sTime(null,1)}] 成功删除任务: ${this.tasklists[e].name}`),this.$delete(this.tasklists,e)):(this.$message.error("任务:",this.tasklists[e].name,"删除失败"),this.logs.unshift(`[${this.$logHead("taskDelete error")}][${this.$sTime(null,1)}] 任务: ${this.tasklists[e].name} 删除失败 ${t.data.message}`))})).catch((e=>{this.$message.error("删除任务失败",e.message),this.logs.unshift(`[${this.$logHead("taskDelete error")}][${this.$sTime(null,1)}] 删除任务失败: ${e.message}`),console.error(e)})).finally(t)}},taskSave(){this.search="";const e=this.$message.loading("正在保存当前任务列表...",0);this.$axios.post("/task",this.tasklists).then((e=>{-1===e.data.rescode?(this.$message.error("当前任务列表保存失败"),this.logs.unshift(`[${this.$logHead("taskSave error")}][${this.$sTime(null,1)}] 当前任务列表保存失败：${e.data.message}`)):(this.$message.success("当前任务列表已保存",this.taskstatus),this.logs.unshift(`[${this.$logHead("taskSave info")}][${this.$sTime(null,1)}] 当前任务列表已保存 ${this.taskstatus}，将在 elecV2P 下次启动时自动恢复`))})).catch((e=>{console.error(e),this.$message.error("当前任务列表保存失败",e.message),this.logs.unshift(`[${this.$logHead("taskSave error")}][${this.$sTime(null,1)}] 当前任务列表保存失败：${e.message}`)})).finally(e)},taskStartDelegate(e){let t=e.target.dataset.tid;t&&this.taskStart(t)},taskTest(e){let t=e.target?e.target.dataset.tid:e;if(!t)return;if(!this.taskCheck(this.tasklists[t]))return;let s=this.tasklists[t].running;this.tasklists[t].running=!0;const i=this.$message.loading("任务测试运行中...",0);this.logs.unshift(`[${this.$logHead("taskStart info")}][${this.$sTime(null,1)}] 立即测试运行定时任务: ${this.tasklists[t].name}`),this.collapse.loginfo=!1,this.$axios.put("/task",{op:"test",data:{tid:"totest",task:this.tasklists[t]}}).then((e=>{let s=this.$sString(e.data.message)||"无";this.$message.success(this.tasklists[t].name,"测试运行结果:",s),this.logs.unshift(`[${this.$logHead("taskTest info")}][${this.$sTime(null,1)}] ${this.tasklists[t].name} 测试运行结果: ${s}`)})).catch((e=>{console.error(e),this.$message.error(this.tasklists[t].name,"测试运行失败",e.message),this.logs.unshift(`[${this.$logHead("taskTest error")}][${this.$sTime(null,1)}] ${this.tasklists[t].name} 测试运行失败: ${e.message}`)})).finally((()=>{i(),this.tasklists[t].running=s}))},taskLog(e){let t=e.target?e.target.dataset.tid:e;t&&(this.tasklists[t]?"runjs"===this.tasklists[t].job.type?/^https?:\/\/\S{4}/.test(this.tasklists[t].job.target)?this.$uApi.open(`./logs/${this.$uStr.surlName(this.tasklists[t].job.target.split(" ")[0])}.log`):this.$uApi.open(`./logs/${this.tasklists[t].job.target.split(" ")[0].replace(/\/|\\/g,"-")}.log`):"exec"===this.tasklists[t].job.type?this.$uApi.open(`./logs/${this.tasklists[t].name}.task.log`):this.$message.error("该任务类型不支持查看日志"):this.$message.error("任务不存在"))},subNew(e=this.taskNewId()){this.$set(this.tasklists,e,{name:"定时任务订阅",type:"sub",job:{type:"skip",target:""}})},async subGet(e,t){if(!e||!/^https?:\/\/\S{4}|^\/?efss\//.test(e))return void this.$message.error("请输入正确的订阅地址",6);if(!/\.json$/.test(e)&&!confirm("该订阅内容可能并不是 JSON 格式，确认继续？"))return;let s=this.$message.loading("正在获取订阅信息...",0),i="";try{i=await this.$axios.get(e,{crossdomain:!0})}catch(t){if(this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 获取订阅信息失败 ${t.message}`),t.response)return s(),this.$message.error(`获取订阅内容失败，服务器返回状态码 ${t.response.status}`),void console.debug(`获取订阅内容失败，服务器返回状态码 ${t.response.status}`,t.response.data);if(/^https?:\/\/\S{4}/.test(e)){this.logs.unshift(`[${this.$logHead("taskSub info")}][${this.$sTime(null,1)}] 即将尝试从服务器端获取该订阅内容`),this.$message.error("获取订阅信息失败",t.message,"即将尝试从服务器端获取该订阅内容");try{i=await this.$axios.get("/data?type=stream&url="+e)}catch(t){return s(),this.$message.error("获取订阅信息失败",t.message,"请检测网络后重试"),void this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 从 ${e} 获取订阅信息失败 ${t.message}，请检测网络后重试`)}}}if(200!==i.status||-1===i.data.rescode)return s(),this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 该订阅链接 ${e} 返回结果有误 ${this.$sString(i.data)} 请确认输入地址是否正确`),this.$message.error("该订阅返回状态不正确，请确认当前网络环境或输入地址是否正常"),void console.error(i);s();let n=this.$sJson(i.data);n&&n.name&&n.list?("localtemp"===t&&(t=this.taskNewId(),this.$set(this.tasklists,t,this.tasklists.localtemp)),n.tid=t,n.resource=n.resource||n.surl,n.note=n.note||n.desc,this.subimport=n,this.taskimorn=!1,this.subeishow=2,this.$message.success("成功获取订阅信息"),this.logs.unshift(`[${this.$logHead("taskSub info")}][${this.$sTime(null,1)}] 成功获取订阅 ${n.name} 内容`),n.time&&!this.sublist[t].time&&(this.sublist[t].time=n.time,this.sublist[t].update_type=n.update_type||n.type||"none"),"定时任务订阅"===this.sublist[t].name&&(this.sublist[t].name=n.name)):(this.$message.error("该订阅内容无法解析"),this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 该订阅 ${e} 内容并不符合 elecV2P 订阅格式，请确认订阅链接及内容无误后再次添加`))},subDelete(e){if(this.subimport.tid===e)return this.subeishow=0,void(this.subimport.tid=null);if(!this.tasklists[e].job.target||confirm("确定删除订阅："+this.tasklists[e].name+" （并不会删除相关任务）")){const t=this.$message.loading(this.tasklists[e].name,"删除中...",0);this.$axios.put("/task",{op:"delete",data:{tid:e}}).then((t=>{this.$message.success("成功删除订阅:",this.tasklists[e].name),this.logs.unshift(`[${this.$logHead("taskSub info")}][${this.$sTime(null,1)}] 成功删除订阅: ${this.tasklists[e].name}`),this.$delete(this.tasklists,e)})).catch((e=>{console.error(e),this.$message.error("删除订阅失败",e.message),this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 删除订阅失败 ${e.message}`)})).finally(t)}},taskExport(){if(1===this.subeishow)return void(this.subeishow=0);let e={name:"elecV2P 定时任务订阅",author:"留个名字",note:"xx 导出的任务订阅。该订阅适用于 elecV2P，与其他软件并不兼容。相关说明参考：https://github.com/elecV2/elecV2P-dei/tree/master/docs/06-task.md",date:this.$sTime(),type:"task",list:[]};if(this.taskChecklist.length)this.taskChecklist.forEach((t=>{this.normlist[t]&&this.normlist[t].name&&this.normlist[t].time&&this.normlist[t].job&&e.list.push({name:this.normlist[t].name,type:this.normlist[t].type,time:this.normlist[t].time,running:this.normlist[t].running,job:this.normlist[t].job})}));else for(let t in this.normlist)e.list.push({name:this.normlist[t].name,type:this.normlist[t].type,time:this.normlist[t].time,running:this.normlist[t].running,job:this.normlist[t].job});this.subimport={},this.subexport=e,this.subeishow=1,this.taskimorn=!1},taskExportDownload(){this.subexport.name&&this.subexport.list?(this.$uApi.saveAsFile(this.subexport,this.subexport.name+".json"),this.logs.unshift(`[${this.$logHead("taskExport info")}][${this.$sTime(null,1)}] 成功导出订阅：${this.subexport.name}`)):(this.$message.error("订阅信息不完整"),this.logs.unshift(`[${this.$logHead("taskExport error")}][${this.$sTime(null,1)}] 订阅导出失败，订阅信息填写不完整`))},taskImport(){let e=this.$refs.taskim.files[0];if(!e)return void(this.taskimorn&&(this.taskimorn=!1,this.subeishow=0));this.subimport={};let t=new FileReader;t.onload=e=>{let t=e.target.result,s=this.$sJson(t);s&&s.name&&s.list?(s.resource=s.resource||s.surl,s.note=s.note||s.desc,this.subimport=s,this.subimport.tid="local",this.subeishow=2,0===Object.keys(this.sublist).length&&this.subNew("localtemp"),this.logs.unshift(`[${this.$logHead("taskImport info")}][${this.$sTime(null,1)}] 成功获取本地订阅 ${s.name} 内容`),this.taskimorn=!0,this.$message.success("成功获取本地订阅任务列表"),this.$refs.taskim.value=""):(console.error("elecV2P 无法解析该订阅内容",t),this.$message.error("该订阅内容无法解析"),this.logs.unshift(`[${this.$logHead("taskImport error")}][${this.$sTime(null,1)}] 导入的本地订阅内容并不符合 elecV2P 订阅格式，请尝试修改后再次添加\n${this.$sString(t).slice(-300)}`))},t.readAsText(e)},async jsUpdate(){let e=[];if(this.taskChecklist.length)this.taskChecklist.forEach((t=>{this.tasklists[t]&&this.tasklists[t].job&&"runjs"===this.tasklists[t].job.type&&/^https?:\/\/\S{4}/.test(this.tasklists[t].job.target)&&e.push(this.tasklists[t].job.target.split(" ")[0])}));else for(let t in this.tasklists)this.tasklists[t]&&this.tasklists[t].job&&"runjs"===this.tasklists[t].job.type&&/^https?:\/\/\S{4}/.test(this.tasklists[t].job.target)&&e.push(this.tasklists[t].job.target.split(" ")[0]);if(e.length){if(confirm("共有 "+e.length+" 个远程 JS 等待更新，确定继续？")){const t=this.$message.loading("正在更新远程 JS...",0);for(let t of e){this.logs.unshift(`[${this.$logHead("taskJSUP info")}][${this.$sTime(null,1)}] 开始更新下载 ${t}`);let e=await this.$axios.put("/jsfile",{op:"jsdownload",name:this.$uStr.surlName(t),url:t}).catch((e=>this.$message.error(e.message)));0===e.data.rescode?this.logs.unshift(`[${this.$logHead("taskJSUP info")}][${this.$sTime(null,1)}] 更新完成 ${e.data.message} `):this.logs.unshift(`[${this.$logHead("taskJSUP error")}][${this.$sTime(null,1)}] 更新失败 ${e.data.message} `)}t(),this.$message.success("全部远程 JS 更新完成")}}else this.$message.error("当前任务列表中并没有远程 JS"),this.logs.unshift(`[${this.$logHead("taskJSUP error")}][${this.$sTime(null,1)}] 当前任务列表中并没有远程 JS`)},subTaskForm(e,{type:t="skip",belong:s}){if(!this.taskCheck(e))return!1;if(!e.id)if(this.tnamelist[e.name])if(this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] 检测到同名任务: ${e.name}，当前同名任务更新方式为: ${this.subselect[t]}`),"replace"===t)e.id=this.tnamelist[e.name];else{if("addition"!==t)return this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] 跳过添加同名任务: ${e.name}`),!1;e.id=this.taskNewId()}else e.id=this.taskNewId();return!1!==e.running&&(e.running=!0),s&&"local"!==s&&(e.belong=s),e},subTaskAdd(e){let t=this.subimport.tid,s="";if("local"===t)s=this.sublist[this.taskimtid].job.type;else{if(!this.sublist[t]||!this.sublist[t].job)return Promise.reject("未知错误，订阅可能不存在");s=this.sublist[t].job.type}let i=[],n=e=>{let n=this.subTaskForm(e,{type:s,belong:t});n&&i.push(n)};if("array"===this.$sType(e)?e.forEach((e=>n(e))):n(e),0===i.length){let e="没有新的任务需要添加";return this.$message.success(e),this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] ${e}`),Promise.resolve(e)}let a=this.$message.loading("正在添加定时任务...",0);return new Promise(((e,t)=>{this.$axios.put("/task",{op:"add",data:{task:i,type:s}}).then((e=>{0===e.data.rescode?(this.$message.success("定时任务添加成功"),this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] 定时任务添加完成`),JSON.parse(JSON.stringify(i)).forEach((e=>{this.$set(this.tasklists,e.id,e)}))):(this.$message.error("定时任务添加失败"),this.logs.unshift(`[${this.$logHead("taskSubAdd error")}][${this.$sTime(null,1)}] 添加定时任务失败 ${e.data.message}`))})).catch((e=>{console.error(e),this.$message.error("定时任务添加失败",e.message),this.logs.unshift(`[${this.$logHead("taskSubAdd error")}][${this.$sTime(null,1)}] 添加定时任务失败 ${e.message}`)})).finally((()=>{e(),a()}))}))},subAll(){if(this.subimport.list&&this.subimport.list.length){let e=[];this.tasksubChecklist.length?this.tasksubChecklist.forEach((t=>{e.push(this.subimport.list[t])})):e=this.subimport.list,this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] 开始添加订阅 ${this.subimport.name} 中的任务`),this.subTaskAdd(e).catch((e=>this.$message.error(e))).finally((()=>{this.tasksubChecklist=[]}))}else this.$message.error("并没有可以导入的定时任务"),this.logs.unshift(`[${this.$logHead("taskSubAdd error")}][${this.$sTime(null,1)}] 当前订阅列表为空`)},tasksubCheck(e,t){if(e&&t)if(t.target.checked){let t=JSON.parse(JSON.stringify(this.normlist)),s=!0;this.taskChecklist.forEach((e=>{t[e]=-1}));for(let i in t){t[i].belong===e&&(this.taskChecklist.push(i),s&&(s=!1))}s&&this.$message.success("列表中暂时还没有该订阅内的定时任务")}else this.taskChecklist=this.taskChecklist.filter((t=>this.tasklists[t]&&this.tasklists[t].belong!==e))},taskCkall(e){this.taskChecked=e.target.checked?"all":"none"},taskMenu(e,t){let s=[],i=this.taskTest,n=this.taskLog;if(s.push({label:"立即测试运行",click(){i(t)}},{label:"查看任务日志",click(){n(t)}}),"runjs"===this.tasklists[t].job.type){let e=this.tasklists[t].job.target.split(" ")[0],i=this.$uApi.store.setCache;s.push({label:"查看脚本内容",method:"nav",param:"jsmanage",click(){i("scriptview",e)}})}this.menu={pos:this.$uApi.getCursorPos(e,160,32*s.length),list:s}},taskGroupCheck(e,t){if(e&&t)if(t.target.checked)for(let t in this.normlist)this.normlist[t].group===e&&(this.taskChecked=t);else this.taskChecklist=this.taskChecklist.filter((t=>this.normlist[t].group!==e))},taskGroupDelete(e){if(!this.tasklists[e])return void this.$message.error("分组",e,"暂不存在");let t=this.tasklists[e].name,s=Object.keys(this.grouplist[e]);if(0===s.length||confirm("确定删除分组 "+t+"（并不会删除该分组下的任务）？")){const i=this.$message.loading(t,"删除中...",0);this.$axios.put("/task",{op:"delete",data:{tid:e}}).then((i=>{this.$message.success("成功删除分组",t,""+(s.length?s.length+"个任务已移动到普通列表":"")),this.logs.unshift(`[${this.$logHead("taskGroup info")}][${this.$sTime(null,1)}] 成功删除分组: ${t}`),s.forEach((e=>{this.$delete(this.normlist[e],"group")})),this.$delete(this.tasklists,e),console.debug(i.data)})).catch((e=>{console.error(e),this.$message.error("删除分组失败",e.message),this.logs.unshift(`[${this.$logHead("taskGroup error")}][${this.$sTime(null,1)}] 删除分组失败 ${e.message}`)})).finally(i)}},taskGroupOp(e){this.$set(this.tasklists[e],"collapse",!this.tasklists[e].collapse)},taskMoveToGroup(e){"new"===e&&(e=this.taskNewId(),this.$set(this.tasklists,e,{name:"新的分组 "+Object.keys(this.grouplist).length,type:"group",note:"关于该分组的一些备注说明",bkcolor:this.$uStr.randomColor({max:200}),collapse:!1})),"none"===e||this.tasklists[e]&&"group"===this.tasklists[e].type?(this.taskChecklist.forEach((t=>{"none"===e?this.$delete(this.tasklists[t],"group"):this.$set(this.tasklists[t],"group",e)})),this.$message.success("成功移动",this.taskChecklist.length,"个定时任务到","none"===e?"普通列表":this.tasklists[e].name),this.logs.unshift(`[${this.$logHead("taskGroup info")}][${this.$sTime(null,1)}] 成功移动 ${this.taskChecklist.length} 个定时任务到 ${"none"===e?"普通列表":this.tasklists[e].name}，保存后生效`),this.show.groupchoose=!1,this.taskChecked="none"):this.$message.error("所选分组不存在，请重新选择")}}};var Tr=qn(xr,yr,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("ul",[s("li",[e._v("当时间类型为 "),s("strong",[e._v("cron定时")]),e._v(" 时，时间格式: (*) * * * * *（五位或六位 cron 时间格式）")]),e._v(" "),s("li",[e._v("为 "),s("strong",[e._v("倒计时")]),e._v(" 时，时间格式: 30 999 3 2（倒计时秒数 重复次数 随机秒数 随机重复次数）"),s("i",[e._v("后三项可省略")])]),e._v(" "),s("li",[e._v("任务输入框内快捷键: enter - 开始定时任务 ctrl+enter - 测试运行任务 alt+enter - 打开任务执行日志")]),e._v(" "),s("li",[e._v("更多相关说明查看 "),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/06-task.md",target:"_blank"}},[e._v("说明文档: 06-task.md")])])])])}],!1,null,"1ae51dcb",null);Tr.options.__file="web/src/task/task.vue";const jr=Tr.exports;var Sr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.hostSave()):null}}},[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content"},[s("div",{staticClass:"etable"},[s("table",{staticClass:"elecTable",class:{"elecTable--disabled":!e.mitmhosteble.enable}},[s("caption",{staticClass:"elecTable_caption",class:{"elecTable--disabled":!e.mitmhosteble.enable}},[s("div",{staticClass:"eflex elecTable_caption--left"},[s("span",{attrs:{title:"按照下表进行解析(解析全部可使用单星号 *"}},[e._v("启用：")]),e._v(" "),s("checkbox",{attrs:{oCheck:e.mitmhosteble}})],1),e._v(" "),s("span",[e._v("MITM host - "+e._s(e.mitmhost.length))]),e._v(" "),s("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.mitmInit()}}})]),e._v(" "),e._m(0),e._v(" "),s("tbody",e._l(e.mitmhost,(function(t,i){return s("tr",{key:i,class:{"elecTable_tr--disabled":!t.enable}},[s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.host,expression:"host.host",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:t.host},on:{input:function(s){s.target.composing||e.$set(t,"host",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.note,expression:"host.note",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"备注信息（可省略"},domProps:{value:t.note},on:{input:function(s){s.target.composing||e.$set(t,"note",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("checkbox",{attrs:{oCheck:t}})],1),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("span",{staticClass:"icon--op cursor",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.mhostDel(i)}}})])])})),0),e._v(" "),s("tfoot",[s("tr",[s("td",{staticClass:"elecTable_add",attrs:{colspan:"4"},on:{click:function(t){return e.mitmhost.push({host:"",enable:!0})}}},[e._v("+")])])])])]),e._v(" "),s("p",{staticClass:"center"},[s("button",{staticClass:"elecBtn elecBtn--long",on:{click:function(t){return e.hostSave()}}},[e._v("保存列表")])]),e._v(" "),s("div",{staticClass:"mitmvflex"},[s("h4",{staticClass:"mitmtitle"},[e._v("自签根证书管理")]),e._v(" "),s("div",{staticClass:"eflex mitm_border"},[s("div",[s("label",{staticClass:"sfcrt_label"},[e._v("当前使用证书: ")]),s("span",{staticClass:"sfcrt_info"},[e._v(e._s(e.crtinfo.commonName))])]),e._v(" "),s("div",[s("label",{staticClass:"sfcrt_label"},[e._v("有效日期: ")]),s("span",{staticClass:"sfcrt_info"},[e._v(e._s(e.crtinfo.notBefore)+" 至 "+e._s(e.crtinfo.notAfter))])]),e._v(" "),s("div",{staticClass:"crtop_item",attrs:{title:"下载当前使用的根证书 rootCA.crt"},on:{click:function(t){return e.crtInstall()}}},[e._v("下载安装证书")])]),e._v(" "),s("div",{staticClass:"eflex mitm_border"},[s("label",{staticClass:"sfcrt_label"},[e._v("生成新的根证书:")]),e._v(" "),s("div",[s("label",{staticClass:"sfcrt_label"},[e._v("证书名称 ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newcrt.commonName,expression:"newcrt.commonName"}],staticClass:"sfcrt_input elecTable_input",attrs:{type:"text",name:"commonName",placeholder:"elecV2P (全英文字符)"},domProps:{value:e.newcrt.commonName},on:{input:function(t){t.target.composing||e.$set(e.newcrt,"commonName",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"eflex"},[s("label",{staticClass:"sfcrt_label"},[e._v("强制覆盖 ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newcrt.overwrite,expression:"newcrt.overwrite"}],staticClass:"echeckbox",attrs:{type:"checkbox",name:"overwrite"},domProps:{checked:Array.isArray(e.newcrt.overwrite)?e._i(e.newcrt.overwrite,null)>-1:e.newcrt.overwrite},on:{change:function(t){var s=e.newcrt.overwrite,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.newcrt,"overwrite",s.concat([null])):a>-1&&e.$set(e.newcrt,"overwrite",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.newcrt,"overwrite",n)}}})]),e._v(" "),s("button",{staticClass:"elecBtn",on:{click:function(t){return e.crtNew()}}},[e._v("生成")])]),e._v(" "),s("div",{staticClass:"eflex mitm_border"},[s("div",{staticClass:"eupload eupload--crt",attrs:{title:"根证书包含 rootCA.crt/rootCA.key 两部分"}},[s("input",{ref:"crtfiles",staticClass:"eupload_file eupload_file--crt",attrs:{type:"file",multiple:""},on:{change:function(t){return e.crtstoupload()}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.crtfiles.length,expression:"crtfiles.length"}],staticClass:"eupload_span"},[e._v(e._s(e.crtfilename))])]),e._v(" "),s("button",{staticClass:"elecBtn w220 emargin",on:{click:function(t){return e.crtUpload()}}},[e._v("开始上传")])]),e._v(" "),s("div",{staticClass:"eflex mitm_border"},[s("div",{staticClass:"crtop_item",attrs:{title:"清空 ANYPROXY temp cache 文件夹"},on:{click:function(t){return e.cacheClear()}}},[e._v("清空缓存文件")]),e._v(" "),s("div",{staticClass:"crtop_item",attrs:{title:"删除由根证书签发的其他域名证书"},on:{click:function(t){return e.crtClear()}}},[e._v("清空其他域名证书")])])])]),e._v(" "),e._m(1)])};Sr._withStripped=!0;const Or={name:"mitm",props:[],data:()=>({header:"MITM",crtfiles:[],mitmhost:[],newcrt:{commonName:"elecV2P",overwrite:!1},crtinfo:{},mitmhosteble:{enable:!0},icon:Jn}),components:{checkbox:ta},created(){this.mitmInit()},computed:{crtfilename(){let e=[];for(let t=0;t<this.crtfiles.length;t++)e.push(this.crtfiles[t].name);return e.join(", ")}},methods:{mitmInit(){const e=this.$message.loading("正在获取 mitmhost 列表...",0);this.$axios.get("/data?type=mitmhost").then((e=>{e.data.host&&(this.mitmhost=[],e.data.host.forEach((e=>{switch(this.$sType(e)){case"string":this.mitmhost.push({host:e,enable:!0});break;case"object":!1!==e.enable&&(e.enable=!0),this.mitmhost.push(e)}}))),this.mitmhosteble.enable=!1!==e.data.enable,e.data.crtinfo&&0===e.data.crtinfo.rescode?this.crtinfo=e.data.crtinfo:this.crtinfo={commonName:"没有检测到相关证书(可能是 ANYPROXY 尚未开启)",notBefore:"无",notAfter:"无"},this.$message.success("成功获取 mitmhost 列表 "+this.mitmhost.length)})).catch((e=>{this.$message.error("获取 mitmhost 数据失败 "+e.message),console.error("获取 mitmhost 数据失败",e)})).finally(e)},crtstoupload(){this.crtfiles=this.$refs.crtfiles.files},crtUpload(){if(-1===this.crtfilename.indexOf("rootCA.crt")||-1===this.crtfilename.indexOf("rootCA.key"))return void this.$message.error("根证书应该包含 rootCA.crt/rootCA.key 两部分");let e=new FormData;for(let t=0;t<this.crtfiles.length;t++)e.append("crt",this.crtfiles[t]);this.$axios.post("/crt",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e.data,e.status),0===e.data.rescode?(this.$message.success("上传成功 "+e.data.message+"\n将在 ANYPROXY 重启后自动应用"),this.crtfiles="",this.$refs.crtfiles.value=""):this.$message.success("上传失败 "+e.data.message)})).catch((()=>{this.$message.error("上传失败 FAILURE!!")}))},crtClear(){if(confirm("清空由之前根证书已签发的所有证书？")){const e=this.$message.loading("证书清除中...",0);this.$axios.put("/crt",{op:"clearcrt"}).then((e=>{this.$message.success("清除完成",e.data.message)})).catch((e=>{this.$message.error("操作失败",e.message),console.error(e)})).finally(e)}},crtInstall(){0===this.crtinfo.rescode?window.open("/crt"):this.$message.error("当前并没有证书可供下载，可能是 ANYPROXY 尚未开启")},crtNew(){if(!this.newcrt.commonName)return void this.$message.error("请先输入证书名称");const e=this.$message.loading("证书生成中...",0);this.$axios.put("/crt",{op:"new",data:this.newcrt}).then((e=>{0===e.data.rescode?this.$message.success("成功生成新的根证书\n"+e.data.message+"\n将在 ANYPROXY 重启后自动应用"):this.$message.success("自签根证书生成失败\n"+e.data.message)})).catch((e=>{this.$message.error("操作失败 "+e.message),console.error(e)})).finally(e)},hostSave(){let e=0,t=!1,s=this.mitmhost.filter((s=>{if(s.host)return s.enable&&(e++,"*"===s.host&&(t=!0)),!0}));if(confirm(`共 ${e}/${s.length} 个 mitmhost 将被保存，${this.mitmhosteble.enable?t?"包含单独 * 项，将解析所有域名，":"":"但不启用，"}确定保存？`)){this.mitmhost=s;const e=this.$message.loading("mitmhost 上传保存中...",0);this.$axios.put("/data",{type:"mitmhost",data:this.mitmhost,mitmhostenable:this.mitmhosteble.enable}).then((e=>{0===e.data.rescode?this.$message.success("保存成功",e.data.message):this.$message.error("mitmhost 保存失败",e.data.message)})).catch((e=>{this.$message.error("mitmhost 保存失败",e.message),console.error("mitmhost 保存失败",e)})).finally(e)}},cacheClear(){const e=this.$message.loading("清空 ANYPROXY temp cache 文件夹中...",0);this.$axios.delete("/tempcaches").then((e=>{console.debug("清空 ANYPROXY temp cache 返回结果",e.data),0===e.data.rescode?this.$message.success("清空完成",e.data.message):this.$message.error("清空失败",e.data.message)})).catch((e=>{this.$message.error("清空失败",e.message),console.error(e)})).finally(e)},mhostDel(e){this.$delete(this.mitmhost,e)}}};var Nr=qn(Or,Sr,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"elecTable_th minw320"},[e._v("解析域名")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v("备注")]),e._v(" "),s("th",{staticClass:"elecTable_th elecTable_th--enable"},[e._v("启用")]),e._v(" "),s("th",{staticClass:"elecTable_th minw62"},[e._v("操作")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("ul",{staticClass:"footer_tip"},[s("li",[s("b",[e._v("请妥善管理好自己的自签证书，不要使用未知来源的根证书")])]),e._v(" "),s("li",[s("b",[e._v("在使用 MITM 相关功能前，请务必事先了解一下相关的风险")])]),e._v(" "),s("li",[e._v("各个系统的证书安装与信任 参考: "),s("a",{attrs:{href:"https://github.com/alibaba/anyproxy/tree/master/docs-src/cn",target:"_blank"}},[e._v("此页面")]),e._v(" 的证书配置相关部分")]),e._v(" "),s("li",[e._v("生成或上传新的根证书在重启后生效，需要重新下载安装和信任")]),e._v(" "),s("li",[e._v("经常使用 ANYPORXY 代理会产生大量缓存文件，请定期进行清理")])])])}],!1,null,"222f57cb",null);Nr.options.__file="web/src/mitm/mitm.vue";const Er=Nr.exports;var Ar=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content"},[s("div",{staticClass:"etable"},[s("table",{staticClass:"elecTable",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.filterSave()):null}}},[s("caption",{staticClass:"elecTable_caption"},[s("span",[e._v("filter.list - "+e._s(e.lists.length))]),e._v(" "),s("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.cfInit()}}})]),e._v(" "),e._m(0),e._v(" "),s("tbody",e._l(e.lists,(function(t){var i=t.data,n=t.index;return s("tr",{key:"filter"+n},[s("td",{staticClass:"elecTable_td"},[s("select",{directives:[{name:"model",rawName:"v-model",value:i[0],expression:"data[0]"}],staticClass:"elecTable_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(i,0,t.target.multiple?s:s[0])}}},[s("option",[e._v("DOMAIN")]),e._v(" "),s("option",[e._v("DOMAIN-SUFFIX")]),e._v(" "),s("option",[e._v("IP-CIDR")])])]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:i[1],expression:"data[1]",modifiers:{trim:!0}}],staticClass:"elecTable_input",domProps:{value:i[1]},on:{input:function(t){t.target.composing||e.$set(i,1,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("td",{staticClass:"elecTable_td"},[s("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.$set(e.orglist[n],"status",-1)}}})])])})),0),e._v(" "),s("tfoot",[s("tr",[s("td",{staticClass:"elecTable_add",attrs:{colspan:"3"},on:{click:function(t){return e.orglist.push({data:["DOMAIN",""],index:e.orglist.length,status:1})}}},[e._v("+")])])])])]),e._v(" "),s("p",{staticClass:"center"},[s("button",{staticClass:"elecBtn elecBtn--long",on:{click:function(t){return e.filterSave()}}},[e._v("保存当前列表")])])]),e._v(" "),s("footer",{staticClass:"footer"},[s("ul",[s("li",[e._v("该列表用于客户端分流（filter）订阅")]),e._v(" "),s("li",[s("span",[e._v("订阅地址：")]),s("strong",[s("a",{attrs:{href:"/filter",target:"_blank"}},[e._v(e._s(e.homepage)+"/filter")])])])])])])};Ar._withStripped=!0;var Pr=qn({name:"filter",data:()=>({icon:Jn,header:"客户端订阅分流列表",homepage:location.origin,orglist:[]}),created(){this.cfInit()},computed:{lists(){return this.orglist.filter((e=>-1!==e.status))}},methods:{cfInit(){const e=this.$message.loading("正在获取 filter 列表...",0);this.$axios.get("/data?type=filter").then((e=>{let t=e.data,s=[];t&&t.split(/\n|\r/).forEach((e=>{if(3===e.split(",").length&&!/^(#|\[)/.test(e)){let t=e.split(",");s.push({data:[t[0],t[1]],index:s.length,status:0})}})),this.orglist=s,this.$message.success("成功获取 filter 列表 "+this.orglist.length)})).catch((e=>{this.$message.error("获取 filter 列表失败",e.message),console.error("获取 filter 数据失败",e)})).finally(e)},filterSave(){let e=[];if(e=this.lists.filter((e=>e.data[1]&&/^(DOMAIN(-SUFFIX)?|IP-CIDR)$/.test(e.data[0]))),this.lists.length-e.length)return void this.$message.error("部分规则为空，请填写完成或删除后再进行保存");e=this.lists.map((e=>e.data));const t=this.$message.loading("filter 列表保存中...",0);this.$axios.post("/filterlist",{filterlist:e}).then((e=>{this.$message.success("保存成功",e.data.message)})).catch((e=>{this.$message.error("保存失败",e.message),console.error(e)})).finally(t)}}},Ar,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v("匹配方式")]),e._v(" "),s("th",{staticClass:"elecTable_th"},[e._v("匹配内容")]),e._v(" "),s("th",{staticClass:"elecTable_th minw62"},[e._v("操作")])])])}],!1,null,null,null);Pr.options.__file="web/src/cfilter/cfilter.vue";const Ir=Pr.exports;var Fr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),e._m(0),e._v(" "),s("footer",{staticClass:"footer eflex"},[s("a",{attrs:{href:"https://github.com/elecV2/elecV2P",target:"_blank"}},[s("i",{staticClass:"icon icon-github",attrs:{"aria-label":"icon: github"}},[s("svg",{attrs:{viewBox:"64 64 896 896","data-icon":"github",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[s("path",{attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}})])]),e._v(" Github ")]),e._v(" "),s("a",{attrs:{href:"https://t.me/elecV2",target:"_blank"}},[s("i",{staticClass:"icon icon-robot",attrs:{"aria-label":"icon: robot"}},[s("svg",{attrs:{viewBox:"64 64 896 896","data-icon":"robot",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[s("path",{attrs:{d:"M300 328a60 60 0 1 0 120 0 60 60 0 1 0-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 1 0 120 0 60 60 0 1 0-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}})])]),e._v(" Telegram ")])])])};Fr._withStripped=!0;var Dr=qn({name:"about",data:()=>({header:"ABOUT"})},Fr,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"content"},[s("div",{staticClass:"about"},[s("h4",{staticClass:"about_title"},[e._v("简介")]),e._v(" "),s("p",[e._v("elecV2P - customize personal network.")]),e._v(" "),s("p",[e._v("elecV2P 是一款基于 NodeJS，可通过 JS 修改网络请求，以及定时运行脚本或 SHELL 指令的网络工具。")]),e._v(" "),s("br"),e._v(" "),s("p",[e._v("项目地址："),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P",target:"_blank"}},[e._v("https://github.com/elecV2/elecV2P")]),s("br"),e._v("说明文档："),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs",target:"_blank"}},[e._v("https://github.com/elecV2/elecV2P-dei/tree/master/docs")])]),e._v(" "),s("h4",{staticClass:"about_title"},[e._v("功能")]),e._v(" "),s("ul",[s("li",[e._v("查看/修改 网络请求 (MITM)")]),e._v(" "),s("li",[e._v("定时执行 JS/SHELL 脚本")]),e._v(" "),s("li",[e._v("FEED/IFTTT/自定义 通知")]),e._v(" "),s("li",[e._v("EFSS 基础文件管理")])]),e._v(" "),s("h4",{staticClass:"about_title"},[e._v("开源计划")]),e._v(" "),s("p",[e._v("目前属于半开源状态，有些功能和文档可能还不完善，等逐步稳定，或准备弃坑后^_^，会全部公开。")]),e._v(" "),s("p",[e._v("基本使用的话，后台和前端的代码都是可以全部看到的。本项目的初衷是为了个人学习，如果你在使用中有任何问题，或觉得可以改善的地方，欢迎一起交流 "),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P/issues",target:"_blank"}},[e._v("open a issue")]),e._v("。")]),e._v(" "),s("h4",{staticClass:"about_title"},[e._v("贡献/参考")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/alibaba/anyproxy",target:"_blank"}},[e._v("anyproxy")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/axios/axios",target:"_blank"}},[e._v("axios")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/cheeriojs/cheerio",target:"_blank"}},[e._v("cheerio")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://expressjs.com",target:"_blank"}},[e._v("express")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/merencia/node-cron",target:"_blank"}},[e._v("node-cron")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/dylang/node-rss",target:"_blank"}},[e._v("node-rss")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://pm2.keymetrics.io/",target:"_blank"}},[e._v("pm2")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("vue")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/mauricius/vue-draggable-resizable",target:"_blank"}},[e._v("vue-draggable-resizable")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/ajaxorg/ace",target:"_blank"}},[e._v("ace")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/cthackers/adm-zip",target:"_blank"}},[e._v("adm-zip")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.antdv.com",target:"_blank"}},[e._v("Ant Design Vue")])])]),e._v(" "),s("h5",{staticClass:"about_tip"},[s("i",[e._v("* 本项目仅供学习交流使用. Don't be evil. "),s("small",[e._v("(Because I am already one)")])])])])])}],!1,null,"6ff7a987",null);Dr.options.__file="web/src/about/about.vue";const Hr=Dr.exports;var Rr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),s("main",{staticClass:"content"},[e._m(0),e._v(" "),s("div",{staticClass:"todo"},[s("h2",{directives:[{name:"show",rawName:"v-show",value:!e.tododata,expression:"!tododata"}],staticClass:"todotitle",on:{click:e.todoget}},[e._v("查看 Todo-Done-Project")]),e._v(" "),s("div",{domProps:{innerHTML:e._s(e.tododata)}})])]),e._v(" "),e._m(1)])};Rr._withStripped=!0;var Mr=qn({name:"donation",data:()=>({header:"打赏鼓励",tododata:""}),methods:{todoget(){if(this.tododata)return;const e=this.$message.loading("获取 todo lists 中...",0);this.$axios.get("https://raw.ev2.workers.dev/elecV2/elecV2P/master/Todo.md").then((e=>{this.$message.success("获取成功"),this.tododata=e.data})).catch((e=>{this.$message.error("获取失败 "+e.message),console.error(e),this.tododata="点击前往：<a target='_blank' href='https://github.com/elecV2/elecV2P/blob/master/Todo.md'>https://github.com/elecV2/elecV2P</a> 查看"})).finally(e)}}},Rr,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"donation"},[s("p",[e._v("如果你觉得本项目还不错的话，"),s("a",{attrs:{href:"https://github.com/elecV2/elecV2P",target:"_blank"}},[e._v("给个 Star")]),e._v(" ，或者打赏支持一下。")]),e._v(" "),s("div",{staticClass:"donationpic"},[s("img",{staticClass:"donationpic_item",attrs:{alt:"wechat",src:"https://elecv2.github.io/src/wechat.png"}}),e._v(" "),s("img",{staticClass:"donationpic_item",attrs:{alt:"alipay",src:"https://elecv2.github.io/src/alipay.png"}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer eflex eflex--wrap"},[s("span",[e._v("BTC: 1GtN4T1GB4YUf4YWynqr1Vgv4sdgLepoo9")]),e._v(" "),s("span",[e._v("ETH: 0x2455850dAC2f44309E3e208E5ffAF5945308E76a")])])}],!1,null,null,null);Mr.options.__file="web/src/donation/donation.vue";const zr=Mr.exports;var Ur=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hold",class:{hide:e.bIsHide}},[s("h4",{staticClass:"hold_title"},[e._v("$HOLD: "+e._s(e.title))]),e._v(" "),s("div",{staticClass:"hold_edit"},[s("div",{staticClass:"hold_left"},[e.request?s("div",{staticClass:"hold_request"},[s("div",{staticClass:"hold_request_flex"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.request.method,expression:"request.method"}],staticClass:"elecTable_select header_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.request,"method",t.target.multiple?s:s[0])}}},[s("option",[e._v("GET")]),e._v(" "),s("option",[e._v("POST")]),e._v(" "),s("option",[e._v("PUT")]),e._v(" "),s("option",[e._v("DELETE")])]),e._v(" "),s("label",{staticClass:"header_label"},[e._v("HOST : ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.request.hostname,expression:"request.hostname"}],staticClass:"elecTable_input hostname_input",domProps:{value:e.request.hostname},on:{input:function(t){t.target.composing||e.$set(e.request,"hostname",t.target.value)}}}),e._v(" "),s("label",{staticClass:"header_label"},[e._v(" : ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.request.port,expression:"request.port"}],staticClass:"elecTable_input port_input",domProps:{value:e.request.port},on:{input:function(t){t.target.composing||e.$set(e.request,"port",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"hold_request_flex"},[s("label",{staticClass:"header_label"},[e._v("PATH : ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.request.path,expression:"request.path"}],staticClass:"elecTable_input path_input",domProps:{value:e.request.path},on:{input:function(t){t.target.composing||e.$set(e.request,"path",t.target.value)}}})])]):e._e(),e._v(" "),s("div",{staticClass:"hold_header"},[s("h4",{staticClass:"hold_title"},[e._v("header"),s("span",{staticClass:"icon icon-interaction",attrs:{"aria-label":"icon: interaction"},on:{click:function(t){e.bIsTheader=!e.bIsTheader}}},[s("svg",{attrs:{viewBox:"64 64 896 896","data-icon":"interaction",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[s("path",{attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}})])])]),e._v(" "),e.bIsTheader?s("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.strheader,expression:"strheader",modifiers:{lazy:!0}}],staticClass:"editor_textarea header_text",domProps:{value:e.strheader},on:{change:function(t){e.strheader=t.target.value}}}):s("div",e._l(e.header,(function(t,i){return s("span",{staticClass:"header_item"},[s("label",{staticClass:"header_label",attrs:{title:i}},[e._v(e._s(i)+":")]),e._v(" "),s("span",{staticClass:"button_delete",on:{click:function(t){return e.headerDelete(i)}}},[e._v("X")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.header[i],expression:"header[key]"}],staticClass:"elecTable_input header_input",domProps:{value:e.header[i]},on:{input:function(t){t.target.composing||e.$set(e.header,i,t.target.value)}}})])})),0)])]),e._v(" "),s("div",{staticClass:"hold_body"},[s("h4",{staticClass:"hold_title"},[e._v("body")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.body,expression:"body",modifiers:{lazy:!0}}],staticClass:"editor_textarea body_text",domProps:{value:e.body},on:{change:function(t){e.body=t.target.value}}})])]),e._v(" "),s("p",{staticClass:"hold_bcont center"},[s("button",{staticClass:"elecBtn hold_button",on:{click:e.holdDone}},[e._v("完成")]),e._v(" "),e.request?s("button",{staticClass:"elecBtn hold_button",on:{click:e.reject}},[e._v("直接返回当前数据")]):e._e()])])};Ur._withStripped=!0;var Lr=qn({name:"hold",data:()=>({title:"waiting hold data",request:null,header:{},body:"hello elecV2P",bIsHide:!0,bIsTheader:!1}),computed:{strheader:{get(){return JSON.stringify(this.header,null,4)},set(e){try{this.header=JSON.parse(e)}catch{console.log("hold header string is not a json"),this.$message.error("header 内容并不是正确的 JSON 格式",10)}}}},created(){this.$wsrecv.add("hold",(e=>{"over"===e?(this.bIsHide=!0,this.request=null,this.header=null,this.body=null):(this.title=e.title,this.request=e.request||null,this.header=e.header||{},this.body=e.body,this.bIsHide=!1)}))},methods:{holdDone(){const e={header:this.header,body:this.body};this.request&&(this.request.path=encodeURI(this.request.path),e.request=this.request),this.$wsrecv.send("hold",e),this.bIsHide=!0},reject(){const e={reject:!0,header:this.header,body:this.body};this.$wsrecv.send("hold",e),this.bIsHide=!0},headerDelete(e){this.$delete(this.header,e)}}},Ur,[],!1,null,"1476a511",null);Lr.options.__file="web/src/utils/hold.vue";const Vr=Lr.exports;var Br=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message"},e._l(e.msgs,(function(t,i){return s("div",{key:i,staticClass:"message_item",style:{textAlign:t.align}},[s("span",{staticClass:"message_type icon",domProps:{innerHTML:e._s(e.icon[t.type])}}),e._v(" "),s("span",{staticClass:"message_text",class:{cursor:t.url},attrs:{title:t.url},on:{click:function(s){return e.$uApi.open(t.url)}}},[e._v(e._s(t.text))]),e._v(" "),s("span",{staticClass:"message_remove",on:{click:function(t){return e.msgRemove(i)}}},[e._v("X")])])})),0)};Br._withStripped=!0;var Gr=qn({name:"message",data:()=>({msgs:{},icon:Jn}),computed:{},created(){Ln.prototype.$message={success:(...e)=>this.msgShow("success",this.formMsg(e)),error:(...e)=>this.msgShow("error",this.formMsg(e)),loading:(...e)=>this.msgShow("loading",this.formMsg(e)),close:e=>{e?this.msgRemove(e):this.msgs={}}},this.$wsrecv&&this.$wsrecv.add("message",(e=>{if("object"===La(e))switch(e.type){case"success":case"error":case"loading":this.msgShow(e.type,this.formMsg(e.data));break;case"close":e.data?this.msgRemove(e.data):this.msgs={};break;default:this.msgShow("error",{msg:"暂不支持的通知类型: "+e.type,secd:10})}else this.msgShow("success",this.formMsg(e))}))},methods:{formMsg(e){if(0===e.length)return{msg:""};if("array"!==La(e))return{msg:Ba(e)};if(1===e.length)return{msg:Ba(e[0])};let t,s,i,n,a=e.pop();return Number.isFinite(a)?t=a:"object"===La(a)&&(a.secd||a.url||a.mid||a.align)?(t=a.secd,s=a.url,i=a.mid,n=a.align):e.push(a),{msg:e.map((e=>Ba(e))).join(" "),secd:t,url:s,mid:i,align:n}},msgShow(e,{msg:t,secd:s,url:i,mid:n=qa(),align:a}){return void 0!==t&&""!==t||(t="a empty message",n="empty"),Number.isFinite(s)||(s=(t.match(/\W/g)||t).length/5+(3*Object.keys(this.msgs).length||5)),this.$set(this.msgs,n,{text:t,type:e,secd:s,url:i,align:a}),0!==s&&(this.msgs[n].sTout=setTimeout(this.msgRemove,1e3*s,n)),()=>{this.msgRemove(n)}},msgRemove(e){this.msgs[e]&&(clearTimeout(this.msgs[e].sTout),this.$delete(this.msgs,e))}}},Br,[],!1,null,"4bc91fa5",null);Gr.options.__file="web/src/utils/message.vue";const Kr=Gr.exports;var Jr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"evui"},e._l(e.draglist,(function(t,i){return s("VueDragResize",{key:i,attrs:{className:"ediv",dragHandle:".ediv_title--name",parent:!0,"prevent-deactivation":!1,active:t.active,w:t.width,h:t.height,x:t.left,y:t.top,z:t.z,resizable:t.resizable,draggable:t.draggable,handles:["tl","tr","bl","br"],"lock-aspect-ratio":!1},on:{deactivated:function(e){t.z=1},activated:function(e){t.z=2},resizestop:function(t){return e.updateVal(arguments,i)},dragstop:function(t){return e.updateVal(arguments,i)}}},[s("h3",{staticClass:"ediv_title",style:t.style.title,on:{click:function(e){t.z=2}}},[s("span",{staticClass:"ediv_title--name"},[e._v(e._s(t.title))]),e._v(" "),s("span",{staticClass:"ediv_title--close",on:{click:function(t){return e.remove(i)}}},[e._v("x")])]),e._v(" "),s("div",{staticClass:"ediv_content",style:t.style.content,domProps:{innerHTML:e._s(t.content)},on:{click:function(t){return e.evuiDelegate(t,i)}}}),e._v(" "),t.cbable?s("div",{staticClass:"ediv_btncontainer"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cbdata,expression:"ediv.cbdata"}],staticClass:"elecTable_input ediv_cbdata",style:t.style.cbdata,attrs:{placeholder:t.cbhint},domProps:{value:t.cbdata},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.cbsubmit(i):null},input:function(s){s.target.composing||e.$set(t,"cbdata",s.target.value)}}}),e._v(" "),s("button",{staticClass:"elecBtn ediv_cbbtn",style:t.style.cbbtn,on:{click:function(t){return e.cbsubmit(i)}}},[e._v(e._s(t.cblabel))])]):e._e()])})),1)};Jr._withStripped=!0;const qr={name:"evui",components:{VueDragResize:$r()},data:()=>({init:{title:"elecV2P 显示窗口",top:0,left:0,width:620,height:360,z:1,active:!0,resizable:!1,draggable:!0,content:"<h1>暂时没有添加任何内容</h1><p>关于 $evui 的使用可参考：<a href='https://github.com/elecV2/elecV2P-dei/tree/master/docs/04-JS.md' target='_blank'>说明文档 $evui 部分</a></p>",style:{content:"font-size: 15px"},cbable:!1,cbdata:"",cblabel:"提交",cbhint:"输入返回给后台的数据"},script:"",draglist:{}}),created(){Ln.prototype.$evui=this.neweu,this.$wsrecv&&this.$wsrecv.add("evui",(e=>{let t=this.$sJson(e);if(t)switch(t.data&&t.data.script&&(this.script=t.data.script),t.type){case"neweu":this.neweu(t.data);break;case"close":case"delete":this.draglist[t.id]&&(this.$message.success("收到服务器端关闭",this.draglist[t.id].title,"evui 界面的命令",t.message&&"\n附带信息: "+t.message),this.remove(t.id));break;case"contentadd":this.$set(this.draglist[t.id],"content",this.draglist[t.id].content+this.$sString(t.data));break;case"content":this.$set(this.draglist[t.id],"content",this.$sString(t.data));break;case"cbdataadd":let e=this.draglist[t.id].cbdata+"\n"+this.$sString(t.data);this.$set(this.draglist[t.id],"cbdata",e);break;default:this.$set(this.draglist[t.id],"cbdata",this.$sString(t.data))}else this.$message.error("evui 输送的数据有误")}))},watch:{script(e){this.$uApi.injectJs(e)}},methods:{updateVal({...e},t){let s={left:e[0],top:e[1]};void 0!==e[2]&&void 0!==e[3]&&(s.width=e[2],s.height=e[3]),Object.assign(this.draglist[t],s)},neweu(e={}){let t=e.id||this.$uStr.euid();(e={...this.init,...e}).top=e.top||(document.body.clientHeight-Number(e.height))/2,e.left=e.left||(document.body.clientWidth-Number(e.width))/2,e.top<0&&(e.top=0),e.left<0&&(e.left=0),e.content&&(e.content=this.$sString(e.content)),e.cbdata&&(e.cbdata=this.$sString(e.cbdata)),"object"!==this.$sType(e.style)&&(e.style={content:e.style}),e.script&&(this.script=e.script),this.$set(this.draglist,t,e)},remove(e){e?(this.$delete(this.draglist,e),this.$wsrecv&&this.$wsrecv.send(e,"close")):this.$message.error("a id of the evui is expect")},cbsubmit(e){this.$message.success(this.draglist[e].title,"send data:\n",this.draglist[e].cbdata),this.$wsrecv&&this.$wsrecv.send(e,this.draglist[e].cbdata)},evuiDelegate(e,t){e&&e.target.dataset.method&&this.draglist[t].methods&&this.draglist[t].methods[e.target.dataset.method]&&this.draglist[t].methods[e.target.dataset.method]()}}};var Wr=qn(qr,Jr,[],!1,null,null,null);Wr.options.__file="web/src/utils/evui.vue";var Yr=qn({name:"app",data(){return{logo:Bn,icon:Jn,title:"elecV2P",collapsed:window.innerWidth<960,sidermobile:!0,currentpanel:"overview",islangzh:/^zh/.test(this.$uApi.getLang()),menulist:{overview:Object.create(null),rules:Object.create(null),rewrite:Object.create(null),jsmanage:Object.create(null),task:Object.create(null),mitm:Object.create(null),cfilter:Object.create(null),setting:Object.create(null),about:Object.create(null),donation:Object.create(null)}}},created(){let e=location.hash.slice(1).toLowerCase();this.currentpanel=this.menulist[e]?e:"overview";let t=this.$sJson(this.$uApi.store.get("menunav"));t?this.menulist=t:this.islangzh&&(this.menulist.overview.name="基础信息",this.menulist.rewrite.name="重写请求",this.menulist.jsmanage.name="脚本管理",this.menulist.task.name="定时任务",this.menulist.cfilter.name="分流列表",this.menulist.setting.name="设置相关",this.menulist.about.name="简介说明")},components:{overview:Xn,rules:na,rewrite:la,jsmanage:xa,setting:br,task:jr,mitm:Er,cfilter:Ir,about:Hr,donation:zr,hold:Vr,message:Kr,evui:Wr.exports},computed:{navlist(){let e=Object.create(null);for(let t in this.menulist)!1!==this.menulist[t].show&&(e[t]=this.menulist[t]);return e}},methods:{nav(e){this.currentpanel=e,location.hash="#"+e,this.sidermobile||(this.sidermobile=!0)},edelegate(e){if("nav"===e.target.dataset.method){let t=e.target.dataset.panel||e.target.dataset.param;t&&this.nav(t)}},menunav(e,t=!1){if(!e)return void console.debug("menu nav list is expect");if(!t&&JSON.stringify(e)===JSON.stringify(this.menulist))return void console.debug("same menu nav, no need to update");let s=this.$uApi.store.getCache("bSponsor"),i={...this.menulist};for(let t in e)if(i[t]){switch(t){case"donation":if(s)break;case"setting":e[t].show=!0}i[t]=e[t]}this.menulist=i,this.$uApi.store.set("menunav",JSON.stringify(i))}}},Vn,[],!1,null,"cad49406",null);Yr.options.__file="web/src/App.vue";const Xr=Yr.exports;var Zr=s(669),Qr=s.n(Zr);const eo={reconnectnum:5,reconnectgap:30,wsrecv:{add(e,t){if(e&&"function"==typeof t)return this.lists[e]?this.lists[e].push(t):(this.lists[e]=[t],function(e){if(eo.wsrecv.send)eo.wsrecv.send("ready",e);else{const t={times:5,gap:3};t.tmpInt=setInterval((()=>{eo.wsrecv.send?(eo.wsrecv.send("ready",e),clearInterval(t.tmpInt),delete t.tmpInt):t.times<=0?(console.debug("wsrecv no send method yet"),clearInterval(t.tmpInt),delete t.tmpInt):t.times--}),1e3*t.gap)}}(e)),this.connected?void 0:"websocket 尚未连接";console.error("websocket recver and a callbak function is expect")},dispatch(e,t){this.lists.minishell&&this.lists.minishell.forEach((s=>s({type:e,data:t}))),"minishell"!==e&&this.lists[e]?this.lists[e].forEach((e=>e(t))):this.lists.minishell||console.debug("there are no recver",e,"to render data",t)},lists:{},connect(){to()}},upstatus(e){this.wsrecv.lists.elecV2Pstatus&&this.wsrecv.lists.elecV2Pstatus.forEach((t=>t({clients:e})))}};async function to(){if(eo.wsrecv.connected)return void console.log("websocket 已连接");eo.trynum?eo.trynum++:eo.trynum=1,console.log(`[${Qa("websocket info")}][${Xa(null,1)}] 第 ${eo.trynum} 次尝试 websocket 连接中`),eo.upstatus(`第 ${eo.trynum} 次尝试连接中`);const e=location.origin.replace("http","ws")+"/elecV2P"+location.search,t=new WebSocket(e);t.onopen=()=>{console.log(`[${Qa("websocket info")}][${Xa(null,1)}] WebSocket connected: ${e}`),eo.trynum=0,eo.wsrecv.connected=!0,Object.keys(eo.wsrecv.lists).forEach((e=>{t.send(JSON.stringify({type:"ready",data:e})),"jsmanage"!==e&&"tasklog"!==e||eo.wsrecv.lists[e].forEach((e=>e(`[${Qa("websocket info")}][${Xa(null,1)}] websocket 已连接`)))})),eo.wsrecv.send=(e,s)=>{t.send(JSON.stringify({type:e,data:s,id:eo.wsrecv.id}))}},t.onmessage=e=>{try{e=JSON.parse(e.data),eo.wsrecv.dispatch(e.type,e.data)}catch(e){console.error("websocket data error:",e)}},t.onclose=e=>{console.error("WebSocket closed",e),eo.wsrecv.connected=!1,1008===e.code||4003===e.code?(eo.upstatus("无访问权限"),eo.wsrecv.dispatch("message",{type:"error",data:[`websocket 连接失败\n${e.reason}`]})):(eo.upstatus("已断开"),function(){if(eo.trynum>=eo.reconnectnum){let e="连接失败，请检查网络后尝试刷新页面";return console.log(`[${Qa("websocket error")}][${Xa(null,1)}] websocket ${e}`),eo.upstatus(e),eo.wsrecv.dispatch("tasklog",`[${Qa("websocket error")}][${Xa(null,1)}] websocket ${e}`),void eo.wsrecv.dispatch("jsmanage",`[${Qa("websocket error")}][${Xa(null,1)}] websocket ${e}`)}console.log(`[${Qa("websocket info")}][${Xa(null,1)}] 客户端将在 ${eo.reconnectgap} 秒后尝试第 ${eo.trynum+1}/${eo.reconnectnum} 次重连`),eo.upstatus(`已断开，${eo.reconnectgap} 秒后尝试第 ${eo.trynum+1}/${eo.reconnectnum} 次重连 ${Xa().split(" ").pop()}`),eo.wsrecv.dispatch("tasklog",`[${Qa("websocket error")}][${Xa(null,1)}] websocket 已断开，将在 ${eo.reconnectgap} 秒后尝试重连（如果不是手动断开或网络问题，可能是某个脚本运行出错，导致 elecV2P 重启，请根据 errors.log 和当前时间，找到相应脚本进行修改）`),eo.wsrecv.dispatch("jsmanage",`[${Qa("websocket error")}][${Xa(null,1)}] websocket 已断开，将在 ${eo.reconnectgap} 秒后尝试重连（如果不是手动断开或网络问题，可能是某个脚本运行出错，导致 elecV2P 重启，请根据 errors.log 和当前时间，找到相应脚本进行修改）`),setTimeout((()=>{to()}),1e3*eo.reconnectgap)}())},t.onerror=e=>{console.debug("WebSocket error",e),eo.wsrecv.connected=!1}}eo.wsrecv.add("init",(e=>{e.secunset&&!Ea.get("secunset")&&(eo.wsrecv.dispatch("message",{type:"success",data:["当前 webUI 端口所有用户可访问，如部署在公网\n请务必前往 SETTING 界面限制可访问 IP",{url:"#setting",secd:0}]}),console.log(`[${Qa("elecV2P notify")}][${Xa(null,1)}] 当前 webUI 端口所有用户可访问，如部署在公网请务必前往 SETTING 限制可访问 IP`),Ea.set("secunset","true")),e.vernum?(eo.wsrecv.id=e.id,console.log(`[${Qa("elecV2P info")}][${Xa(null,1)}] 当前 elecV2P webUI 版本 361`),361<e.vernum&&(eo.wsrecv.dispatch("message",{type:"error",data:[`当前 webUI 版本低于后台 v${e.version}，可能正在使用缓存页面\n请点击该通知或使用 ctrl+F5 刷新当前页面\n(如果此提醒一直存在可能需要手动进行升级)`,{url:"reload"}]}),console.log(`[${Qa("elecV2P info")}][${Xa(null,1)}] 当前 elecV2P 后台版本 ${e.version}`)),eo.wsrecv.send("init","OK")):console.error(`[${Qa("elecV2P error")}][${Xa(null,1)}] 获取 elecV2P 后台版本号失败`)})),to();const so=eo.wsrecv;Ln.prototype.$axios=Qr(),Ln.prototype.$wsrecv=so,Ln.prototype.$sType=La,Ln.prototype.$sString=Ba,Ln.prototype.$sJson=Va,Ln.prototype.$sTime=Xa,Ln.prototype.$logHead=Qa,Ln.prototype.$uStr=t,Ln.prototype.$uApi=e,Ln.config.productionTip=!1,new Ln({el:"#app",render:e=>e(Xr)})})()})();